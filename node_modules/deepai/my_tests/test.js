const deepai = require('../index.js');
const fs = require('fs');

(async function(){
    console.log('starting test');
    deepai.setApiKey('297fafc6-83c6-4ba8-900e-803f4f1559b6');
    console.log('set api key');

    var result = await deepai.callStandardApi("content-moderation", {
        image: "https://api.deepai.org/result-view-input/f6036b06-79d2-46dc-bbb5-3f95c4272cdf/8951840/0"
    });
    console.log('result from file url:');
    console.log(JSON.stringify(result, null, 4));


    var result = await deepai.callStandardApi("people", {
        image: fs.createReadStream('/Users/kevin/Desktop/wardrobe_malfunction.jpg')
    });
    console.log('result from file stream upload:');
    console.log(JSON.stringify(result, null, 4));


    var result = await deepai.callStandardApi("people", {
        image: fs.readFileSync('/Users/kevin/Desktop/wardrobe_malfunction.jpg')
    });
    console.log('result from file buffer upload:');
    console.log(JSON.stringify(result, null, 4));



})();


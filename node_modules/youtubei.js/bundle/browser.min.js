/* eslint-disable */
var $w=Object.create;var qp=Object.defineProperty;var qw=Object.getOwnPropertyDescriptor;var Xw=Object.getOwnPropertyNames;var Qw=Object.getPrototypeOf,Zw=Object.prototype.hasOwnProperty;var s=(t,e)=>qp(t,"name",{value:e,configurable:!0});var eT=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),mt=(t,e)=>{for(var i in e)qp(t,i,{get:e[i],enumerable:!0})},tT=(t,e,i,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Xw(e))!Zw.call(t,n)&&n!==i&&qp(t,n,{get:()=>e[n],enumerable:!(o=qw(e,n))||o.enumerable});return t};var iT=(t,e,i)=>(i=t!=null?$w(Qw(t)):{},tT(e||!t||!t.__esModule?qp(i,"default",{value:t,enumerable:!0}):i,t));var z0=eT((d1,Zp)=>{var w0,T0,I0,k0,S0,C0,N0,E0,P0,M0,A0,V0,R0,Xp,dv,O0,B0,F0,tn,D0,L0,Y0,j0,U0,W0,J0,H0,G0,Qp;(function(t){var e=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(o){t(i(e,i(o)))}):typeof Zp=="object"&&typeof Zp.exports=="object"?t(i(e,i(Zp.exports))):t(i(e));function i(o,n){return o!==e&&(typeof Object.create=="function"?Object.defineProperty(o,"__esModule",{value:!0}):o.__esModule=!0),function(r,a){return o[r]=n?n(r,a):a}}s(i,"createExporter")})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])};w0=s(function(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(o,n);function r(){this.constructor=o}s(r,"__"),o.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)},"__extends"),T0=Object.assign||function(o){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(o[d]=n[d])}return o},I0=s(function(o,n){var r={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&n.indexOf(a)<0&&(r[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(o);d<a.length;d++)n.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(o,a[d])&&(r[a[d]]=o[a[d]]);return r},"__rest"),k0=s(function(o,n,r,a){var d=arguments.length,f=d<3?n:a===null?a=Object.getOwnPropertyDescriptor(n,r):a,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(o,n,r,a);else for(var _=o.length-1;_>=0;_--)(h=o[_])&&(f=(d<3?h(f):d>3?h(n,r,f):h(n,r))||f);return d>3&&f&&Object.defineProperty(n,r,f),f},"__decorate"),S0=s(function(o,n){return function(r,a){n(r,a,o)}},"__param"),C0=s(function(o,n,r,a,d,f){function h(ae){if(ae!==void 0&&typeof ae!="function")throw new TypeError("Function expected");return ae}s(h,"accept");for(var _=a.kind,b=_==="getter"?"get":_==="setter"?"set":"value",y=!n&&o?a.static?o:o.prototype:null,T=n||(y?Object.getOwnPropertyDescriptor(y,a.name):{}),k,N=!1,E=r.length-1;E>=0;E--){var R={};for(var D in a)R[D]=D==="access"?{}:a[D];for(var D in a.access)R.access[D]=a.access[D];R.addInitializer=function(ae){if(N)throw new TypeError("Cannot add initializers after decoration has completed");f.push(h(ae||null))};var j=(0,r[E])(_==="accessor"?{get:T.get,set:T.set}:T[b],R);if(_==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(k=h(j.get))&&(T.get=k),(k=h(j.set))&&(T.set=k),(k=h(j.init))&&d.push(k)}else(k=h(j))&&(_==="field"?d.push(k):T[b]=k)}y&&Object.defineProperty(y,a.name,T),N=!0},"__esDecorate"),N0=s(function(o,n,r){for(var a=arguments.length>2,d=0;d<n.length;d++)r=a?n[d].call(o,r):n[d].call(o);return a?r:void 0},"__runInitializers"),E0=s(function(o){return typeof o=="symbol"?o:"".concat(o)},"__propKey"),P0=s(function(o,n,r){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(o,"name",{configurable:!0,value:r?"".concat(r," ",n):n})},"__setFunctionName"),M0=s(function(o,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(o,n)},"__metadata"),A0=s(function(o,n,r,a){function d(f){return f instanceof r?f:new r(function(h){h(f)})}return s(d,"adopt"),new(r||(r=Promise))(function(f,h){function _(T){try{y(a.next(T))}catch(k){h(k)}}s(_,"fulfilled");function b(T){try{y(a.throw(T))}catch(k){h(k)}}s(b,"rejected");function y(T){T.done?f(T.value):d(T.value).then(_,b)}s(y,"step"),y((a=a.apply(o,n||[])).next())})},"__awaiter"),V0=s(function(o,n){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},a,d,f,h;return h={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function _(y){return function(T){return b([y,T])}}function b(y){if(a)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(r=0)),r;)try{if(a=1,d&&(f=y[0]&2?d.return:y[0]?d.throw||((f=d.return)&&f.call(d),0):d.next)&&!(f=f.call(d,y[1])).done)return f;switch(d=0,f&&(y=[y[0]&2,f.value]),y[0]){case 0:case 1:f=y;break;case 4:return r.label++,{value:y[1],done:!1};case 5:r.label++,d=y[1],y=[0];continue;case 7:y=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(y[0]===6||y[0]===2)){r=0;continue}if(y[0]===3&&(!f||y[1]>f[0]&&y[1]<f[3])){r.label=y[1];break}if(y[0]===6&&r.label<f[1]){r.label=f[1],f=y;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(y);break}f[2]&&r.ops.pop(),r.trys.pop();continue}y=n.call(o,r)}catch(T){y=[6,T],d=0}finally{a=f=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},"__generator"),R0=s(function(o,n){for(var r in o)r!=="default"&&!Object.prototype.hasOwnProperty.call(n,r)&&Qp(n,o,r)},"__exportStar"),Qp=Object.create?function(o,n,r,a){a===void 0&&(a=r);var d=Object.getOwnPropertyDescriptor(n,r);(!d||("get"in d?!n.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(o,a,d)}:function(o,n,r,a){a===void 0&&(a=r),o[a]=n[r]},Xp=s(function(o){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&o[n],a=0;if(r)return r.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&a>=o.length&&(o=void 0),{value:o&&o[a++],done:!o}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},"__values"),dv=s(function(o,n){var r=typeof Symbol=="function"&&o[Symbol.iterator];if(!r)return o;var a=r.call(o),d,f=[],h;try{for(;(n===void 0||n-- >0)&&!(d=a.next()).done;)f.push(d.value)}catch(_){h={error:_}}finally{try{d&&!d.done&&(r=a.return)&&r.call(a)}finally{if(h)throw h.error}}return f},"__read"),O0=s(function(){for(var o=[],n=0;n<arguments.length;n++)o=o.concat(dv(arguments[n]));return o},"__spread"),B0=s(function(){for(var o=0,n=0,r=arguments.length;n<r;n++)o+=arguments[n].length;for(var a=Array(o),d=0,n=0;n<r;n++)for(var f=arguments[n],h=0,_=f.length;h<_;h++,d++)a[d]=f[h];return a},"__spreadArrays"),F0=s(function(o,n,r){if(r||arguments.length===2)for(var a=0,d=n.length,f;a<d;a++)(f||!(a in n))&&(f||(f=Array.prototype.slice.call(n,0,a)),f[a]=n[a]);return o.concat(f||Array.prototype.slice.call(n))},"__spreadArray"),tn=s(function(o){return this instanceof tn?(this.v=o,this):new tn(o)},"__await"),D0=s(function(o,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(o,n||[]),d,f=[];return d={},h("next"),h("throw"),h("return"),d[Symbol.asyncIterator]=function(){return this},d;function h(N){a[N]&&(d[N]=function(E){return new Promise(function(R,D){f.push([N,E,R,D])>1||_(N,E)})})}function _(N,E){try{b(a[N](E))}catch(R){k(f[0][3],R)}}function b(N){N.value instanceof tn?Promise.resolve(N.value.v).then(y,T):k(f[0][2],N)}function y(N){_("next",N)}function T(N){_("throw",N)}function k(N,E){N(E),f.shift(),f.length&&_(f[0][0],f[0][1])}},"__asyncGenerator"),L0=s(function(o){var n,r;return n={},a("next"),a("throw",function(d){throw d}),a("return"),n[Symbol.iterator]=function(){return this},n;function a(d,f){n[d]=o[d]?function(h){return(r=!r)?{value:tn(o[d](h)),done:!1}:f?f(h):h}:f}},"__asyncDelegator"),Y0=s(function(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=o[Symbol.asyncIterator],r;return n?n.call(o):(o=typeof Xp=="function"?Xp(o):o[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(f){r[f]=o[f]&&function(h){return new Promise(function(_,b){h=o[f](h),d(_,b,h.done,h.value)})}}function d(f,h,_,b){Promise.resolve(b).then(function(y){f({value:y,done:_})},h)}},"__asyncValues"),j0=s(function(o,n){return Object.defineProperty?Object.defineProperty(o,"raw",{value:n}):o.raw=n,o},"__makeTemplateObject");var i=Object.create?function(o,n){Object.defineProperty(o,"default",{enumerable:!0,value:n})}:function(o,n){o.default=n};U0=s(function(o){if(o&&o.__esModule)return o;var n={};if(o!=null)for(var r in o)r!=="default"&&Object.prototype.hasOwnProperty.call(o,r)&&Qp(n,o,r);return i(n,o),n},"__importStar"),W0=s(function(o){return o&&o.__esModule?o:{default:o}},"__importDefault"),J0=s(function(o,n,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?o!==n||!a:!n.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(o):a?a.value:n.get(o)},"__classPrivateFieldGet"),H0=s(function(o,n,r,a,d){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?o!==n||!d:!n.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?d.call(o,r):d?d.value=r:n.set(o,r),r},"__classPrivateFieldSet"),G0=s(function(o,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof o=="function"?n===o:o.has(n)},"__classPrivateFieldIn"),t("__extends",w0),t("__assign",T0),t("__rest",I0),t("__decorate",k0),t("__param",S0),t("__esDecorate",C0),t("__runInitializers",N0),t("__propKey",E0),t("__setFunctionName",P0),t("__metadata",M0),t("__awaiter",A0),t("__generator",V0),t("__exportStar",R0),t("__createBinding",Qp),t("__values",Xp),t("__read",dv),t("__spread",O0),t("__spreadArrays",B0),t("__spreadArray",F0),t("__await",tn),t("__asyncGenerator",D0),t("__asyncDelegator",L0),t("__asyncValues",Y0),t("__makeTemplateObject",j0),t("__importStar",U0),t("__importDefault",W0),t("__classPrivateFieldGet",J0),t("__classPrivateFieldSet",H0),t("__classPrivateFieldIn",G0)})});var K0=iT(z0(),1),{__extends:p1,__assign:f1,__rest:h1,__decorate:m1,__param:_1,__esDecorate:v1,__runInitializers:g1,__propKey:y1,__setFunctionName:x1,__metadata:b1,__awaiter:x,__generator:w1,__exportStar:T1,__createBinding:I1,__values:k1,__read:S1,__spread:C1,__spreadArrays:N1,__spreadArray:E1,__await:ef,__asyncGenerator:$0,__asyncDelegator:P1,__asyncValues:q0,__makeTemplateObject:M1,__importStar:A1,__importDefault:V1,__classPrivateFieldGet:u,__classPrivateFieldSet:I,__classPrivateFieldIn:R1}=K0.default;var yv={};mt(yv,{ChannelError:()=>nn,InnertubeError:()=>g,MissingParamError:()=>so,OAuthError:()=>Wt,ParsingError:()=>Ze,Platform:()=>O,PlayerError:()=>et,SessionError:()=>on,base64ToU8:()=>gv,concatMemos:()=>_v,debugFetch:()=>nT,deepCompare:()=>tf,escapeStringRegexp:()=>hv,generateRandomString:()=>oi,generateSidAuth:()=>mv,getRandomUserAgent:()=>Bi,getStringBetweenStrings:()=>Je,hasKeys:()=>oT,isTextRun:()=>Ye,streamToIterable:()=>vv,throwIfMissing:()=>te,timeToSeconds:()=>Re,u8ToBase64:()=>ut});var fv={};mt(fv,{Maybe:()=>no,Memo:()=>Oi,SuperParsedResult:()=>Ut,YTNode:()=>l,observe:()=>ve});var pv,X0,Te,ue,jt,ii,oo,Q0=Symbol("ObservedArray.isObserved"),l=class{constructor(){pv.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>u(this,pv,"m",X0).call(this,i))}as(...e){if(!this.is(...e))throw new Ze(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new Ze(`Missing key ${e}`);return new no(this[e])}};s(l,"YTNode");pv=new WeakSet,X0=s(function(e){return this.type===e.type},"_YTNode_is");l.type="YTNode";var no=class{constructor(e){Te.add(this),ue.set(this,void 0),I(this,ue,e,"f")}get typeof(){return typeof u(this,ue,"f")}string(){return u(this,Te,"m",ii).call(this,"string")}isString(){return u(this,Te,"m",jt).call(this,"string")}number(){return u(this,Te,"m",ii).call(this,"number")}isNumber(){return u(this,Te,"m",jt).call(this,"number")}bigint(){return u(this,Te,"m",ii).call(this,"bigint")}isBigint(){return u(this,Te,"m",jt).call(this,"bigint")}boolean(){return u(this,Te,"m",ii).call(this,"boolean")}isBoolean(){return u(this,Te,"m",jt).call(this,"boolean")}symbol(){return u(this,Te,"m",ii).call(this,"symbol")}isSymbol(){return u(this,Te,"m",jt).call(this,"symbol")}undefined(){return u(this,Te,"m",ii).call(this,"undefined")}isUndefined(){return u(this,Te,"m",jt).call(this,"undefined")}null(){if(u(this,ue,"f")!==null)throw new TypeError(`Expected null, got ${typeof u(this,ue,"f")}`);return u(this,ue,"f")}isNull(){return u(this,ue,"f")===null}object(){return u(this,Te,"m",ii).call(this,"object")}isObject(){return u(this,Te,"m",jt).call(this,"object")}function(){return u(this,Te,"m",ii).call(this,"function")}isFunction(){return u(this,Te,"m",jt).call(this,"function")}array(){if(!Array.isArray(u(this,ue,"f")))throw new TypeError(`Expected array, got ${typeof u(this,ue,"f")}`);return u(this,ue,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,o){return Reflect.has(e,o)?Reflect.get(i,o):new no(Reflect.get(i,o))}})}isArray(){return Array.isArray(u(this,ue,"f"))}node(){if(!(u(this,ue,"f")instanceof l))throw new TypeError(`Expected YTNode, got ${u(this,ue,"f").constructor.name}`);return u(this,ue,"f")}isNode(){return u(this,ue,"f")instanceof l}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof u(this,ue,"f")}`);return u(this,ue,"f")}isObserved(){var e;return(e=u(this,ue,"f"))===null||e===void 0?void 0:e[Q0]}parsed(){if(!(u(this,ue,"f")instanceof Ut))throw new TypeError(`Expected SuperParsedResult, got ${typeof u(this,ue,"f")}`);return u(this,ue,"f")}isParsed(){return u(this,ue,"f")instanceof Ut}any(){return console.warn("This call is not meant to be used outside of debugging. Please use the specific type getter instead."),u(this,ue,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${u(this,ue,"f").constructor.name}`);return u(this,ue,"f")}isInstanceof(e){return u(this,ue,"f")instanceof e}};s(no,"Maybe");ue=new WeakMap,Te=new WeakSet,jt=s(function(e){return typeof u(this,ue,"f")===e},"_Maybe_checkPrimative"),ii=s(function(e){if(!u(this,Te,"m",jt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return u(this,ue,"f")},"_Maybe_assertPrimative");var Ut=class{constructor(e){oo.set(this,void 0),I(this,oo,e,"f")}get is_null(){return u(this,oo,"f")===null}get is_array(){return!this.is_null&&Array.isArray(u(this,oo,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return u(this,oo,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return u(this,oo,"f")}};s(Ut,"SuperParsedResult");oo=new WeakMap;function ve(t){return new Proxy(t,{get(e,i){return i=="get"?(o,n)=>e.find((r,a)=>{let d=tf(o,r);return d&&n&&e.splice(a,1),d}):i==Q0?!0:i=="getAll"?(o,n)=>e.filter((r,a)=>{let d=tf(o,r);return d&&n&&e.splice(a,1),d}):i=="matchCondition"?o=>e.find(n=>o(n)):i=="filterType"?(...o)=>ve(e.filter(n=>!!n.is(...o))):i=="firstOfType"?(...o)=>e.find(n=>!!n.is(...o)):i=="first"?()=>e[0]:i=="as"?(...o)=>ve(e.map(n=>{if(n.is(...o))return n;throw new Ze(`Expected node of any type ${o.map(r=>r.type).join(", ")}, got ${n.type}`)})):i=="remove"?o=>e.splice(o,1):Reflect.get(e,i)}})}s(ve,"observe");var Oi=class extends Map{getType(...e){return e=e.flat(),ve(e.flatMap(i=>this.get(i.type)||[]))}};s(Oi,"Memo");var Z0={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var of,nf,O=class{static load(e){I(O,of,e,"f",nf)}static get shim(){if(!u(O,of,"f",nf))throw new Error("Platform is not loaded");return u(O,of,"f",nf)}};s(O,"Platform");of=O;nf={value:void 0};var g=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=O.shim.info.version}};s(g,"InnertubeError");var Ze=class extends g{};s(Ze,"ParsingError");var so=class extends g{};s(so,"MissingParamError");var Wt=class extends g{};s(Wt,"OAuthError");var et=class extends Error{};s(et,"PlayerError");var on=class extends Error{};s(on,"SessionError");var nn=class extends Error{};s(nn,"ChannelError");function tf(t,e){return Reflect.ownKeys(t).some(o=>{var n;let r=((n=e[o])===null||n===void 0?void 0:n.constructor.name)==="Text";return!r&&typeof e[o]=="object"?JSON.stringify(t[o])===JSON.stringify(e[o]):t[o]===(r?e[o].toString():e[o])})}s(tf,"deepCompare");function Je(t,e,i){let o=new RegExp(`${hv(e)}(.*?)${hv(i)}`,"s"),n=t.match(o);return n?n[1]:void 0}s(Je,"getStringBetweenStrings");function hv(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}s(hv,"escapeStringRegexp");function Bi(t){let e=Z0[t],i=Math.floor(Math.random()*e.length);return e[i]}s(Bi,"getRandomUserAgent");function mv(t){return x(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),o=[i,t,e].join(" "),n=yield O.shim.sha1Hash(o);return["SAPISIDHASH",[i,n].join("_")].join(" ")})}s(mv,"generateSidAuth");function oi(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let o=0;o<t;o++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}s(oi,"generateRandomString");function Re(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}s(Re,"timeToSeconds");function _v(...t){let e=new Oi;for(let i of t)if(!!i)for(let o of i)e.set(...o);return e}s(_v,"concatMemos");function te(t){for(let[e,i]of Object.entries(t))if(!i)throw new so(`${e} is missing`)}s(te,"throwIfMissing");function oT(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}s(oT,"hasKeys");function vv(t){return $0(this,arguments,s(function*(){let i=t.getReader();try{for(;;){let{done:o,value:n}=yield ef(i.read());if(o)return yield ef(void 0);yield yield ef(n)}}finally{i.releaseLock()}},"streamToIterable_1"))}s(vv,"streamToIterable");var nT=s((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),o=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,n=[...o],r=e!=null&&e.body?typeof e.body=="string"?o.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",a=n.length>0?`${n.map(([d,f])=>`    ${d}: ${f}`).join(`
`)}`:"    (none)";return console.log(`YouTube.js Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${a}
' + 
    '  body:
${r}`),O.shim.fetch(t,e)},"debugFetch");function ut(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}s(ut,"u8ToBase64");function gv(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}s(gv,"base64ToU8");function Ye(t){return!("emoji"in t)}s(Ye,"isTextRun");function xv(t){return x(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(o){let n=new Uint8Array(o),r=[];for(let a=0;a<n.length;++a)r.push(e[n[a]]);return r.join("")}return s(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}s(xv,"sha1Hash");var sf={name:"youtubei.js",version:"4.3.0",description:"A wrapper around YouTube's private API. Supports YouTube, YouTube Music, YouTube Kids and YouTube Studio (WIP).",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",build:"npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod","build:parser-map":"node ./scripts/build-parser-map.cjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tsc","build:deno":`npx cpy ./src ./deno && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'linkedom';" "'https://esm.sh/linkedom';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r && npx replace "new Jinter.default" "new Jinter" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --external:tslib --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --outfile=./bundle/browser.js --platform=browser',"bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify",prepare:"npm run build",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},license:"MIT",dependencies:{jintr:"^1.0.0",linkedom:"^0.14.12",tslib:"^2.5.0",undici:"^5.19.1"},devDependencies:{"@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^28.1.3",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^28.0.8",typescript:"^4.9.5"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var Gs={};mt(Gs,{ArrayExpression:()=>sn,ArrowFunctionExpression:()=>rn,AssignmentExpression:()=>an,BinaryExpression:()=>un,BlockStatement:()=>ln,BreakStatement:()=>cn,CallExpression:()=>dn,ConditionalExpression:()=>fn,ContinueStatement:()=>hn,ExpressionStatement:()=>mn,ForStatement:()=>_n,FunctionDeclaration:()=>vn,FunctionExpression:()=>gn,Identifier:()=>yn,IfStatement:()=>xn,Literal:()=>bn,LogicalExpression:()=>wn,MemberExpression:()=>Tn,NewExpression:()=>In,ObjectExpression:()=>kn,Property:()=>Sn,ReturnStatement:()=>Cn,SequenceExpression:()=>Nn,SwitchCase:()=>En,SwitchStatement:()=>Pn,ThisExpression:()=>Mn,ThrowStatement:()=>An,TryStatement:()=>Vn,UnaryExpression:()=>Rn,UpdateExpression:()=>On,VariableDeclaration:()=>Bn,WhileStatement:()=>Fn});var V=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};s(V,"BaseJSNode");var sn=class extends V{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};s(sn,"ArrayExpression");var bv={};mt(bv,{namedFunction:()=>ro});var ro=s((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction");var rn=class extends V{run(){let{params:e,body:i}=this.node;return ro("anonymous function",n=>{let r=0;for(let a of e)this.visitor.visitNode(a),a.type==="Identifier"?this.visitor.scope.set(a.name,n[r]):console.warn("Unhandled param type",a.type),r++;return this.visitor.visitNode(i)})}};s(rn,"ArrowFunctionExpression");var an=class extends V{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]+=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]-=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]*=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]/=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]%=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]**=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]<<=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]>>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]&=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};s(an,"AssignmentExpression");var un=class extends V{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),o=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=o;case"!==":return i!==o;case"%":return i%o;case"&":return i&o;case"*":return i*o;case"**":return i**o;case"+":return i+o;case"-":return i-o;case"/":return i/o;case"<":return i<o;case"<<":return i<<o;case"<=":return i<=o;case"==":return i==o;case"===":return i===o;case">":return i>o;case">=":return i>=o;case">>":return i>>o;case">>>":return i>>>o;case"^":return i^o;case"|":return i|o;case"in":return i in o;case"instanceof":return i instanceof o}}};s(un,"BinaryExpression");var ln=class extends V{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};s(ln,"BlockStatement");var cn=class extends V{run(){return"break"}};s(cn,"BreakStatement");var eg=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},rf,wv,dn=class extends V{constructor(){super(...arguments),rf.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let r=this.visitor.listeners[e](this.node,this.visitor);if(r!=="proceed")return r}if(i&&i!=="toString"&&this.visitor.listeners[i]){let r=this.visitor.listeners[i](this.node,this.visitor);if(r!=="proceed")return r}if(this.node.callee.type==="MemberExpression"){if(pn.has(this.node,this.visitor))return pn.execute(this.node,this.visitor);let r=this.visitor.visitNode(this.node.callee.object),a=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),d=this.node.arguments.map(f=>this.visitor.visitNode(f));return typeof r[a]!="function"&&eg(this,rf,"m",wv).call(this),r[a].toString().includes("[native code]")?r[a](...d):r[a](d)}let o=this.visitor.visitNode(this.node.callee),n=this.node.arguments.map(r=>this.visitor.visitNode(r));return typeof o!="function"&&eg(this,rf,"m",wv).call(this),o(n)}};s(dn,"CallExpression");rf=new WeakSet,wv=s(function(){if(this.node.callee.type==="MemberExpression")throw new Error(`${this.node.callee.object.type==="Identifier"?this.node.callee.object.name:"<object>"}.${this.node.callee.property.type==="Identifier"?this.node.callee.property.name:"?"} is not a function`);if(this.node.callee.type==="Identifier")throw new Error(`${this.node.callee.name} is not a function`);if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(o=>{o.type==="Literal"?i.push(o.raw||""):o.type==="Identifier"?i.push(o.name):o.type==="MemberExpression"&&(o.computed?i.push(`${this.visitor.getName(o.object)}[${this.visitor.getName(o.property)||"..."}]`):i.push(`${this.visitor.getName(o.object)}.${this.visitor.getName(o.property)}`))}),e.push(i.join(", ")),e.push(")"),new Error(`${e.join("")} is not a function`)}},"_CallExpression_throwError");var pn=class{static has(e,i){var o;return e.callee.type==="MemberExpression"?!!(!((o=this.builtins)===null||o===void 0)&&o[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};s(pn,"Builtins");pn.builtins={forEach:(t,e)=>{let i=t.arguments.map(o=>e.visitNode(o));if(t.callee.type==="MemberExpression"){let o=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let n=0;for(let r of o)i[0]([r,n++,o])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var fn=class extends V{run(){let{test:e,consequent:i,alternate:o}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(o)}};s(fn,"ConditionalExpression");var hn=class extends V{run(){return"continue"}};s(hn,"ContinueStatement");var mn=class extends V{run(){return this.visitor.visitNode(this.node.expression)}};s(mn,"ExpressionStatement");var _n=class extends V{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=s(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let o=this.visitor.visitNode(this.node.body);if(o!=="continue"){if(o==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),o&&this.node.body.type!=="ExpressionStatement")return o}}}};s(_n,"ForStatement");var vn=class extends V{run(){let{params:e,body:i}=this.node,o=this.visitor.visitNode(this.node.id),n=ro(o,r=>{let a=0;for(let d of e)this.visitor.visitNode(d),d.type==="Identifier"?this.visitor.scope.set(d.name,r[a]):console.warn("Unhandled param type",d.type),a++;return this.visitor.visitNode(i)});this.visitor.scope.set(o,n)}};s(vn,"FunctionDeclaration");var gn=class extends V{run(){let{params:e,body:i}=this.node;return ro("anonymous function",n=>{let r=0;for(let a of e)this.visitor.visitNode(a),a.type==="Identifier"?this.visitor.scope.set(a.name,n[r]):console.warn("Unhandled param type",a.type),r++;return this.visitor.visitNode(i)})}};s(gn,"FunctionExpression");var yn=class extends V{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="proceed")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};s(yn,"Identifier");var xn=class extends V{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};s(xn,"IfStatement");var bn=class extends V{run(){return this.node.value}};s(bn,"Literal");var wn=class extends V{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};s(wn,"LogicalExpression");var Tn=class extends V{run(){let{object:e,property:i,computed:o}=this.node,n=this.visitor.visitNode(e),r=o?this.visitor.visitNode(i):this.visitor.getName(i);if(r!==void 0||r!==null){if(this.visitor.listeners[r]){let a=this.visitor.listeners[r](this.node,this.visitor);if(a!=="proceed")return a}return n==null?void 0:n[r]}}};s(Tn,"MemberExpression");var In=class extends V{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(o=>this.visitor.visitNode(o));return new e(i)}};s(In,"NewExpression");var kn=class extends V{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};s(kn,"ObjectExpression");var Tv=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Hs,tg,ig,og,Sn=class extends V{constructor(){super(...arguments),Hs.add(this)}run(){switch(this.node.kind){case"init":return Tv(this,Hs,"m",tg).call(this);case"get":return Tv(this,Hs,"m",ig).call(this);case"set":return Tv(this,Hs,"m",og).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};s(Sn,"Property");Hs=new WeakSet,tg=s(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),ig=s(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),og=s(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var Cn=class extends V{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};s(Cn,"ReturnStatement");var Nn=class extends V{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};s(Nn,"SequenceExpression");var En=class extends V{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};s(En,"SwitchCase");var Pn=class extends V{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,o=-1,n=0;for(;;){let r=this.node.cases[n];if(i){let a=this.visitor.visitNode(r);if(a==="break")break;if(a==="continue")return a;if(++n,n>=this.node.cases.length){n=0;break}else continue}if(i=r&&e===this.visitor.visitNode(r.test),i===void 0&&n>this.node.cases.length)break;if(r&&!i&&!r.test){o=n,n+=1;continue}if(!r&&!i&&o!==-1){i=!0,n=o;continue}i||++n}}};s(Pn,"SwitchStatement");var Mn=class extends V{run(){return this.visitor.scope.get("_this")}};s(Mn,"ThisExpression");var An=class extends V{run(){throw this.visitor.visitNode(this.node.argument)}};s(An,"ThrowStatement");var Vn=class extends V{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};s(Vn,"TryStatement");var Rn=class extends V{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),o=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[o]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};s(Rn,"UnaryExpression");var On=class extends V{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};s(On,"UpdateExpression");var Bn=class extends V{run(){this.node.declarations.forEach(e=>{let{id:i,init:o}=e,n=this.visitor.getName(i),r=o?this.visitor.visitNode(o):void 0;n&&this.visitor.scope.set(n,r),typeof r=="object"&&r!==null&&this.visitor.scope.set("_this",r)})}};s(Bn,"VariableDeclaration");var Fn=class extends V{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};s(Fn,"WhileStatement");var rT=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Iv,ng,Dn=class{constructor(e){Iv.add(this),this.scope=new Map,this.listeners={},this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=rT(this,Iv,"m",ng).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};s(Dn,"Visitor");Iv=new WeakSet,ng=s(function(e){let i=Gs[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var aT=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239],lg=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938],uT="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",cg="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",kv={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Sv="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",lT={5:Sv,"5module":Sv+" export import",6:Sv+" const class extends export import super"},cT=/^in(stanceof)?$/,dT=new RegExp("["+cg+"]"),pT=new RegExp("["+cg+uT+"]");function Nv(t,e){for(var i=65536,o=0;o<e.length;o+=2){if(i+=e[o],i>t)return!1;if(i+=e[o+1],i>=t)return!0}}s(Nv,"isInAstralSet");function si(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&dT.test(String.fromCharCode(t)):e===!1?!1:Nv(t,lg)}s(si,"isIdentifierStart");function Ln(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&pT.test(String.fromCharCode(t)):e===!1?!1:Nv(t,lg)||Nv(t,aT)}s(Ln,"isIdentifierChar");var ie=s(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function lt(t,e){return new ie(t,{beforeExpr:!0,binop:e})}s(lt,"binop");var ct={beforeExpr:!0},He={startsExpr:!0},Mv={};function X(t,e){return e===void 0&&(e={}),e.keyword=t,Mv[t]=new ie(t,e)}s(X,"kw");var m={num:new ie("num",He),regexp:new ie("regexp",He),string:new ie("string",He),name:new ie("name",He),privateId:new ie("privateId",He),eof:new ie("eof"),bracketL:new ie("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ie("]"),braceL:new ie("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ie("}"),parenL:new ie("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ie(")"),comma:new ie(",",ct),semi:new ie(";",ct),colon:new ie(":",ct),dot:new ie("."),question:new ie("?",ct),questionDot:new ie("?."),arrow:new ie("=>",ct),template:new ie("template"),invalidTemplate:new ie("invalidTemplate"),ellipsis:new ie("...",ct),backQuote:new ie("`",He),dollarBraceL:new ie("${",{beforeExpr:!0,startsExpr:!0}),eq:new ie("=",{beforeExpr:!0,isAssign:!0}),assign:new ie("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ie("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ie("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:lt("||",1),logicalAND:lt("&&",2),bitwiseOR:lt("|",3),bitwiseXOR:lt("^",4),bitwiseAND:lt("&",5),equality:lt("==/!=/===/!==",6),relational:lt("</>/<=/>=",7),bitShift:lt("<</>>/>>>",8),plusMin:new ie("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:lt("%",10),star:lt("*",10),slash:lt("/",10),starstar:new ie("**",{beforeExpr:!0}),coalesce:lt("??",1),_break:X("break"),_case:X("case",ct),_catch:X("catch"),_continue:X("continue"),_debugger:X("debugger"),_default:X("default",ct),_do:X("do",{isLoop:!0,beforeExpr:!0}),_else:X("else",ct),_finally:X("finally"),_for:X("for",{isLoop:!0}),_function:X("function",He),_if:X("if"),_return:X("return",ct),_switch:X("switch"),_throw:X("throw",ct),_try:X("try"),_var:X("var"),_const:X("const"),_while:X("while",{isLoop:!0}),_with:X("with"),_new:X("new",{beforeExpr:!0,startsExpr:!0}),_this:X("this",He),_super:X("super",He),_class:X("class",He),_extends:X("extends",ct),_export:X("export"),_import:X("import",He),_null:X("null",He),_true:X("true",He),_false:X("false",He),_in:X("in",{beforeExpr:!0,binop:7}),_instanceof:X("instanceof",{beforeExpr:!0,binop:7}),_typeof:X("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:X("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:X("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},pt=/\r\n?|\n|\u2028|\u2029/,fT=new RegExp(pt.source,"g");function Yn(t){return t===10||t===13||t===8232||t===8233}s(Yn,"isNewLine");function dg(t,e,i){i===void 0&&(i=t.length);for(var o=e;o<i;o++){var n=t.charCodeAt(o);if(Yn(n))return o<i-1&&n===13&&t.charCodeAt(o+1)===10?o+2:o+1}return-1}s(dg,"nextLineBreak");var pg=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,dt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,fg=Object.prototype,hT=fg.hasOwnProperty,mT=fg.toString,qs=Object.hasOwn||function(t,e){return hT.call(t,e)},sg=Array.isArray||function(t){return mT.call(t)==="[object Array]"};function ao(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}s(ao,"wordsRegexp");function Fi(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}s(Fi,"codePointToString");var _T=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Ks=s(function(e,i){this.line=e,this.column=i},"Position");Ks.prototype.offset=s(function(e){return new Ks(this.line,this.column+e)},"offset");var df=s(function(e,i,o){this.start=i,this.end=o,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function hg(t,e){for(var i=1,o=0;;){var n=dg(t,o,e);if(n<0)return new Ks(i,e-o);++i,o=n}}s(hg,"getLineInfo");var Ev={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},rg=!1;function vT(t){var e={};for(var i in Ev)e[i]=t&&qs(t,i)?t[i]:Ev[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!rg&&typeof console=="object"&&console.warn&&(rg=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),t.allowHashBang==null&&(e.allowHashBang=e.ecmaVersion>=14),sg(e.onToken)){var o=e.onToken;e.onToken=function(n){return o.push(n)}}return sg(e.onComment)&&(e.onComment=gT(e,e.onComment)),e}s(vT,"getOptions");function gT(t,e){return function(i,o,n,r,a,d){var f={type:i?"Block":"Line",value:o,start:n,end:r};t.locations&&(f.loc=new df(this,a,d)),t.ranges&&(f.range=[n,r]),e.push(f)}}s(gT,"pushComment");var $s=1,jn=2,Av=4,mg=8,_g=16,vg=32,Vv=64,gg=128,Xs=256,Rv=$s|jn|Xs;function Ov(t,e){return jn|(t?Av:0)|(e?mg:0)}s(Ov,"functionFlags");var uf=0,Bv=1,ni=2,yg=3,xg=4,bg=5,Ie=s(function(e,i,o){this.options=e=vT(e),this.sourceFile=e.sourceFile,this.keywords=ao(lT[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var n="";e.allowReserved!==!0&&(n=kv[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(n+=" await")),this.reservedWords=ao(n);var r=(n?n+" ":"")+kv.strict;this.reservedWordsStrict=ao(r),this.reservedWordsStrictBind=ao(r+" "+kv.strictBind),this.input=String(i),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(pt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=m.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope($s),this.regexpState=null,this.privateNameStack=[]},"Parser"),Jt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Ie.prototype.parse=s(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");Jt.inFunction.get=function(){return(this.currentVarScope().flags&jn)>0};Jt.inGenerator.get=function(){return(this.currentVarScope().flags&mg)>0&&!this.currentVarScope().inClassFieldInit};Jt.inAsync.get=function(){return(this.currentVarScope().flags&Av)>0&&!this.currentVarScope().inClassFieldInit};Jt.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Xs)return!1;if(e.flags&jn)return(e.flags&Av)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Jt.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&Vv)>0||i||this.options.allowSuperOutsideMethod};Jt.allowDirectSuper.get=function(){return(this.currentThisScope().flags&gg)>0};Jt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Jt.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(jn|Xs))>0||i};Jt.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Xs)>0};Ie.extend=s(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var o=this,n=0;n<e.length;n++)o=e[n](o);return o},"extend");Ie.parse=s(function(e,i){return new this(i,e).parse()},"parse");Ie.parseExpressionAt=s(function(e,i,o){var n=new this(o,e,i);return n.nextToken(),n.parseExpression()},"parseExpressionAt");Ie.tokenizer=s(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(Ie.prototype,Jt);var je=Ie.prototype,yT=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;je.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){dt.lastIndex=t,t+=dt.exec(this.input)[0].length;var e=yT.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){dt.lastIndex=t+e[0].length;var i=dt.exec(this.input),o=i.index+i[0].length,n=this.input.charAt(o);return n===";"||n==="}"||pt.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(n)||n==="!"&&this.input.charAt(o+1)==="=")}t+=e[0].length,dt.lastIndex=t,t+=dt.exec(this.input)[0].length,this.input[t]===";"&&t++}};je.eat=function(t){return this.type===t?(this.next(),!0):!1};je.isContextual=function(t){return this.type===m.name&&this.value===t&&!this.containsEsc};je.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};je.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};je.canInsertSemicolon=function(){return this.type===m.eof||this.type===m.braceR||pt.test(this.input.slice(this.lastTokEnd,this.start))};je.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};je.semicolon=function(){!this.eat(m.semi)&&!this.insertSemicolon()&&this.unexpected()};je.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};je.expect=function(t){this.eat(t)||this.unexpected()};je.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var pf=s(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");je.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};je.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,o=t.doubleProto;if(!e)return i>=0||o>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};je.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};je.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var U=Ie.prototype;U.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==m.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var o=0,n=Object.keys(this.undefinedExports);o<n.length;o+=1){var r=n[o];this.raiseRecoverable(this.undefinedExports[r].start,"Export '"+r+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var Fv={kind:"loop"},xT={kind:"switch"};U.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;dt.lastIndex=this.pos;var e=dt.exec(this.input),i=this.pos+e[0].length,o=this.input.charCodeAt(i);if(o===91||o===92||o>55295&&o<56320)return!0;if(t)return!1;if(o===123)return!0;if(si(o,!0)){for(var n=i+1;Ln(o=this.input.charCodeAt(n),!0);)++n;if(o===92||o>55295&&o<56320)return!0;var r=this.input.slice(i,n);if(!cT.test(r))return!0}return!1};U.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;dt.lastIndex=this.pos;var t=dt.exec(this.input),e=this.pos+t[0].length,i;return!pt.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(Ln(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};U.parseStatement=function(t,e,i){var o=this.type,n=this.startNode(),r;switch(this.isLet(t)&&(o=m._var,r="let"),o){case m._break:case m._continue:return this.parseBreakContinueStatement(n,o.keyword);case m._debugger:return this.parseDebuggerStatement(n);case m._do:return this.parseDoStatement(n);case m._for:return this.parseForStatement(n);case m._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(n,!1,!t);case m._class:return t&&this.unexpected(),this.parseClass(n,!0);case m._if:return this.parseIfStatement(n);case m._return:return this.parseReturnStatement(n);case m._switch:return this.parseSwitchStatement(n);case m._throw:return this.parseThrowStatement(n);case m._try:return this.parseTryStatement(n);case m._const:case m._var:return r=r||this.value,t&&r!=="var"&&this.unexpected(),this.parseVarStatement(n,r);case m._while:return this.parseWhileStatement(n);case m._with:return this.parseWithStatement(n);case m.braceL:return this.parseBlock(!0,n);case m.semi:return this.parseEmptyStatement(n);case m._export:case m._import:if(this.options.ecmaVersion>10&&o===m._import){dt.lastIndex=this.pos;var a=dt.exec(this.input),d=this.pos+a[0].length,f=this.input.charCodeAt(d);if(f===40||f===46)return this.parseExpressionStatement(n,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===m._import?this.parseImport(n):this.parseExport(n,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(n,!0,!t);var h=this.value,_=this.parseExpression();return o===m.name&&_.type==="Identifier"&&this.eat(m.colon)?this.parseLabeledStatement(n,h,_,t):this.parseExpressionStatement(n,_)}};U.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(m.semi)||this.insertSemicolon()?t.label=null:this.type!==m.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var n=this.labels[o];if((t.label==null||n.name===t.label.name)&&(n.kind!=null&&(i||n.kind==="loop")||t.label&&i))break}return o===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};U.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};U.parseDoStatement=function(t){return this.next(),this.labels.push(Fv),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(m._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(m.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};U.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Fv),this.enterScope(0),this.expect(m.parenL),this.type===m.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===m._var||this.type===m._const||i){var o=this.startNode(),n=i?"let":this.value;return this.next(),this.parseVar(o,!0,n),this.finishNode(o,"VariableDeclaration"),(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,o)):(e>-1&&this.unexpected(e),this.parseFor(t,o))}var r=this.isContextual("let"),a=!1,d=new pf,f=this.parseExpression(e>-1?"await":!0,d);return this.type===m._in||(a=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),r&&a&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,d),this.checkLValPattern(f),this.parseForIn(t,f)):(this.checkExpressionErrors(d,!0),e>-1&&this.unexpected(e),this.parseFor(t,f))};U.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,zs|(i?0:Pv),!1,e)};U.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(m._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};U.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(m.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};U.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(m.braceL),this.labels.push(xT),this.enterScope(0);for(var e,i=!1;this.type!==m.braceR;)if(this.type===m._case||this.type===m._default){var o=this.type===m._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),o?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(m.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};U.parseThrowStatement=function(t){return this.next(),pt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var bT=[];U.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===m._catch){var e=this.startNode();if(this.next(),this.eat(m.parenL)){e.param=this.parseBindingAtom();var i=e.param.type==="Identifier";this.enterScope(i?vg:0),this.checkLValPattern(e.param,i?xg:ni),this.expect(m.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0);e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(m._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};U.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")};U.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(Fv),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};U.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};U.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};U.parseLabeledStatement=function(t,e,i,o){for(var n=0,r=this.labels;n<r.length;n+=1){var a=r[n];a.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var d=this.type.isLoop?"loop":this.type===m._switch?"switch":null,f=this.labels.length-1;f>=0;f--){var h=this.labels[f];if(h.statementStart===t.start)h.statementStart=this.start,h.kind=d;else break}return this.labels.push({name:e,kind:d,statementStart:this.start}),t.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};U.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};U.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(m.braceL),t&&this.enterScope(0);this.type!==m.braceR;){var o=this.parseStatement(null);e.body.push(o)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};U.parseFor=function(t,e){return t.init=e,this.expect(m.semi),t.test=this.type===m.semi?null:this.parseExpression(),this.expect(m.semi),t.update=this.type===m.parenR?null:this.parseExpression(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};U.parseForIn=function(t,e){var i=this.type===m._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};U.parseVar=function(t,e,i){for(t.declarations=[],t.kind=i;;){var o=this.startNode();if(this.parseVarId(o,i),this.eat(m.eq)?o.init=this.parseMaybeAssign(e):i==="const"&&!(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():o.id.type!=="Identifier"&&!(e&&(this.type===m._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):o.init=null,t.declarations.push(this.finishNode(o,"VariableDeclarator")),!this.eat(m.comma))break}return t};U.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?Bv:ni,!1)};var zs=1,Pv=2,wg=4;U.parseFunction=function(t,e,i,o,n){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===m.star&&e&Pv&&this.unexpected(),t.generator=this.eat(m.star)),this.options.ecmaVersion>=8&&(t.async=!!o),e&zs&&(t.id=e&wg&&this.type!==m.name?null:this.parseIdent(),t.id&&!(e&Pv)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?Bv:ni:yg));var r=this.yieldPos,a=this.awaitPos,d=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ov(t.async,t.generator)),e&zs||(t.id=this.type===m.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,n),this.yieldPos=r,this.awaitPos=a,this.awaitIdentPos=d,this.finishNode(t,e&zs?"FunctionDeclaration":"FunctionExpression")};U.parseFunctionParams=function(t){this.expect(m.parenL),t.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};U.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var o=this.enterClassBody(),n=this.startNode(),r=!1;for(n.body=[],this.expect(m.braceL);this.type!==m.braceR;){var a=this.parseClassElement(t.superClass!==null);a&&(n.body.push(a),a.type==="MethodDefinition"&&a.kind==="constructor"?(r&&this.raise(a.start,"Duplicate constructor in the same class"),r=!0):a.key&&a.key.type==="PrivateIdentifier"&&wT(o,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(n,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};U.parseClassElement=function(t){if(this.eat(m.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),o="",n=!1,r=!1,a="method",d=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(m.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===m.star?d=!0:o="static"}if(i.static=d,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===m.star)&&!this.canInsertSemicolon()?r=!0:o="async"),!o&&(e>=9||!r)&&this.eat(m.star)&&(n=!0),!o&&!r&&!n){var f=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?a=f:o=f)}if(o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===m.parenL||a!=="method"||n||r){var h=!i.static&&lf(i,"constructor"),_=h&&t;h&&a!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=h?"constructor":a,this.parseClassMethod(i,n,r,_)}else this.parseClassField(i);return i};U.isClassElementNameStart=function(){return this.type===m.name||this.type===m.privateId||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword};U.parseClassElementName=function(t){this.type===m.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};U.parseClassMethod=function(t,e,i,o){var n=t.key;t.kind==="constructor"?(e&&this.raise(n.start,"Constructor can't be a generator"),i&&this.raise(n.start,"Constructor can't be an async method")):t.static&&lf(t,"prototype")&&this.raise(n.start,"Classes may not have a static property named prototype");var r=t.value=this.parseMethod(e,i,o);return t.kind==="get"&&r.params.length!==0&&this.raiseRecoverable(r.start,"getter should have no params"),t.kind==="set"&&r.params.length!==1&&this.raiseRecoverable(r.start,"setter should have exactly one param"),t.kind==="set"&&r.params[0].type==="RestElement"&&this.raiseRecoverable(r.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};U.parseClassField=function(t){if(lf(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&lf(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(m.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};U.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Xs|Vv);this.type!==m.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};U.parseClassId=function(t,e){this.type===m.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,ni,!1)):(e===!0&&this.unexpected(),t.id=null)};U.parseClassSuper=function(t){t.superClass=this.eat(m._extends)?this.parseExprSubscripts(!1):null};U.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};U.exitClassBody=function(){for(var t=this.privateNameStack.pop(),e=t.declared,i=t.used,o=this.privateNameStack.length,n=o===0?null:this.privateNameStack[o-1],r=0;r<i.length;++r){var a=i[r];qs(e,a.name)||(n?n.used.push(a):this.raiseRecoverable(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"))}};function wT(t,e){var i=e.key.name,o=t[i],n="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(n=(e.static?"s":"i")+e.kind),o==="iget"&&n==="iset"||o==="iset"&&n==="iget"||o==="sget"&&n==="sset"||o==="sset"&&n==="sget"?(t[i]="true",!1):o?!0:(t[i]=n,!1)}s(wT,"isPrivateNameConflicted");function lf(t,e){var i=t.computed,o=t.key;return!i&&(o.type==="Identifier"&&o.name===e||o.type==="Literal"&&o.value===e)}s(lf,"checkKeyName");U.parseExport=function(t,e){if(this.next(),this.eat(m.star))return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(m._default)){this.checkExport(e,"default",this.lastTokStart);var i;if(this.type===m._function||(i=this.isAsyncFunction())){var o=this.startNode();this.next(),i&&this.next(),t.declaration=this.parseFunction(o,zs|wg,!1,i)}else if(this.type===m._class){var n=this.startNode();t.declaration=this.parseClass(n,"nullableID")}else t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())t.declaration=this.parseStatement(null),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var r=0,a=t.specifiers;r<a.length;r+=1){var d=a[r];this.checkUnreserved(d.local),this.checkLocalExport(d.local),d.local.type==="Literal"&&this.raise(d.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};U.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),qs(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};U.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var o=0,n=e.properties;o<n.length;o+=1){var r=n[o];this.checkPatternExport(t,r)}else if(i==="ArrayPattern")for(var a=0,d=e.elements;a<d.length;a+=1){var f=d[a];f&&this.checkPatternExport(t,f)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"?this.checkPatternExport(t,e.argument):i==="ParenthesizedExpression"&&this.checkPatternExport(t,e.expression)};U.checkVariableExport=function(t,e){if(!!t)for(var i=0,o=e;i<o.length;i+=1){var n=o[i];this.checkPatternExport(t,n.id)}};U.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};U.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(m.braceL);!this.eat(m.braceR);){if(i)i=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;var o=this.startNode();o.local=this.parseModuleExportName(),o.exported=this.eatContextual("as")?this.parseModuleExportName():o.local,this.checkExport(t,o.exported,o.exported.start),e.push(this.finishNode(o,"ExportSpecifier"))}return e};U.parseImport=function(t){return this.next(),this.type===m.string?(t.specifiers=bT,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===m.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};U.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===m.name){var i=this.startNode();if(i.local=this.parseIdent(),this.checkLValSimple(i.local,ni),t.push(this.finishNode(i,"ImportDefaultSpecifier")),!this.eat(m.comma))return t}if(this.type===m.star){var o=this.startNode();return this.next(),this.expectContextual("as"),o.local=this.parseIdent(),this.checkLValSimple(o.local,ni),t.push(this.finishNode(o,"ImportNamespaceSpecifier")),t}for(this.expect(m.braceL);!this.eat(m.braceR);){if(e)e=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;var n=this.startNode();n.imported=this.parseModuleExportName(),this.eatContextual("as")?n.local=this.parseIdent():(this.checkUnreserved(n.imported),n.local=n.imported),this.checkLValSimple(n.local,ni),t.push(this.finishNode(n,"ImportSpecifier"))}return t};U.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===m.string){var t=this.parseLiteral(this.value);return _T.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};U.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};U.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var vt=Ie.prototype;vt.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var o=0,n=t.properties;o<n.length;o+=1){var r=n[o];this.toAssignable(r,e),r.type==="RestElement"&&(r.argument.type==="ArrayPattern"||r.argument.type==="ObjectPattern")&&this.raise(r.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};vt.toAssignableList=function(t,e){for(var i=t.length,o=0;o<i;o++){var n=t[o];n&&this.toAssignable(n,e)}if(i){var r=t[i-1];this.options.ecmaVersion===6&&e&&r&&r.type==="RestElement"&&r.argument.type!=="Identifier"&&this.unexpected(r.argument.start)}return t};vt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};vt.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==m.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};vt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case m.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(m.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case m.braceL:return this.parseObj(!0)}return this.parseIdent()};vt.parseBindingList=function(t,e,i){for(var o=[],n=!0;!this.eat(t);)if(n?n=!1:this.expect(m.comma),e&&this.type===m.comma)o.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===m.ellipsis){var r=this.parseRestBinding();this.parseBindingListItem(r),o.push(r),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else{var a=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(a),o.push(a)}}return o};vt.parseBindingListItem=function(t){return t};vt.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(m.eq))return i;var o=this.startNodeAt(t,e);return o.left=i,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};vt.checkLValSimple=function(t,e,i){e===void 0&&(e=uf);var o=e!==uf;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(o?"Binding ":"Assigning to ")+t.name+" in strict mode"),o&&(e===ni&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(qs(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==bg&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(o?"Binding":"Assigning to")+" rvalue")}};vt.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=uf),t.type){case"ObjectPattern":for(var o=0,n=t.properties;o<n.length;o+=1){var r=n[o];this.checkLValInnerPattern(r,e,i)}break;case"ArrayPattern":for(var a=0,d=t.elements;a<d.length;a+=1){var f=d[a];f&&this.checkLValInnerPattern(f,e,i)}break;default:this.checkLValSimple(t,e,i)}};vt.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=uf),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var _t=s(function(e,i,o,n,r){this.token=e,this.isExpr=!!i,this.preserveSpace=!!o,this.override=n,this.generator=!!r},"TokContext"),pe={b_stat:new _t("{",!1),b_expr:new _t("{",!0),b_tmpl:new _t("${",!1),p_stat:new _t("(",!1),p_expr:new _t("(",!0),q_tmpl:new _t("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new _t("function",!1),f_expr:new _t("function",!0),f_expr_gen:new _t("function",!0,!1,null,!0),f_gen:new _t("function",!1,!1,null,!0)},Un=Ie.prototype;Un.initialContext=function(){return[pe.b_stat]};Un.curContext=function(){return this.context[this.context.length-1]};Un.braceIsBlock=function(t){var e=this.curContext();return e===pe.f_expr||e===pe.f_stat?!0:t===m.colon&&(e===pe.b_stat||e===pe.b_expr)?!e.isExpr:t===m._return||t===m.name&&this.exprAllowed?pt.test(this.input.slice(this.lastTokEnd,this.start)):t===m._else||t===m.semi||t===m.eof||t===m.parenR||t===m.arrow?!0:t===m.braceL?e===pe.b_stat:t===m._var||t===m._const||t===m.name?!1:!this.exprAllowed};Un.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Un.updateContext=function(t){var e,i=this.type;i.keyword&&t===m.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};Un.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};m.parenR.updateContext=m.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===pe.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};m.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?pe.b_stat:pe.b_expr),this.exprAllowed=!0};m.dollarBraceL.updateContext=function(){this.context.push(pe.b_tmpl),this.exprAllowed=!0};m.parenL.updateContext=function(t){var e=t===m._if||t===m._for||t===m._with||t===m._while;this.context.push(e?pe.p_stat:pe.p_expr),this.exprAllowed=!0};m.incDec.updateContext=function(){};m._function.updateContext=m._class.updateContext=function(t){t.beforeExpr&&t!==m._else&&!(t===m.semi&&this.curContext()!==pe.p_stat)&&!(t===m._return&&pt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===m.colon||t===m.braceL)&&this.curContext()===pe.b_stat)?this.context.push(pe.f_expr):this.context.push(pe.f_stat),this.exprAllowed=!1};m.backQuote.updateContext=function(){this.curContext()===pe.q_tmpl?this.context.pop():this.context.push(pe.q_tmpl),this.exprAllowed=!1};m.star.updateContext=function(t){if(t===m._function){var e=this.context.length-1;this.context[e]===pe.f_expr?this.context[e]=pe.f_expr_gen:this.context[e]=pe.f_gen}this.exprAllowed=!0};m.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==m.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var K=Ie.prototype;K.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var o=t.key,n;switch(o.type){case"Identifier":n=o.name;break;case"Literal":n=String(o.value);break;default:return}var r=t.kind;if(this.options.ecmaVersion>=6){n==="__proto__"&&r==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),e.proto=!0);return}n="$"+n;var a=e[n];if(a){var d;r==="init"?d=this.strict&&a.init||a.get||a.set:d=a.init||a[r],d&&this.raiseRecoverable(o.start,"Redefinition of property")}else a=e[n]={init:!1,get:!1,set:!1};a[r]=!0}};K.parseExpression=function(t,e){var i=this.start,o=this.startLoc,n=this.parseMaybeAssign(t,e);if(this.type===m.comma){var r=this.startNodeAt(i,o);for(r.expressions=[n];this.eat(m.comma);)r.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(r,"SequenceExpression")}return n};K.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var o=!1,n=-1,r=-1,a=-1;e?(n=e.parenthesizedAssign,r=e.trailingComma,a=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new pf,o=!0);var d=this.start,f=this.startLoc;(this.type===m.parenL||this.type===m.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var h=this.parseMaybeConditional(t,e);if(i&&(h=i.call(this,h,d,f)),this.type.isAssign){var _=this.startNodeAt(d,f);return _.operator=this.value,this.type===m.eq&&(h=this.toAssignable(h,!1,e)),o||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=h.start&&(e.shorthandAssign=-1),this.type===m.eq?this.checkLValPattern(h):this.checkLValSimple(h),_.left=h,this.next(),_.right=this.parseMaybeAssign(t),a>-1&&(e.doubleProto=a),this.finishNode(_,"AssignmentExpression")}else o&&this.checkExpressionErrors(e,!0);return n>-1&&(e.parenthesizedAssign=n),r>-1&&(e.trailingComma=r),h};K.parseMaybeConditional=function(t,e){var i=this.start,o=this.startLoc,n=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return n;if(this.eat(m.question)){var r=this.startNodeAt(i,o);return r.test=n,r.consequent=this.parseMaybeAssign(),this.expect(m.colon),r.alternate=this.parseMaybeAssign(t),this.finishNode(r,"ConditionalExpression")}return n};K.parseExprOps=function(t,e){var i=this.start,o=this.startLoc,n=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||n.start===i&&n.type==="ArrowFunctionExpression"?n:this.parseExprOp(n,i,o,-1,t)};K.parseExprOp=function(t,e,i,o,n){var r=this.type.binop;if(r!=null&&(!n||this.type!==m._in)&&r>o){var a=this.type===m.logicalOR||this.type===m.logicalAND,d=this.type===m.coalesce;d&&(r=m.logicalAND.binop);var f=this.value;this.next();var h=this.start,_=this.startLoc,b=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,n),h,_,r,n),y=this.buildBinary(e,i,t,b,f,a||d);return(a&&this.type===m.coalesce||d&&(this.type===m.logicalOR||this.type===m.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(y,e,i,o,n)}return t};K.buildBinary=function(t,e,i,o,n,r){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var a=this.startNodeAt(t,e);return a.left=i,a.operator=n,a.right=o,this.finishNode(a,r?"LogicalExpression":"BinaryExpression")};K.parseMaybeUnary=function(t,e,i,o){var n=this.start,r=this.startLoc,a;if(this.isContextual("await")&&this.canAwait)a=this.parseAwait(o),e=!0;else if(this.type.prefix){var d=this.startNode(),f=this.type===m.incDec;d.operator=this.value,d.prefix=!0,this.next(),d.argument=this.parseMaybeUnary(null,!0,f,o),this.checkExpressionErrors(t,!0),f?this.checkLValSimple(d.argument):this.strict&&d.operator==="delete"&&d.argument.type==="Identifier"?this.raiseRecoverable(d.start,"Deleting local variable in strict mode"):d.operator==="delete"&&Tg(d.argument)?this.raiseRecoverable(d.start,"Private fields can not be deleted"):e=!0,a=this.finishNode(d,f?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===m.privateId)(o||this.privateNameStack.length===0)&&this.unexpected(),a=this.parsePrivateIdent(),this.type!==m._in&&this.unexpected();else{if(a=this.parseExprSubscripts(t,o),this.checkExpressionErrors(t))return a;for(;this.type.postfix&&!this.canInsertSemicolon();){var h=this.startNodeAt(n,r);h.operator=this.value,h.prefix=!1,h.argument=a,this.checkLValSimple(a),this.next(),a=this.finishNode(h,"UpdateExpression")}}if(!i&&this.eat(m.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(n,r,a,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return a};function Tg(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&Tg(t.expression)}s(Tg,"isPrivateFieldAccess");K.parseExprSubscripts=function(t,e){var i=this.start,o=this.startLoc,n=this.parseExprAtom(t,e);if(n.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return n;var r=this.parseSubscripts(n,i,o,!1,e);return t&&r.type==="MemberExpression"&&(t.parenthesizedAssign>=r.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=r.start&&(t.parenthesizedBind=-1),t.trailingComma>=r.start&&(t.trailingComma=-1)),r};K.parseSubscripts=function(t,e,i,o,n){for(var r=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,a=!1;;){var d=this.parseSubscript(t,e,i,o,r,a,n);if(d.optional&&(a=!0),d===t||d.type==="ArrowFunctionExpression"){if(a){var f=this.startNodeAt(e,i);f.expression=d,d=this.finishNode(f,"ChainExpression")}return d}t=d}};K.parseSubscript=function(t,e,i,o,n,r,a){var d=this.options.ecmaVersion>=11,f=d&&this.eat(m.questionDot);o&&f&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var h=this.eat(m.bracketL);if(h||f&&this.type!==m.parenL&&this.type!==m.backQuote||this.eat(m.dot)){var _=this.startNodeAt(e,i);_.object=t,h?(_.property=this.parseExpression(),this.expect(m.bracketR)):this.type===m.privateId&&t.type!=="Super"?_.property=this.parsePrivateIdent():_.property=this.parseIdent(this.options.allowReserved!=="never"),_.computed=!!h,d&&(_.optional=f),t=this.finishNode(_,"MemberExpression")}else if(!o&&this.eat(m.parenL)){var b=new pf,y=this.yieldPos,T=this.awaitPos,k=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var N=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1,b);if(n&&!f&&!this.canInsertSemicolon()&&this.eat(m.arrow))return this.checkPatternErrors(b,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=y,this.awaitPos=T,this.awaitIdentPos=k,this.parseArrowExpression(this.startNodeAt(e,i),N,!0,a);this.checkExpressionErrors(b,!0),this.yieldPos=y||this.yieldPos,this.awaitPos=T||this.awaitPos,this.awaitIdentPos=k||this.awaitIdentPos;var E=this.startNodeAt(e,i);E.callee=t,E.arguments=N,d&&(E.optional=f),t=this.finishNode(E,"CallExpression")}else if(this.type===m.backQuote){(f||r)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var R=this.startNodeAt(e,i);R.tag=t,R.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(R,"TaggedTemplateExpression")}return t};K.parseExprAtom=function(t,e){this.type===m.slash&&this.readRegexp();var i,o=this.potentialArrowAt===this.start;switch(this.type){case m._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),i=this.startNode(),this.next(),this.type===m.parenL&&!this.allowDirectSuper&&this.raise(i.start,"super() call outside constructor of a subclass"),this.type!==m.dot&&this.type!==m.bracketL&&this.type!==m.parenL&&this.unexpected(),this.finishNode(i,"Super");case m._this:return i=this.startNode(),this.next(),this.finishNode(i,"ThisExpression");case m.name:var n=this.start,r=this.startLoc,a=this.containsEsc,d=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&d.name==="async"&&!this.canInsertSemicolon()&&this.eat(m._function))return this.overrideContext(pe.f_expr),this.parseFunction(this.startNodeAt(n,r),0,!1,!0,e);if(o&&!this.canInsertSemicolon()){if(this.eat(m.arrow))return this.parseArrowExpression(this.startNodeAt(n,r),[d],!1,e);if(this.options.ecmaVersion>=8&&d.name==="async"&&this.type===m.name&&!a&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return d=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(m.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(n,r),[d],!0,e)}return d;case m.regexp:var f=this.value;return i=this.parseLiteral(f.value),i.regex={pattern:f.pattern,flags:f.flags},i;case m.num:case m.string:return this.parseLiteral(this.value);case m._null:case m._true:case m._false:return i=this.startNode(),i.value=this.type===m._null?null:this.type===m._true,i.raw=this.type.keyword,this.next(),this.finishNode(i,"Literal");case m.parenL:var h=this.start,_=this.parseParenAndDistinguishExpression(o,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(_)&&(t.parenthesizedAssign=h),t.parenthesizedBind<0&&(t.parenthesizedBind=h)),_;case m.bracketL:return i=this.startNode(),this.next(),i.elements=this.parseExprList(m.bracketR,!0,!0,t),this.finishNode(i,"ArrayExpression");case m.braceL:return this.overrideContext(pe.b_expr),this.parseObj(!1,t);case m._function:return i=this.startNode(),this.next(),this.parseFunction(i,0);case m._class:return this.parseClass(this.startNode(),!1);case m._new:return this.parseNew();case m.backQuote:return this.parseTemplate();case m._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}};K.parseExprImport=function(){var t=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var e=this.parseIdent(!0);switch(this.type){case m.parenL:return this.parseDynamicImport(t);case m.dot:return t.meta=e,this.parseImportMeta(t);default:this.unexpected()}};K.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(m.parenR)){var e=this.start;this.eat(m.comma)&&this.eat(m.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};K.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};K.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};K.parseParenExpression=function(){this.expect(m.parenL);var t=this.parseExpression();return this.expect(m.parenR),t};K.parseParenAndDistinguishExpression=function(t,e){var i=this.start,o=this.startLoc,n,r=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a=this.start,d=this.startLoc,f=[],h=!0,_=!1,b=new pf,y=this.yieldPos,T=this.awaitPos,k;for(this.yieldPos=0,this.awaitPos=0;this.type!==m.parenR;)if(h?h=!1:this.expect(m.comma),r&&this.afterTrailingComma(m.parenR,!0)){_=!0;break}else if(this.type===m.ellipsis){k=this.start,f.push(this.parseParenItem(this.parseRestBinding())),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}else f.push(this.parseMaybeAssign(!1,b,this.parseParenItem));var N=this.lastTokEnd,E=this.lastTokEndLoc;if(this.expect(m.parenR),t&&!this.canInsertSemicolon()&&this.eat(m.arrow))return this.checkPatternErrors(b,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=y,this.awaitPos=T,this.parseParenArrowList(i,o,f,e);(!f.length||_)&&this.unexpected(this.lastTokStart),k&&this.unexpected(k),this.checkExpressionErrors(b,!0),this.yieldPos=y||this.yieldPos,this.awaitPos=T||this.awaitPos,f.length>1?(n=this.startNodeAt(a,d),n.expressions=f,this.finishNodeAt(n,"SequenceExpression",N,E)):n=f[0]}else n=this.parseParenExpression();if(this.options.preserveParens){var R=this.startNodeAt(i,o);return R.expression=n,this.finishNode(R,"ParenthesizedExpression")}else return n};K.parseParenItem=function(t){return t};K.parseParenArrowList=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,o)};var TT=[];K.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(m.dot)){t.meta=e;var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var o=this.start,n=this.startLoc,r=this.type===m._import;return t.callee=this.parseSubscripts(this.parseExprAtom(),o,n,!0,!1),r&&t.callee.type==="ImportExpression"&&this.raise(o,"Cannot use new with import()"),this.eat(m.parenL)?t.arguments=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1):t.arguments=TT,this.finishNode(t,"NewExpression")};K.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===m.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===m.backQuote,this.finishNode(i,"TemplateElement")};K.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var o=this.parseTemplateElement({isTagged:e});for(i.quasis=[o];!o.tail;)this.type===m.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(m.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(m.braceR),i.quasis.push(o=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};K.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===m.name||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===m.star)&&!pt.test(this.input.slice(this.lastTokEnd,this.start))};K.parseObj=function(t,e){var i=this.startNode(),o=!0,n={};for(i.properties=[],this.next();!this.eat(m.braceR);){if(o)o=!1;else if(this.expect(m.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(m.braceR))break;var r=this.parseProperty(t,e);t||this.checkPropClash(r,n,e),i.properties.push(r)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};K.parseProperty=function(t,e){var i=this.startNode(),o,n,r,a;if(this.options.ecmaVersion>=9&&this.eat(m.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===m.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===m.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(r=this.start,a=this.startLoc),t||(o=this.eat(m.star)));var d=this.containsEsc;return this.parsePropertyName(i),!t&&!d&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(i)?(n=!0,o=this.options.ecmaVersion>=9&&this.eat(m.star),this.parsePropertyName(i,e)):n=!1,this.parsePropertyValue(i,t,o,n,r,a,e,d),this.finishNode(i,"Property")};K.parsePropertyValue=function(t,e,i,o,n,r,a,d){if((i||o)&&this.type===m.colon&&this.unexpected(),this.eat(m.colon))t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===m.parenL)e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,o);else if(!e&&!d&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==m.comma&&this.type!==m.braceR&&this.type!==m.eq){(i||o)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var f=t.kind==="get"?0:1;if(t.value.params.length!==f){var h=t.value.start;t.kind==="get"?this.raiseRecoverable(h,"getter should have no params"):this.raiseRecoverable(h,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")}else this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||o)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=n),t.kind="init",e?t.value=this.parseMaybeDefault(n,r,this.copyNode(t.key)):this.type===m.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),t.value=this.parseMaybeDefault(n,r,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};K.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(m.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(m.bracketR),t.key;t.computed=!1}return t.key=this.type===m.num||this.type===m.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};K.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};K.parseMethod=function(t,e,i){var o=this.startNode(),n=this.yieldPos,r=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=t),this.options.ecmaVersion>=8&&(o.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Ov(e,o.generator)|Vv|(i?gg:0)),this.expect(m.parenL),o.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=n,this.awaitPos=r,this.awaitIdentPos=a,this.finishNode(o,"FunctionExpression")};K.parseArrowExpression=function(t,e,i,o){var n=this.yieldPos,r=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(Ov(i,!1)|_g),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,o),this.yieldPos=n,this.awaitPos=r,this.awaitIdentPos=a,this.finishNode(t,"ArrowFunctionExpression")};K.parseFunctionBody=function(t,e,i,o){var n=e&&this.type!==m.braceL,r=this.strict,a=!1;if(n)t.body=this.parseMaybeAssign(o),t.expression=!0,this.checkParams(t,!1);else{var d=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!r||d)&&(a=this.strictDirective(this.end),a&&d&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var f=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(t,!r&&!a&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,bg),t.body=this.parseBlock(!1,void 0,a&&!r),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=f}this.exitScope()};K.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var o=i[e];if(o.type!=="Identifier")return!1}return!0};K.checkParams=function(t,e){for(var i=Object.create(null),o=0,n=t.params;o<n.length;o+=1){var r=n[o];this.checkLValInnerPattern(r,Bv,e?null:i)}};K.parseExprList=function(t,e,i,o){for(var n=[],r=!0;!this.eat(t);){if(r)r=!1;else if(this.expect(m.comma),e&&this.afterTrailingComma(t))break;var a=void 0;i&&this.type===m.comma?a=null:this.type===m.ellipsis?(a=this.parseSpread(o),o&&this.type===m.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):a=this.parseMaybeAssign(!1,o),n.push(a)}return n};K.checkUnreserved=function(t){var e=t.start,i=t.end,o=t.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(e,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(e,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var n=this.strict?this.reservedWordsStrict:this.reservedWords;n.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+o+"' is reserved"))}};K.parseIdent=function(t,e){var i=this.startNode();return this.type===m.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,(i.name==="class"||i.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),this.next(!!t),this.finishNode(i,"Identifier"),t||(this.checkUnreserved(i),i.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i.start)),i};K.parsePrivateIdent=function(){var t=this.startNode();return this.type===m.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t),t};K.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===m.semi||this.canInsertSemicolon()||this.type!==m.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(m.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};K.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var cf=Ie.prototype;cf.raise=function(t,e){var i=hg(this.input,t);e+=" ("+i.line+":"+i.column+")";var o=new SyntaxError(e);throw o.pos=t,o.loc=i,o.raisedAt=this.pos,o};cf.raiseRecoverable=cf.raise;cf.curPosition=function(){if(this.options.locations)return new Ks(this.curLine,this.pos-this.lineStart)};var Di=Ie.prototype,IT=s(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");Di.enterScope=function(t){this.scopeStack.push(new IT(t))};Di.exitScope=function(){this.scopeStack.pop()};Di.treatFunctionsAsVarInScope=function(t){return t.flags&jn||!this.inModule&&t.flags&$s};Di.declareName=function(t,e,i){var o=!1;if(e===ni){var n=this.currentScope();o=n.lexical.indexOf(t)>-1||n.functions.indexOf(t)>-1||n.var.indexOf(t)>-1,n.lexical.push(t),this.inModule&&n.flags&$s&&delete this.undefinedExports[t]}else if(e===xg){var r=this.currentScope();r.lexical.push(t)}else if(e===yg){var a=this.currentScope();this.treatFunctionsAsVar?o=a.lexical.indexOf(t)>-1:o=a.lexical.indexOf(t)>-1||a.var.indexOf(t)>-1,a.functions.push(t)}else for(var d=this.scopeStack.length-1;d>=0;--d){var f=this.scopeStack[d];if(f.lexical.indexOf(t)>-1&&!(f.flags&vg&&f.lexical[0]===t)||!this.treatFunctionsAsVarInScope(f)&&f.functions.indexOf(t)>-1){o=!0;break}if(f.var.push(t),this.inModule&&f.flags&$s&&delete this.undefinedExports[t],f.flags&Rv)break}o&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};Di.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Di.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Di.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Rv)return e}};Di.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Rv&&!(e.flags&_g))return e}};var ff=s(function(e,i,o){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new df(e,o)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),Qs=Ie.prototype;Qs.startNode=function(){return new ff(this,this.start,this.startLoc)};Qs.startNodeAt=function(t,e){return new ff(this,t,e)};function Ig(t,e,i,o){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=o),this.options.ranges&&(t.range[1]=i),t}s(Ig,"finishNodeAt");Qs.finishNode=function(t,e){return Ig.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Qs.finishNodeAt=function(t,e,i,o){return Ig.call(this,t,e,i,o)};Qs.copyNode=function(t){var e=new ff(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var kg="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Sg=kg+" Extended_Pictographic",Cg=Sg,Ng=Cg+" EBase EComp EMod EPres ExtPict",kT=Ng,ST={9:kg,10:Sg,11:Cg,12:Ng,13:kT},ag="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Eg="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Pg=Eg+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Mg=Pg+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Ag=Mg+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",CT=Ag+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",NT={9:Eg,10:Pg,11:Mg,12:Ag,13:CT},Vg={};function ET(t){var e=Vg[t]={binary:ao(ST[t]+" "+ag),nonBinary:{General_Category:ao(ag),Script:ao(NT[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}s(ET,"buildUnicodeData");for(af=0,Cv=[9,10,11,12,13];af<Cv.length;af+=1)ug=Cv[af],ET(ug);var ug,af,Cv,L=Ie.prototype,ri=s(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":""),this.unicodeProperties=Vg[e.options.ecmaVersion>=13?13:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");ri.prototype.reset=s(function(e,i,o){var n=o.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=o,this.switchU=n&&this.parser.options.ecmaVersion>=6,this.switchN=n&&this.parser.options.ecmaVersion>=9},"reset");ri.prototype.raise=s(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");ri.prototype.at=s(function(e,i){i===void 0&&(i=!1);var o=this.source,n=o.length;if(e>=n)return-1;var r=o.charCodeAt(e);if(!(i||this.switchU)||r<=55295||r>=57344||e+1>=n)return r;var a=o.charCodeAt(e+1);return a>=56320&&a<=57343?(r<<10)+a-56613888:r},"at");ri.prototype.nextIndex=s(function(e,i){i===void 0&&(i=!1);var o=this.source,n=o.length;if(e>=n)return n;var r=o.charCodeAt(e),a;return!(i||this.switchU)||r<=55295||r>=57344||e+1>=n||(a=o.charCodeAt(e+1))<56320||a>57343?e+1:e+2},"nextIndex");ri.prototype.current=s(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");ri.prototype.lookahead=s(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");ri.prototype.advance=s(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");ri.prototype.eat=s(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");L.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,o=0;o<i.length;o++){var n=i.charAt(o);e.indexOf(n)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(n,o+1)>-1&&this.raise(t.start,"Duplicate regular expression flag")}};L.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};L.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var o=i[e];t.groupNames.indexOf(o)===-1&&t.raise("Invalid named capture referenced")}};L.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};L.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};L.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};L.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};L.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};L.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};L.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var o=0,n=-1;if(this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue),t.eat(125)))return n!==-1&&n<o&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};L.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};L.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};L.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};L.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};L.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};L.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};L.regexp_eatSyntaxCharacter=function(t){var e=t.current();return Rg(e)?(t.lastIntValue=e,t.advance(),!0):!1};function Rg(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}s(Rg,"isSyntaxCharacter");L.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!Rg(i);)t.advance();return t.pos!==e};L.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};L.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};L.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};L.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Fi(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Fi(t.lastIntValue);return!0}return!1};L.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),PT(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function PT(t){return si(t,!0)||t===36||t===95}s(PT,"isRegExpIdentifierStart");L.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),MT(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function MT(t){return Ln(t,!0)||t===36||t===95||t===8204||t===8205}s(MT,"isRegExpIdentifierPart");L.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};L.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};L.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};L.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};L.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};L.regexp_eatZero=function(t){return t.current()===48&&!hf(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};L.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};L.regexp_eatControlLetter=function(t){var e=t.current();return Og(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function Og(t){return t>=65&&t<=90||t>=97&&t<=122}s(Og,"isControlLetter");L.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,o=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var n=t.lastIntValue;if(o&&n>=55296&&n<=56319){var r=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var a=t.lastIntValue;if(a>=56320&&a<=57343)return t.lastIntValue=(n-55296)*1024+(a-56320)+65536,!0}t.pos=r,t.lastIntValue=n}return!0}if(o&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&AT(t.lastIntValue))return!0;o&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function AT(t){return t>=0&&t<=1114111}s(AT,"isValidUnicode");L.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};L.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};L.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(VT(e))return t.lastIntValue=-1,t.advance(),!0;if(t.switchU&&this.options.ecmaVersion>=9&&(e===80||e===112)){if(t.lastIntValue=-1,t.advance(),t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(t)&&t.eat(125))return!0;t.raise("Invalid property name")}return!1};function VT(t){return t===100||t===68||t===115||t===83||t===119||t===87}s(VT,"isCharacterClassEscape");L.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,o),!0}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,n),!0}return!1};L.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){qs(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};L.regexp_validateUnicodePropertyNameOrValue=function(t,e){t.unicodeProperties.binary.test(e)||t.raise("Invalid property name")};L.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";Bg(e=t.current());)t.lastStringValue+=Fi(e),t.advance();return t.lastStringValue!==""};function Bg(t){return Og(t)||t===95}s(Bg,"isUnicodePropertyNameCharacter");L.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";RT(e=t.current());)t.lastStringValue+=Fi(e),t.advance();return t.lastStringValue!==""};function RT(t){return Bg(t)||hf(t)}s(RT,"isUnicodePropertyValueCharacter");L.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};L.regexp_eatCharacterClass=function(t){if(t.eat(91)){if(t.eat(94),this.regexp_classRanges(t),t.eat(93))return!0;t.raise("Unterminated character class")}return!1};L.regexp_classRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};L.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||Lg(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var o=t.current();return o!==93?(t.lastIntValue=o,t.advance(),!0):!1};L.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};L.regexp_eatClassControlLetter=function(t){var e=t.current();return hf(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};L.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};L.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;hf(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function hf(t){return t>=48&&t<=57}s(hf,"isDecimalDigit");L.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Fg(i=t.current());)t.lastIntValue=16*t.lastIntValue+Dg(i),t.advance();return t.pos!==e};function Fg(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}s(Fg,"isHexDigit");function Dg(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}s(Dg,"hexToInt");L.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};L.regexp_eatOctalDigit=function(t){var e=t.current();return Lg(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function Lg(t){return t>=48&&t<=55}s(Lg,"isOctalDigit");L.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var o=0;o<e;++o){var n=t.current();if(!Fg(n))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+Dg(n),t.advance()}return!0};var Dv=s(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new df(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),q=Ie.prototype;q.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Dv(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};q.getToken=function(){return this.next(),new Dv(this)};typeof Symbol<"u"&&(q[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===m.eof,value:e}}}});q.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(m.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};q.readToken=function(t){return si(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};q.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};q.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var o=void 0,n=e;(o=dg(this.input,n,this.pos))>-1;)++this.curLine,n=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};q.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Yn(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};q.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&pg.test(String.fromCharCode(t)))++this.pos;else break e}}};q.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};q.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(m.ellipsis)):(++this.pos,this.finishToken(m.dot))};q.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(m.assign,2):this.finishOp(m.slash,1)};q.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,o=t===42?m.star:m.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,o=m.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(m.assign,i+1):this.finishOp(o,i)};q.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(m.assign,3)}return this.finishOp(t===124?m.logicalOR:m.logicalAND,2)}return e===61?this.finishOp(m.assign,2):this.finishOp(t===124?m.bitwiseOR:m.bitwiseAND,1)};q.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(m.assign,2):this.finishOp(m.bitwiseXOR,1)};q.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||pt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(m.incDec,2):e===61?this.finishOp(m.assign,2):this.finishOp(m.plusMin,1)};q.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(m.assign,i+1):this.finishOp(m.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(m.relational,i))};q.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(m.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(m.arrow)):this.finishOp(t===61?m.eq:m.prefix,1)};q.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(m.questionDot,2)}if(e===63){if(t>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(m.assign,3)}return this.finishOp(m.coalesce,2)}}return this.finishOp(m.question,1)};q.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),si(e,!0)||e===92))return this.finishToken(m.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Fi(e)+"'")};q.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(m.parenL);case 41:return++this.pos,this.finishToken(m.parenR);case 59:return++this.pos,this.finishToken(m.semi);case 44:return++this.pos,this.finishToken(m.comma);case 91:return++this.pos,this.finishToken(m.bracketL);case 93:return++this.pos,this.finishToken(m.bracketR);case 123:return++this.pos,this.finishToken(m.braceL);case 125:return++this.pos,this.finishToken(m.braceR);case 58:return++this.pos,this.finishToken(m.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(m.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(m.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Fi(t)+"'")};q.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};q.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(pt.test(o)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(o==="[")e=!0;else if(o==="]"&&e)e=!1;else if(o==="/"&&!e)break;t=o==="\\"}++this.pos}var n=this.input.slice(i,this.pos);++this.pos;var r=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(r);var d=this.regexpState||(this.regexpState=new ri(this));d.reset(i,n,a),this.validateRegExpFlags(d),this.validateRegExpPattern(d);var f=null;try{f=new RegExp(n,a)}catch(h){}return this.finishToken(m.regexp,{pattern:n,flags:a,value:f})};q.readInt=function(t,e,i){for(var o=this.options.ecmaVersion>=12&&e===void 0,n=i&&this.input.charCodeAt(this.pos)===48,r=this.pos,a=0,d=0,f=0,h=e==null?1/0:e;f<h;++f,++this.pos){var _=this.input.charCodeAt(this.pos),b=void 0;if(o&&_===95){n&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),d===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),f===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),d=_;continue}if(_>=97?b=_-97+10:_>=65?b=_-65+10:_>=48&&_<=57?b=_-48:b=1/0,b>=t)break;d=_,a=a*t+b}return o&&d===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===r||e!=null&&this.pos-r!==e?null:a};function OT(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}s(OT,"stringToNumber");function Yg(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}s(Yg,"stringToBigInt");q.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=Yg(this.input.slice(e,this.pos)),++this.pos):si(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,i)};q.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&o===110){var n=Yg(this.input.slice(e,this.pos));return++this.pos,si(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,n)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),o===46&&!i&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!i&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),si(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var r=OT(this.input.slice(e,this.pos),i);return this.finishToken(m.num,r)};q.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};q.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===t)break;o===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Yn(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(m.string,e)};var jg={};q.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===jg)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};q.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw jg;this.raise(t,e)};q.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===m.template||this.type===m.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(m.dollarBraceL)):(++this.pos,this.finishToken(m.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(m.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Yn(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};q.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(m.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};q.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Fi(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;return this.invalidStringToken(i,"Invalid escape sequence in template string"),null}default:if(e>=48&&e<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],n=parseInt(o,8);return n>255&&(o=o.slice(0,-1),n=parseInt(o,8)),this.pos+=o.length-1,e=this.input.charCodeAt(this.pos),(o!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-o.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(n)}return Yn(e)?"":String.fromCharCode(e)}};q.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};q.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var n=this.fullCharCodeAtPos();if(Ln(n,o))this.pos+=n<=65535?1:2;else if(n===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var r=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(e?si:Ln)(a,o)||this.invalidStringToken(r,"Invalid Unicode escape"),t+=Fi(a),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};q.readWord=function(){var t=this.readWord1(),e=m.name;return this.keywords.test(t)&&(e=Mv[t]),this.finishToken(e,t)};var BT="8.8.1";Ie.acorn={Parser:Ie,version:BT,defaultOptions:Ev,Position:Ks,SourceLocation:df,getLineInfo:hg,Node:ff,TokenType:ie,tokTypes:m,keywordTypes:Mv,TokContext:_t,tokContexts:pe,isIdentifierChar:Ln,isIdentifierStart:si,Token:Dv,isNewLine:Yn,lineBreak:pt,lineBreakG:fT,nonASCIIwhitespace:pg};function Ug(t,e){return Ie.parse(t,e)}s(Ug,"parse");var FT=function(t,e,i,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i},DT=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},mf,uo=class{constructor(e){mf.set(this,void 0);let i=Ug(e,{ecmaVersion:2020});FT(this,mf,i.body,"f"),this.visitor=new Dn(DT(this,mf,"f")),this.scope=this.visitor.scope,this.scope.set("print",o=>console.log(...o)),this.visitor.on("console",(o,n)=>{if(o.type==="Identifier")return console;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let r=n.visitNode(o.callee.property),a=o.arguments.map(f=>n.visitNode(f)),d=console[r];return d?d(...a):"proceed"}return"proceed"}),this.visitor.on("Math",(o,n)=>{if(o.type==="Identifier")return Math;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let r=n.visitNode(o.callee.property),a=o.arguments.map(f=>n.visitNode(f)),d=Math[r];return d?d(...a):"proceed"}return"proceed"}),this.visitor.on("String",(o,n)=>{if(o.type==="Identifier")return String;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let r=n.visitNode(o.callee.property),a=o.arguments.map(f=>n.visitNode(f)),d=String[r];return d?d(a):"proceed"}return"proceed"}),this.visitor.on("Date",o=>{if(o.type==="Identifier")return Date})}interpret(){return this.visitor.run()}};s(uo,"Jinter");mf=new WeakMap;function Lv(t,e){let i=new uo(t);for(let[o,n]of Object.entries(e))i.scope.set(o,n);return i.interpret()}s(Lv,"evaluate");var ai={};mt(ai,{CLIENTS:()=>gt,INNERTUBE_HEADERS_BASE:()=>Gg,OAUTH:()=>Jg,STREAM_HEADERS:()=>Hg,URLS:()=>Wg,default:()=>F});var Wg=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),Jg=Object.freeze({SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:Object.freeze({accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"}),REGEX:Object.freeze({AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:new RegExp('.+?={};var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)"},')})}),gt=Object.freeze({WEB:{NAME:"WEB",VERSION:"2.20230104.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"18.06.35",SDK_VERSION:"29",USER_AGENT:"com.google.android.youtube/18.06.35 (Linux; U; Android 10; US)"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),Hg=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),Gg=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"}),F={URLS:Wg,OAUTH:Jg,CLIENTS:gt,STREAM_HEADERS:Hg,INNERTUBE_HEADERS_BASE:Gg};var Wn,ui=class extends EventTarget{constructor(){super(),Wn.set(this,new Map)}emit(e,...i){let o=new O.shim.CustomEvent(e,{detail:i});this.dispatchEvent(o)}on(e,i){let o=s(n=>{n instanceof O.shim.CustomEvent?i(...n.detail):i(n)},"wrapper");u(this,Wn,"f").set(i,o),this.addEventListener(e,o)}once(e,i){let o=s(n=>{n instanceof O.shim.CustomEvent?i(...n.detail):i(n),this.off(e,i)},"wrapper");u(this,Wn,"f").set(i,o),this.addEventListener(e,o)}off(e,i){let o=u(this,Wn,"f").get(i);o&&(this.removeEventListener(e,o),u(this,Wn,"f").delete(i))}};s(ui,"EventEmitterLike");Wn=new WeakMap;var Zs=class extends l{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};s(Zs,"AudioOnlyPlayability");Zs.type="AudioOnlyPlayability";var _f=Zs;var S=class extends l{constructor(e){var i,o,n,r;super(),e.text&&(this.text=new c(e.text).toString()),!((i=e.accessibility)===null||i===void 0)&&i.label&&(this.label=(o=e.accessibility)===null||o===void 0?void 0:o.label),e.tooltip&&(this.tooltip=e.tooltip),!((n=e.icon)===null||n===void 0)&&n.iconType&&(this.icon_type=(r=e.icon)===null||r===void 0?void 0:r.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint||e.command)}};s(S,"Button");S.type="Button";var er=class extends l{constructor(e){var i,o,n;super(),this.label=new c(e.label).toString(),this.selected=!!e.isSelected,e.int32Value?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),!((i=e.onSelectCommand)===null||i===void 0)&&i.browseEndpoint&&(this.endpoint=new v(e.onSelectCommand)),!((o=e.icon)===null||o===void 0)&&o.iconType&&(this.icon_type=(n=e.icon)===null||n===void 0?void 0:n.iconType),e.descriptionText&&(this.description=new c(e.descriptionText).toString())}};s(er,"DropdownItem");er.type="DropdownItem";var vf=er;var tr=class extends l{constructor(e){super(),this.label=e.label||"",this.entries=p.parseArray(e.entries,vf)}};s(tr,"Dropdown");tr.type="Dropdown";var Jn=tr;var ir=class extends l{constructor(e){var i;super(),this.title=new c(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=((i=p.parseItem(e.privacyOption,Jn))===null||i===void 0?void 0:i.entries)||null,this.create_button=p.parseItem(e.cancelButton,S),this.cancel_button=p.parseItem(e.cancelButton,S)}};s(ir,"CreatePlaylistDialog");ir.type="CreatePlaylistDialog";var gf=ir;var or=class extends l{constructor(e){var i,o,n,r,a,d,f,h;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand);let _=Object.keys(e||{}).find(b=>b.endsWith("Endpoint")||b.endsWith("Command"));this.payload=_?Reflect.get(e,_):{},Reflect.has(this.payload,"dialog")&&(this.dialog=p.parse(this.payload.dialog)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((o=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||o===void 0)&&o.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((r=(n=e==null?void 0:e.commandMetadata)===null||n===void 0?void 0:n.webCommandMetadata)===null||r===void 0)&&r.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((d=(a=e==null?void 0:e.commandMetadata)===null||a===void 0?void 0:a.webCommandMetadata)===null||d===void 0)&&d.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):_&&(this.metadata.api_url=this.getEndpoint(_)),!((h=(f=e==null?void 0:e.commandMetadata)===null||f===void 0?void 0:f.webCommandMetadata)===null||h===void 0)&&h.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=p.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,gf))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};s(or,"NavigationEndpoint");or.type="NavigationEndpoint";var v=or;var yf=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),this.endpoint=e.navigationEndpoint?new v(e.navigationEndpoint):void 0,this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=bf(this.text),n=`<span style="white-space: pre-wrap;">${e.map(r=>`<${r}>`).join("")+i+e.map(r=>`</${r}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:r}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let a=this.endpoint.toURL();if(a)return`<a href="${a}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${r}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${n}</a>`}}if(this.endpoint){let r=this.endpoint.toURL();if(r)return`<a href="${r}">${n}</a>`}return n}};s(yf,"TextRun");var xf=yf;var Hn=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){return!e||!e.thumbnails?[]:e.thumbnails.map(i=>new Hn(i)).sort((i,o)=>o.width-i.width)}};s(Hn,"Thumbnail");var w=Hn;var wf=class{constructor(e){var i,o,n,r,a,d;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((n=(o=e.emoji)===null||o===void 0?void 0:o.shortcuts)===null||n===void 0?void 0:n[0])||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((r=e.emoji)===null||r===void 0?void 0:r.shortcuts)||[],search_terms:((a=e.emoji)===null||a===void 0?void 0:a.searchTerms)||[],image:w.fromResponse(e.emoji.image),is_custom:!!(!((d=e.emoji)===null||d===void 0)&&d.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=bf(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};s(wf,"EmojiRun");var Tf=wf;function bf(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}s(bf,"escape");var c=class{constructor(e){var i,o,n,r;(e==null?void 0:e.hasOwnProperty("runs"))&&Array.isArray(e.runs)?(this.runs=e.runs.map(a=>a.emoji?new Tf(a):new xf(a)),this.text=this.runs.map(a=>a.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new v(e.titleNavigationEndpoint)),this.endpoint||!((o=(i=this.runs)===null||i===void 0?void 0:i[0])===null||o===void 0)&&o.endpoint&&(this.endpoint=(r=(n=this.runs)===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.endpoint)}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};s(c,"Text");var nr=class extends l{constructor(e){super(),this.cards=p.parseArray(e.cards),this.header=new c(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};s(nr,"CardCollection");nr.type="CardCollection";var If=nr;var sr=class extends l{constructor(e){super(),this.elements=p.parseArray(e.elements),this.start_ms=e.startMs}};s(sr,"Endscreen");sr.type="Endscreen";var kf=sr;var rr=class extends l{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:w.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new v(e.featuredChannel.navigationEndpoint),subscribe_button:p.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};s(rr,"PlayerAnnotationsExpanded");rr.type="PlayerAnnotationsExpanded";var Sf=rr;var ar=class extends l{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new c(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new c(i.languageName)})))}};s(ar,"PlayerCaptionsTracklist");ar.type="PlayerCaptionsTracklist";var Cf=ar;var ur=class extends l{constructor(){super()}};s(ur,"PlayerLiveStoryboardSpec");ur.type="PlayerLiveStoryboardSpec";var Nf=ur;var lr=class extends l{constructor(e){super();let i=e.spec.split("|"),o=new URL(i.shift());this.boards=i.map((n,r)=>{let[a,d,f,h,_,b,y,T]=n.split("#");o.searchParams.set("sigh",T);let k=Math.ceil(parseInt(f,10)/(parseInt(h,10)*parseInt(_,10)));return{template_url:o.toString().replace("$L",r).replace("$N",y),thumbnail_width:parseInt(a,10),thumbnail_height:parseInt(d,10),thumbnail_count:parseInt(f,10),interval:parseInt(b,10),columns:parseInt(h,10),rows:parseInt(_,10),storyboard_count:k}})}};s(lr,"PlayerStoryboardSpec");lr.type="PlayerStoryboardSpec";var Ef=lr;var cr=class extends l{constructor(e){super(),this.text=new c(e.text).toString()}};s(cr,"Message");cr.type="Message";var Oe=cr;var dr=class extends l{constructor(e){super(),this.name=new c(e.authorName),this.photo=w.fromResponse(e.authorPhoto),this.badges=p.parse(e.authorBadges)}};s(dr,"LiveChatParticipant");dr.type="LiveChatParticipant";var Pf=dr;var pr=class extends l{constructor(e){super(),this.title=new c(e.title),this.participants=p.parseArray(e.participants,Pf)}};s(pr,"LiveChatParticipantsList");pr.type="LiveChatParticipantsList";var Mf=pr;var fr=class extends l{constructor(e){var i,o;super(),this.items=p.parseArray(e.items),this.top_level_buttons=p.parseArray(e.topLevelButtons),this.label=((o=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label)||null}get contents(){return this.items}};s(fr,"Menu");fr.type="Menu";var J=fr;var hr=class extends l{constructor(e){var i,o,n;super(),e.title&&(this.title=e.title),!((i=e.icon)===null||i===void 0)&&i.iconType&&(this.icon_type=e.icon.iconType),!((n=(o=e.accessibility)===null||o===void 0?void 0:o.accessibilityData)===null||n===void 0)&&n.label&&(this.label=e.accessibility.accessibilityData.label),e.tooltip&&(this.tooltip=e.tooltip),e.subMenuItems&&(this.sub_menu_items=e.subMenuItems.map(r=>{var a,d;return{title:r.title,selected:r.selected,continuation:(d=(a=r.continuation)===null||a===void 0?void 0:a.reloadContinuationData)===null||d===void 0?void 0:d.continuation,endpoint:new v(r.serviceEndpoint||r.navigationEndpoint),subtitle:r.subtitle||null}}))}};s(hr,"SortFilterSubMenu");hr.type="SortFilterSubMenu";var li=hr;var mr=class extends l{constructor(e){super(),this.overflow_menu=p.parseItem(e.overflowMenu,J),this.collapse_button=p.parseItem(e.collapseButton,S),this.view_selector=p.parseItem(e.viewSelector,li)}};s(mr,"LiveChatHeader");mr.type="LiveChatHeader";var Af=mr;var _r=class extends l{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=p.parseItem(e.moreCommentsBelowButton,S)}};s(_r,"LiveChatItemList");_r.type="LiveChatItemList";var Vf=_r;var vr=class extends l{constructor(e){super(),this.text=new c(e.text),this.alert_type=e.type}};s(vr,"Alert");vr.type="Alert";var Rf=vr;var gr=class extends l{constructor(e){var i;super(),this.title=new c(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,this.selected_icon_type=((i=e.selectedIcon)===null||i===void 0?void 0:i.iconType)||null,this.endpoint=e.selectedCommand?new v(e.selectedCommand):null,this.selected=!!this.endpoint}};s(gr,"MusicMultiSelectMenuItem");gr.type="MusicMultiSelectMenuItem";var tt=gr;var Of=class{constructor(e){var i,o,n,r,a,d,f,h;if(this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width||void 0,this.height=e.height||void 0,this.init_range=e.initRange?{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}:void 0,this.index_range=e.indexRange?{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel||void 0,this.fps=e.fps||void 0,this.url=e.url||void 0,this.cipher=e.cipher||void 0,this.signature_cipher=e.signatureCipher||void 0,this.audio_quality=e.audioQuality||void 0,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_audio){let _=new URLSearchParams(this.cipher||this.signature_cipher),b=new URLSearchParams(_.get("url")||this.url);this.language=((o=(i=b.get("xtags"))===null||i===void 0?void 0:i.split(":").find(y=>y.startsWith("lang=")))===null||o===void 0?void 0:o.split("=").at(1))||null,this.is_dubbed=((r=(n=b.get("xtags"))===null||n===void 0?void 0:n.split(":").find(y=>y.startsWith("acont=")))===null||r===void 0?void 0:r.split("=").at(1))==="dubbed",this.is_descriptive=((d=(a=b.get("xtags"))===null||a===void 0?void 0:a.split(":").find(y=>y.startsWith("acont=")))===null||d===void 0?void 0:d.split("=").at(1))==="descriptive",this.is_original=((h=(f=b.get("xtags"))===null||f===void 0?void 0:f.split(":").find(y=>y.startsWith("acont=")))===null||h===void 0?void 0:h.split("=").at(1))==="original"||!this.is_dubbed,e.audioTrack&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id})}}decipher(e){if(!e)throw new g("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher)}};s(Of,"Format");var Bf=Of;var Ff=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=w.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_upcoming=!!e.isUpcoming,this.is_crawlable=!!e.isCrawlable}};s(Ff,"VideoDetails");var Df=Ff;var vp={};mt(vp,{AccountChannel:()=>Lf,AccountItemSection:()=>jf,AccountItemSectionHeader:()=>Yf,AccountSectionList:()=>Uf,AddBannerToLiveChatCommand:()=>Sx,AddChatItemAction:()=>Gh,AddLiveChatTickerItemAction:()=>Cx,Alert:()=>Rf,AnalyticsMainAppKeyMetrics:()=>Kg,AnalyticsRoot:()=>$g,AnalyticsShortsCarouselCard:()=>qg,AnalyticsVideo:()=>Hf,AnalyticsVodCarouselCard:()=>Xg,AnchoredSection:()=>qm,AppendContinuationItemsAction:()=>Wf,AudioOnlyPlayability:()=>_f,AuthorCommentBadge:()=>sh,AutomixPreviewVideo:()=>Li,BackstageImage:()=>Gf,BackstagePost:()=>Yi,BackstagePostThread:()=>ey,BrowseFeedActions:()=>$f,BrowserMediaSession:()=>ty,Button:()=>S,C4TabbedHeader:()=>Gn,CallToActionButton:()=>iy,Card:()=>oy,CardCollection:()=>If,CarouselHeader:()=>Qf,CarouselItem:()=>ny,Channel:()=>Zf,ChannelAboutFullMetadata:()=>eh,ChannelAgeGate:()=>sy,ChannelFeaturedContent:()=>ry,ChannelHeaderLinks:()=>qf,ChannelMetadata:()=>th,ChannelMobileHeader:()=>ay,ChannelOptions:()=>ih,ChannelSubMenu:()=>ra,ChannelThumbnailWithLink:()=>uy,ChannelVideoPlayer:()=>ly,Chapter:()=>oh,ChildVideo:()=>cy,ChipCloud:()=>ci,ChipCloudChip:()=>ye,CollaboratorInfoCardContent:()=>dy,CollageHeroImage:()=>py,Comment:()=>qn,CommentActionButtons:()=>lo,CommentDialog:()=>ix,CommentReplies:()=>hh,CommentReplyDialog:()=>rh,CommentSimplebox:()=>_h,CommentThread:()=>vh,CommentsEntryPointHeader:()=>mh,CommentsHeader:()=>Xn,CompactChannel:()=>ox,CompactLink:()=>Qn,CompactMix:()=>nx,CompactPlaylist:()=>sx,CompactStation:()=>rx,CompactVideo:()=>gh,ConfirmDialog:()=>ax,ContinuationItem:()=>Me,ConversationBar:()=>ux,CopyLink:()=>yh,CreatePlaylistDialog:()=>gf,CreatorHeart:()=>Kf,CtaGoToCreatorStudio:()=>Qg,DataModelSection:()=>Jf,DecoratedPlayerBar:()=>Th,DefaultPromoPanel:()=>lx,DidYouMean:()=>Ih,DimChatItemAction:()=>Nx,DownloadButton:()=>cx,Dropdown:()=>Jn,DropdownItem:()=>vf,Element:()=>Zn,EmergencyOnebox:()=>dx,EmojiPicker:()=>fh,EmojiPickerCategory:()=>px,EmojiPickerCategoryButton:()=>fx,EmojiPickerUpsellCategory:()=>hx,EndScreenPlaylist:()=>Sh,EndScreenVideo:()=>Ch,Endscreen:()=>kf,EndscreenElement:()=>mx,ExpandableMetadata:()=>Ph,ExpandableTab:()=>is,ExpandedShelfContents:()=>_x,FeedFilterChipBar:()=>pi,FeedTabbedHeader:()=>Ah,GameCard:()=>Eh,GameDetails:()=>vx,Grid:()=>_o,GridChannel:()=>Vh,GridHeader:()=>gx,GridMix:()=>yx,GridMovie:()=>xx,GridPlaylist:()=>Rh,GridShow:()=>vo,GridVideo:()=>hi,GuideCollapsibleEntry:()=>go,GuideCollapsibleSectionEntry:()=>yo,GuideDownloadsEntry:()=>xo,GuideEntry:()=>ft,GuideSection:()=>xt,GuideSubscriptionsSection:()=>mi,HashtagHeader:()=>Bh,HeatMarker:()=>xh,Heatmap:()=>bh,HeroPlaylistThumbnail:()=>bx,HighlightsCarousel:()=>Iu,HistorySuggestion:()=>wx,HorizontalCardList:()=>ts,HorizontalList:()=>Tx,HorizontalMovieList:()=>Ix,IconLink:()=>Dh,InfoPanelContainer:()=>bo,InfoPanelContent:()=>_i,InteractiveTabbedHeader:()=>Lh,ItemSection:()=>he,ItemSectionHeader:()=>Yh,ItemSectionTab:()=>jh,ItemSectionTabbedHeader:()=>Uh,KidsCategoriesHeader:()=>Xm,KidsCategoryTab:()=>ps,KidsHomeScreen:()=>Qm,LikeButton:()=>kx,LiveChat:()=>Wh,LiveChatActionPanel:()=>$h,LiveChatAuthorBadge:()=>Zx,LiveChatAutoModMessage:()=>Ex,LiveChatBanner:()=>Hh,LiveChatBannerHeader:()=>Jh,LiveChatBannerPoll:()=>Px,LiveChatDialog:()=>eb,LiveChatHeader:()=>Af,LiveChatItemList:()=>Vf,LiveChatMembershipItem:()=>Mx,LiveChatMessageInput:()=>tb,LiveChatPaidMessage:()=>Ax,LiveChatPaidSticker:()=>Vx,LiveChatParticipant:()=>Pf,LiveChatParticipantsList:()=>Mf,LiveChatPlaceholderItem:()=>Rx,LiveChatProductItem:()=>Ox,LiveChatRestrictedParticipation:()=>Bx,LiveChatTextMessage:()=>Fx,LiveChatTickerPaidMessageItem:()=>Kh,LiveChatTickerPaidStickerItem:()=>Dx,LiveChatTickerSponsorItem:()=>Lx,LiveChatViewerEngagementMessage:()=>Yx,MacroMarkersListItem:()=>Nh,MarkChatItemAsDeletedAction:()=>Ux,MarkChatItemsByAuthorAsDeletedAction:()=>Wx,Menu:()=>J,MenuNavigationItem:()=>ib,MenuServiceItem:()=>os,MenuServiceItemDownload:()=>ob,MerchandiseItem:()=>rb,MerchandiseShelf:()=>nm,Message:()=>Oe,MetadataBadge:()=>Ge,MetadataRow:()=>ab,MetadataRowContainer:()=>sm,MetadataRowHeader:()=>ub,MetadataScreen:()=>lb,MicroformatData:()=>Gt,Mix:()=>cb,Movie:()=>db,MovingThumbnail:()=>pb,MultiMarkersPlayerBar:()=>wh,MultiPageMenu:()=>nb,MultiPageMenuNotificationSection:()=>sb,MusicCardShelf:()=>gi,MusicCardShelfHeaderBasic:()=>vi,MusicCarouselShelf:()=>be,MusicCarouselShelfBasicHeader:()=>cm,MusicDescriptionShelf:()=>To,MusicDetailHeader:()=>Io,MusicDownloadStateBadge:()=>bb,MusicEditablePlaylistDetailHeader:()=>dm,MusicElementHeader:()=>ic,MusicHeader:()=>Ui,MusicImmersiveHeader:()=>pm,MusicInlineBadge:()=>rm,MusicItemThumbnailOverlay:()=>ji,MusicLargeCardItemCarousel:()=>wb,MusicMenuItemDivider:()=>tm,MusicMultiSelectMenu:()=>im,MusicMultiSelectMenuItem:()=>tt,MusicNavigationButton:()=>ss,MusicPlayButton:()=>am,MusicPlaylistShelf:()=>ko,MusicQueue:()=>rs,MusicResponsiveListItem:()=>ot,MusicResponsiveListItemFixedColumn:()=>um,MusicResponsiveListItemFlexColumn:()=>lm,MusicShelf:()=>me,MusicSideAlignedItem:()=>hm,MusicSortFilterButton:()=>_c,MusicTastebuilderShelf:()=>bi,MusicTastebuilderShelfThumbnail:()=>xi,MusicThumbnail:()=>zt,MusicTwoRowItem:()=>ns,MusicVisualHeader:()=>mm,NavigationEndpoint:()=>v,Notification:()=>_m,OpenPopupAction:()=>zg,PageIntroduction:()=>vm,PdgCommentChip:()=>uh,PlayerAnnotationsExpanded:()=>Sf,PlayerCaptionsTracklist:()=>Cf,PlayerErrorMessage:()=>Tb,PlayerLegacyDesktopYpcOffer:()=>Ib,PlayerLegacyDesktopYpcTrailer:()=>Ic,PlayerLiveStoryboardSpec:()=>Nf,PlayerMicroformat:()=>qt,PlayerOverlay:()=>Wi,PlayerOverlayAutoplay:()=>ym,PlayerStoryboardSpec:()=>Ef,Playlist:()=>Ht,PlaylistCustomThumbnail:()=>bm,PlaylistHeader:()=>wm,PlaylistInfoCardContent:()=>kb,PlaylistMetadata:()=>Tm,PlaylistPanel:()=>$t,PlaylistPanelVideo:()=>yi,PlaylistPanelVideoWrapper:()=>fm,PlaylistSidebar:()=>Sb,PlaylistSidebarPrimaryInfo:()=>Im,PlaylistSidebarSecondaryInfo:()=>km,PlaylistVideo:()=>Sm,PlaylistVideoList:()=>Cb,PlaylistVideoThumbnail:()=>Cm,Poll:()=>Nb,PollHeader:()=>jx,Post:()=>Nm,PostMultiImage:()=>Eb,ProfileColumn:()=>Pb,ProfileColumnStats:()=>Em,ProfileColumnStatsEntry:()=>Mb,ProfileColumnUserInfo:()=>Pm,RecognitionShelf:()=>Ab,ReelItem:()=>Mm,ReelShelf:()=>Am,RelatedChipCloud:()=>Vm,RemoveBannerForLiveChatCommand:()=>Jx,RemoveChatItemAction:()=>Hx,RemoveChatItemByAuthorAction:()=>Gx,ReplaceChatItemAction:()=>zx,ReplayChatItemAction:()=>Kx,RichGrid:()=>Ji,RichItem:()=>Vb,RichListHeader:()=>Rb,RichMetadata:()=>ed,RichMetadataRow:()=>id,RichSection:()=>Ob,RichShelf:()=>Rm,SearchBox:()=>Bb,SearchFilter:()=>Om,SearchFilterGroup:()=>Bm,SearchRefinementCard:()=>ho,SearchSubMenu:()=>Fm,SearchSuggestion:()=>Fh,SearchSuggestionsSection:()=>Dm,SecondarySearchContainer:()=>Fb,SectionList:()=>Z,SegmentedLikeDislikeButton:()=>So,SettingBoolean:()=>Db,SettingsCheckbox:()=>Lm,SettingsOptions:()=>us,SettingsSidebar:()=>Ym,SettingsSwitch:()=>as,SharedPost:()=>jm,Shelf:()=>ls,ShowCustomThumbnail:()=>fi,ShowLiveChatActionPanelAction:()=>$x,ShowLiveChatDialogAction:()=>qx,ShowLiveChatTooltipCommand:()=>Xx,ShowingResultsFor:()=>wi,SimpleCardContent:()=>Lb,SimpleCardTeaser:()=>Yb,SimpleMenuHeader:()=>om,SimpleTextSection:()=>jb,SingleActionEmergencySupport:()=>Ub,SingleColumnBrowseResults:()=>Xt,SingleColumnMusicWatchNextResults:()=>Wb,SingleHeroImage:()=>Jb,SlimOwner:()=>Hb,SlimVideoMetadata:()=>Um,SortFilterSubMenu:()=>li,SponsorCommentBadge:()=>ah,StatRow:()=>Zg,SubFeedOption:()=>Gb,SubFeedSelector:()=>zb,SubscribeButton:()=>Be,SubscriptionNotificationToggleButton:()=>Xf,Tab:()=>le,Tabbed:()=>Kb,TabbedSearchResults:()=>Wm,TextHeader:()=>$b,ThumbnailLandscapePortrait:()=>qb,ThumbnailOverlayBottomPanel:()=>Oh,ThumbnailOverlayEndorsement:()=>Xb,ThumbnailOverlayHoverText:()=>Qb,ThumbnailOverlayInlineUnplayable:()=>Zb,ThumbnailOverlayLoadingPreview:()=>ew,ThumbnailOverlayNowPlaying:()=>tw,ThumbnailOverlayPinking:()=>iw,ThumbnailOverlayPlaybackStatus:()=>ow,ThumbnailOverlayResumePlayback:()=>nw,ThumbnailOverlaySidePanel:()=>sw,ThumbnailOverlayTimeStatus:()=>mo,ThumbnailOverlayToggleButton:()=>rw,TimedMarkerDecoration:()=>aw,TitleAndButtonListHeader:()=>uw,ToggleButton:()=>Pe,ToggleMenuServiceItem:()=>Co,Tooltip:()=>lw,TopicChannelDetails:()=>cw,TwoColumnBrowseResults:()=>Hi,TwoColumnSearchResults:()=>Jm,TwoColumnWatchNextResults:()=>cs,UniversalWatchCard:()=>Gm,UpdateDateTextAction:()=>qh,UpdateDescriptionAction:()=>Xh,UpdateLiveChatPollAction:()=>Qx,UpdateTitleAction:()=>Qh,UpdateToggleButtonTextAction:()=>Zh,UpdateViewershipAction:()=>em,UpsellDialog:()=>dw,VerticalList:()=>pw,VerticalWatchCardList:()=>fw,Video:()=>es,VideoCard:()=>Mh,VideoInfoCardContent:()=>hw,VideoOwner:()=>ds,VideoPrimaryInfo:()=>zm,VideoSecondaryInfo:()=>ap,WatchCardCompactVideo:()=>Km,WatchCardHeroVideo:()=>_w,WatchCardRichHeader:()=>vw,WatchCardSectionSequence:()=>gw,WatchNextEndScreen:()=>xm,WatchNextTabbedResults:()=>$m,YpcTrailer:()=>gm});var yr=class extends l{constructor(e){super(),this.title=new c(e.title),this.endpoint=new v(e.navigationEndpoint)}};s(yr,"AccountChannel");yr.type="AccountChannel";var Lf=yr;var xr=class extends l{constructor(e){super(),this.title=new c(e.title)}};s(xr,"AccountItemSectionHeader");xr.type="AccountItemSectionHeader";var Yf=xr;var br=class{constructor(e){this.account_name=new c(e.accountName),this.account_photo=w.fromResponse(e.accountPhoto),this.is_selected=e.isSelected,this.is_disabled=e.isDisabled,this.has_channel=e.hasChannel,this.endpoint=new v(e.serviceEndpoint),this.account_byline=new c(e.accountByline)}};s(br,"AccountItem");br.type="AccountItem";var wr=class extends l{constructor(e){super(),this.contents=e.contents.map(i=>new br(i.accountItem)),this.header=p.parseItem(e.header,Yf)}};s(wr,"AccountItemSection");wr.type="AccountItemSection";var jf=wr;var Tr=class extends l{constructor(e){super(),this.contents=p.parseItem(e.contents[0],jf),this.footers=p.parseItem(e.footers[0],Lf)}};s(Tr,"AccountSectionList");Tr.type="AccountSectionList";var Uf=Tr;var Ir=class extends l{constructor(e){super(),this.items=p.parse(e.continuationItems),this.target=e.target}};s(Ir,"AppendContinuationItemsAction");Ir.type="AppendContinuationItemsAction";var Wf=Ir;var kr=class extends l{constructor(e){super(),this.popup=p.parseItem(e.popup),this.popup_type=e.popupType}};s(kr,"OpenPopupAction");kr.type="OpenPopupAction";var zg=kr;var Sr=class extends l{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};s(Sr,"DataModelSection");Sr.type="DataModelSection";var Jf=Sr;var Cr=class extends l{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(o=>new Jf(o))}};s(Cr,"AnalyticsMainAppKeyMetrics");Cr.type="AnalyticsMainAppKeyMetrics";var Kg=Cr;var Nr=class extends l{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(o=>({title:o.cardData.title,rows:o.cardData.rows.map(n=>({label:n.label,display_value:n.displayValue,display_value_a11y:n.displayValueA11y,bar_ratio:n.barRatio,bar_color:n.barColor,bar_opacity:n.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};s(Nr,"AnalyticsRoot");Nr.type="AnalyticsRoot";var $g=Nr;var Er=class extends l{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new v(i.videoEndpoint)}))}};s(Er,"AnalyticsShortsCarouselCard");Er.type="AnalyticsShortsCarouselCard";var qg=Er;var Pr=class extends l{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:w.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};s(Pr,"AnalyticsVideo");Pr.type="AnalyticsVideo";var Hf=Pr;var Mr=class extends l{constructor(e){var i;super(),this.title=e.title,e.noDataMessage&&(this.no_data_message=e.noDataMessage),this.videos=((i=e.videoCarouselData)===null||i===void 0?void 0:i.videos.map(o=>new Hf(o)))||null}};s(Mr,"AnalyticsVodCarouselCard");Mr.type="AnalyticsVodCarouselCard";var Xg=Mr;var Ar=class extends l{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};s(Ar,"CtaGoToCreatorStudio");Ar.type="CtaGoToCreatorStudio";var Qg=Ar;var Vr=class extends l{constructor(e){super(),this.title=new c(e.title),this.contents=new c(e.contents)}};s(Vr,"StatRow");Vr.type="StatRow";var Zg=Vr;var Rr=class extends l{constructor(e){var i,o;super(),!((o=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||o===void 0)&&o.navigationEndpoint&&(this.playlist_video={endpoint:new v(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};s(Rr,"AutomixPreviewVideo");Rr.type="AutomixPreviewVideo";var Li=Rr;var Or=class extends l{constructor(e){super(),this.image=w.fromResponse(e.image),this.endpoint=new v(e.command)}};s(Or,"BackstageImage");Or.type="BackstageImage";var Gf=Or;var it,zf=class{constructor(e,i,o,n){var r,a,d,f,h,_,b,y,T,k,N,E,R,D,j,ae,ge,Ve,Se,De,$,z,ee,Q,Ue,Pt,Mt,At,Vt,Rt,Ot,Bt,Ft,Dt,Lt,Yt,se;it.set(this,void 0),I(this,it,new c(e),"f"),this.id=n||((h=(f=(d=(a=(r=u(this,it,"f"))===null||r===void 0?void 0:r.runs)===null||a===void 0?void 0:a[0])===null||d===void 0?void 0:d.endpoint)===null||f===void 0?void 0:f.payload)===null||h===void 0?void 0:h.browseId)||((y=(b=(_=u(this,it,"f"))===null||_===void 0?void 0:_.endpoint)===null||b===void 0?void 0:b.payload)===null||y===void 0?void 0:y.browseId)||"N/A",this.name=((T=u(this,it,"f"))===null||T===void 0?void 0:T.text)||"N/A",this.thumbnails=o?w.fromResponse(o):[],this.endpoint=((E=(N=(k=u(this,it,"f"))===null||k===void 0?void 0:k.runs)===null||N===void 0?void 0:N[0])===null||E===void 0?void 0:E.endpoint)||((R=u(this,it,"f"))===null||R===void 0?void 0:R.endpoint)||null,this.badges=Array.isArray(i)?p.parseArray(i):ve([]),this.is_moderator=((D=this.badges)===null||D===void 0?void 0:D.some(Ce=>Ce.icon_type=="MODERATOR"))||null,this.is_verified=((j=this.badges)===null||j===void 0?void 0:j.some(Ce=>Ce.style=="BADGE_STYLE_TYPE_VERIFIED"))||null,this.is_verified_artist=((ae=this.badges)===null||ae===void 0?void 0:ae.some(Ce=>Ce.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"))||null,this.url=(($=(De=(Se=(Ve=(ge=u(this,it,"f"))===null||ge===void 0?void 0:ge.runs)===null||Ve===void 0?void 0:Ve[0])===null||Se===void 0?void 0:Se.endpoint)===null||De===void 0?void 0:De.metadata)===null||$===void 0?void 0:$.api_url)==="/browse"&&`${F.URLS.YT_BASE}${((Pt=(Ue=(Q=(ee=(z=u(this,it,"f"))===null||z===void 0?void 0:z.runs)===null||ee===void 0?void 0:ee[0])===null||Q===void 0?void 0:Q.endpoint)===null||Ue===void 0?void 0:Ue.payload)===null||Pt===void 0?void 0:Pt.canonicalBaseUrl)||`/u/${(Ot=(Rt=(Vt=(At=(Mt=u(this,it,"f"))===null||Mt===void 0?void 0:Mt.runs)===null||At===void 0?void 0:At[0])===null||Vt===void 0?void 0:Vt.endpoint)===null||Rt===void 0?void 0:Rt.payload)===null||Ot===void 0?void 0:Ot.browseId}`}`||`${F.URLS.YT_BASE}${((Dt=(Ft=(Bt=u(this,it,"f"))===null||Bt===void 0?void 0:Bt.endpoint)===null||Ft===void 0?void 0:Ft.payload)===null||Dt===void 0?void 0:Dt.canonicalBaseUrl)||`/u/${(se=(Yt=(Lt=u(this,it,"f"))===null||Lt===void 0?void 0:Lt.endpoint)===null||Yt===void 0?void 0:Yt.payload)===null||se===void 0?void 0:se.browseId}`}`||null}get best_thumbnail(){return this.thumbnails[0]}};s(zf,"Author");it=new WeakMap;var B=zf;var Br=class extends l{constructor(e){var i,o,n,r,a,d,f,h,_,b;super(),this.text=new c(e.defaultText),this.toggled_text=new c(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=e.defaultIcon.iconType;let y=((n=(o=(i=e==null?void 0:e.defaultText)===null||i===void 0?void 0:i.accessibility)===null||o===void 0?void 0:o.accessibilityData)===null||n===void 0?void 0:n.label)||((a=(r=e==null?void 0:e.accessibilityData)===null||r===void 0?void 0:r.accessibilityData)===null||a===void 0?void 0:a.label)||((d=e==null?void 0:e.accessibility)===null||d===void 0?void 0:d.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(y.replace(/\D/g,"")),this.short_like_count=new c(e.defaultText).toString()),this.endpoint=!((h=(f=e.defaultServiceEndpoint)===null||f===void 0?void 0:f.commandExecutorCommand)===null||h===void 0)&&h.commands?new v(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint),this.button_id=((b=(_=e.toggleButtonSupportedData)===null||_===void 0?void 0:_.toggleButtonIdData)===null||b===void 0?void 0:b.id)||null,this.target_id=e.targetId||null}};s(Br,"ToggleButton");Br.type="ToggleButton";var Pe=Br;var Fr=class extends l{constructor(e){var i,o,n;super(),this.creator_thumbnail=w.fromResponse(e.creatorThumbnail),this.heart_icon_type=(i=e.heartIcon)===null||i===void 0?void 0:i.iconType,this.heart_color={basic_color_palette_data:{foreground_title_color:(n=(o=e.heartColor)===null||o===void 0?void 0:o.basicColorPaletteData)===null||n===void 0?void 0:n.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};s(Fr,"CreatorHeart");Fr.type="CreatorHeart";var Kf=Fr;var Dr=class extends l{constructor(e){super(),this.like_button=p.parseItem(e.likeButton,Pe),this.dislike_button=p.parseItem(e.dislikeButton,Pe),this.reply_button=p.parseItem(e.replyButton,S),this.creator_heart=p.parseItem(e.creatorHeart,Kf)}};s(Dr,"CommentActionButtons");Dr.type="CommentActionButtons";var lo=Dr;var Lr=class extends l{constructor(e){super(),this.id=e.postId,this.author=new B(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new c(e.contentText),this.published=new c(e.publishedTimeText),e.pollStatus&&(this.poll_status=e.pollStatus),e.voteStatus&&(this.vote_status=e.voteStatus),e.voteCount&&(this.vote_count=new c(e.voteCount)),e.actionMenu&&(this.menu=p.parseItem(e.actionMenu,J)),e.actionButtons&&(this.action_buttons=p.parseItem(e.actionButtons,lo)),e.voteButton&&(this.vote_button=p.parseItem(e.voteButton,lo)),e.navigationEndpoint&&(this.endpoint=new v(e.navigationEndpoint)),e.backstageAttachment&&(this.attachment=p.parseItem(e.backstageAttachment)),this.surface=e.surface}};s(Lr,"BackstagePost");Lr.type="BackstagePost";var Yi=Lr;var Yr=class extends l{constructor(e){super(),this.post=p.parseItem(e.post)}};s(Yr,"BackstagePostThread");Yr.type="BackstagePostThread";var ey=Yr;var jr=class extends l{constructor(e){super(),this.contents=p.parseArray(e.contents)}};s(jr,"BrowseFeedActions");jr.type="BrowseFeedActions";var $f=jr;var Ur=class extends l{constructor(e){super(),this.album=new c(e.album),this.thumbnails=w.fromResponse(e.thumbnailDetails)}};s(Ur,"BrowserMediaSession");Ur.type="BrowserMediaSession";var ty=Ur;var Wr=class{constructor(e){this.endpoint=new v(e.navigationEndpoint),this.icon=w.fromResponse(e.icon),this.title=new c(e.title)}};s(Wr,"HeaderLink");var Jr=class extends l{constructor(e){var i,o;super(),this.primary=((i=e.primaryLinks)===null||i===void 0?void 0:i.map(n=>new Wr(n)))||[],this.secondary=((o=e.secondaryLinks)===null||o===void 0?void 0:o.map(n=>new Wr(n)))||[]}};s(Jr,"ChannelHeaderLinks");Jr.type="ChannelHeaderLinks";var qf=Jr;var Hr=class extends l{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:p.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};s(Hr,"SubscriptionNotificationToggleButton");Hr.type="SubscriptionNotificationToggleButton";var Xf=Hr;var Gr=class extends l{constructor(e){var i,o;super(),this.title=new c(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new c(e.subscribedButtonText),this.unsubscribed_text=new c(e.unsubscribedButtonText),this.notification_preference_button=p.parseItem(e.notificationPreferenceButton,Xf),this.endpoint=new v(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((o=e.onSubscribeEndpoints)===null||o===void 0?void 0:o[0]))}};s(Gr,"SubscribeButton");Gr.type="SubscribeButton";var Be=Gr;var zr=class extends l{constructor(e){super(),this.author=new B({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),e.banner&&(this.banner=w.fromResponse(e.banner)),e.tv_banner&&(this.tv_banner=w.fromResponse(e.tvBanner)),e.mobile_banner&&(this.mobile_banner=w.fromResponse(e.mobileBanner)),e.subscriberCountText&&(this.subscribers=new c(e.subscriberCountText)),e.videosCountText&&(this.videos_count=new c(e.videosCountText)),e.sponsorButton&&(this.sponsor_button=p.parseItem(e.sponsorButton,S)),e.subscribeButton&&(this.subscribe_button=p.parseItem(e.subscribeButton,[Be,S])),e.headerLinks&&(this.header_links=p.parseItem(e.headerLinks,qf)),e.channelHandleText&&(this.channel_handle=new c(e.channelHandleText)),e.channelId&&(this.channel_id=e.channelId)}};s(zr,"C4TabbedHeader");zr.type="C4TabbedHeader";var Gn=zr;var Kr=class extends l{constructor(e){super(),this.label=new c(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};s(Kr,"CallToActionButton");Kr.type="CallToActionButton";var iy=Kr;var $r=class extends l{constructor(e){super(),this.teaser=p.parseItem(e.teaser),this.content=p.parseItem(e.content),this.card_id=e.cardId||null,this.feature=e.feature||null,this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};s($r,"Card");$r.type="Card";var oy=$r;var qr=class extends l{constructor(e){super(),this.contents=p.parseArray(e.contents)}};s(qr,"CarouselHeader");qr.type="CarouselHeader";var Qf=qr;var Xr=class extends l{constructor(e){super(),this.items=p.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=w.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}};s(Xr,"CarouselItem");Xr.type="CarouselItem";var ny=Xr;var Qr=class extends l{constructor(e){super(),this.id=e.channelId,this.author=new B(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new c(e.subscriberCountText),this.videos=new c(e.videoCountText),this.long_byline=new c(e.longBylineText),this.short_byline=new c(e.shortBylineText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=p.parseItem(e.subscribeButton,[Be,S]),this.description_snippet=new c(e.descriptionSnippet)}};s(Qr,"Channel");Qr.type="Channel";var Zf=Qr;var Zr=class extends l{constructor(e){var i,o;super(),this.id=e.channelId,this.name=new c(e.title),this.avatar=w.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(o=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(n=>({endpoint:new v(n.navigationEndpoint),icon:w.fromResponse(n.icon),title:new c(n.title)})))!==null&&o!==void 0?o:[],this.views=new c(e.viewCountText),this.joined=new c(e.joinedDateText),this.description=new c(e.description),this.email_reveal=new v(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new c(e.country),this.buttons=p.parseArray(e.actionButtons,S)}};s(Zr,"ChannelAboutFullMetadata");Zr.type="ChannelAboutFullMetadata";var eh=Zr;var ea=class extends l{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=w.fromResponse(e.avatar),this.header=new c(e.header),this.main_text=new c(e.mainText),this.sign_in_button=A.parseItem(e.signInButton,S),this.secondary_text=new c(e.secondaryText)}};s(ea,"ChannelAgeGate");ea.type="ChannelAgeGate";var sy=ea;var ta=class extends l{constructor(e){super(),this.title=new c(e.title),this.items=p.parseArray(e.items)}};s(ta,"ChannelFeaturedContent");ta.type="ChannelFeaturedContent";var ry=ta;var ia=class extends l{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_urls=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=w.fromResponse(e.avatar),this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};s(ia,"ChannelMetadata");ia.type="ChannelMetadata";var th=ia;var oa=class extends l{constructor(e){super(),this.title=new c(e.title)}};s(oa,"ChannelMobileHeader");oa.type="ChannelMobileHeader";var ay=oa;var na=class extends l{constructor(e){super(),this.avatar=w.fromResponse(e.avatar),this.endpoint=new v(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new c(i))}};s(na,"ChannelOptions");na.type="ChannelOptions";var ih=na;var sa=class extends l{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new v(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=p.parseItem(e.sortSetting)}};s(sa,"ChannelSubMenu");sa.type="ChannelSubMenu";var ra=sa;var aa=class extends l{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.label=e.accessibility.accessibilityData.label}};s(aa,"ChannelThumbnailWithLink");aa.type="ChannelThumbnailWithLink";var uy=aa;var ua=class extends l{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.description=new c(e.description),this.views=new c(e.viewCountText),this.published=new c(e.publishedTimeText)}};s(ua,"ChannelVideoPlayer");ua.type="ChannelVideoPlayer";var ly=ua;var la=class extends l{constructor(e){super(),this.title=new c(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=w.fromResponse(e.thumbnail)}};s(la,"Chapter");la.type="Chapter";var oh=la;var ca=class extends l{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.duration={text:e.lengthText.simpleText,seconds:Re(e.lengthText.simpleText)},this.endpoint=new v(e.navigationEndpoint)}};s(ca,"ChildVideo");ca.type="ChildVideo";var cy=ca;var da=class extends l{constructor(e){super(),this.is_selected=e.isSelected,this.endpoint=e.navigationEndpoint?new v(e.navigationEndpoint):void 0,this.text=new c(e.text).toString()}};s(da,"ChipCloudChip");da.type="ChipCloudChip";var ye=da;var pa=class extends l{constructor(e){super(),this.chips=p.parseArray(e.chips,ye),this.next_button=p.parseItem(e.nextButton,S),this.previous_button=p.parseItem(e.previousButton,S),this.horizontal_scrollable=e.horizontalScrollable}};s(pa,"ChipCloud");pa.type="ChipCloud";var ci=pa;var fa=class extends l{constructor(e){super(),this.channel_avatar=w.fromResponse(e.channelAvatar),this.custom_text=new c(e.customText),this.channel_name=new c(e.channelName),this.subscriber_count=new c(e.subscriberCountText),this.endpoint=new v(e.endpoint)}};s(fa,"CollaboratorInfoCardContent");fa.type="CollaboratorInfoCardContent";var dy=fa;var ha=class extends l{constructor(e){super(),this.left=w.fromResponse(e.leftThumbnail),this.top_right=w.fromResponse(e.topRightThumbnail),this.bottom_right=w.fromResponse(e.bottomRightThumbnail),this.endpoint=new v(e.navigationEndpoint)}};s(ha,"CollageHeroImage");ha.type="CollageHeroImage";var py=ha;var nh,ma=class extends l{constructor(e){var i;super(),nh.set(this,void 0),this.icon_type=((i=e.icon)===null||i===void 0?void 0:i.iconType)||null,this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),I(this,nh,e,"f")}get orig_badge(){return u(this,nh,"f")}};s(ma,"AuthorCommentBadge");nh=new WeakMap;ma.type="AuthorCommentBadge";var sh=ma;var _a=class extends l{constructor(e){super(),this.reply_button=p.parseItem(e.replyButton,S),this.cancel_button=p.parseItem(e.cancelButton,S),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.placeholder=new c(e.placeholderText),this.error_message=new c(e.errorMessage)}};s(_a,"CommentReplyDialog");_a.type="CommentReplyDialog";var rh=_a;var va=class extends l{constructor(e){super(),this.custom_badge=w.fromResponse(e.customBadge),this.tooltip=e.tooltip}};s(va,"SponsorCommentBadge");va.type="SponsorCommentBadge";var ah=va;var ga=class extends l{constructor(e){var i,o,n;super(),this.text=new c(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(o=e.chipColorPalette)===null||o===void 0?void 0:o.foregroundTitleColor},this.icon_type=(n=e.chipIcon)===null||n===void 0?void 0:n.iconType}};s(ga,"PdgCommentChip");ga.type="PdgCommentChip";var uh=ga;var P;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(P=P||(P={}));var Y=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,o]=this;if(i===0&&o===0)return"0";if(e&&o>2147483647)return"-"+ch(Yv(this),lh).toString(!1);let n=[],r=new Y(i,o);for(;jT(r,LT);){let[a,d]=YT(r);n.push(d),r=a}return n.reverse().join("")}static parse(e){let i=parseInt(e,10),o=i<0;if(Number.isNaN(i))return new Y(0);if(e.length<10)return i<0?ch(Yv(new Y(-i)),lh):new Y(i);let n=new Y,r=lh;for(let a of e.split("").reverse())parseInt(a)&&(n=ch(n,fy(new Y(parseInt(a)),r))),r=fy(r,new Y(10));return o?ch(Yv(n),lh):n}};s(Y,"Long");var LT=new Y(0),lh=new Y(1);function dh(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}s(dh,"makeChunk");function ch(t,e){let[i,o,n,r]=dh(t),[a,d,f,h]=dh(e),_=0,b=0,y=0,T=0;return T+=i+a,y+=T>>>16,T&=65535,y+=o+d,b+=y>>>16,y&=65535,b+=n+f,_+=b>>>16,b&=65535,_+=r+h,_&=65535,new Y(y<<16|T,_<<16|b)}s(ch,"add");function fy(t,e){let[i,o,n,r]=dh(t),[a,d,f,h]=dh(e),_=0,b=0,y=0,T=0;return T+=i*a,y+=T>>>16,T&=65535,y+=i*d+o*a,b+=y>>>16,y&=65535,b+=i*f+n*a+o*d,_+=b>>>16,b&=65535,_+=i*h+o*f+n*d+r*a,_&=65535,new Y(y<<16|T,_<<16|b)}s(fy,"mul");function YT(t){let[e,i]=t;return[new Y((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}s(YT,"divByTen");function jT(t,e){let[i,o]=t,[n,r]=e;return o!==r?o-r:i-n}s(jT,"compare");function Yv(t){let[e,i]=t;return new Y(~e,~i)}s(Yv,"negate");function zn(t){let e=[],n=typeof t=="number"?new Y(t):t;for(;n[0]||n[1];){let[r,a]=n,d=r&127,f=a>>>7,h=r>>>7|(a&127)<<32-7;n=new Y(h,f);let _=n[0]||n[1]?d|128:d;e.push(_)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}s(zn,"encode");function Kn(t){let e=new Y(0),i=0;for(;;){let o=t.getUint8(i);if(e=UT(e,WT(new Y(o&127),i*7)),++i,!(o>>>7))return[i,e]}}s(Kn,"decode");function UT(t,e){return new Y(t[0]|e[0],t[1]|e[1])}s(UT,"or");function WT(t,e){return e===0?t:e>=32?new Y(0,t[0]<<e-32):new Y(t[0]<<e,t[1]<<e|t[0]>>>32-e)}s(WT,"leftshift");function M(t){let e=[];return t.forEach(([i,o])=>{switch(e.push(zn(i<<3|o.type)),o.type){case P.Varint:e.push(zn(o.value));break;case P.Fixed64:{let n=new Uint8Array(8),r=new DataView(n.buffer);r.setUint32(0,o.value[0],!0),r.setUint32(4,o.value[1],!0),e.push(n);break}case P.LengthDelimited:e.push(zn(o.value.byteLength)),e.push(o.value);break;case P.Fixed32:{let n=new Uint8Array(4);new DataView(n.buffer).setUint32(0,o.value,!0),e.push(n);break}}}),jv(e)}s(M,"serialize");function jv(t){let e=t.reduce((o,n)=>o+n.byteLength,0),i=new Uint8Array(e);return t.reduce((o,n)=>(i.set(n,o),o+n.byteLength),0),i}s(jv,"concat");function Uv(t){if(t instanceof Y){let e=new Y(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new Y(4294967295,4294967295):new Y;return new Y(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}s(Uv,"encode");function Wv(t){if(t instanceof Y){let e=new Y(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new Y(4294967295,4294967295):new Y;return new Y(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}s(Wv,"decode");var Jv={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>Wv(t[0]),sint64:t=>Wv(t).toString(!0),bool:t=>t[0]!==0},Hv={int32:t=>new Y(t),int64:t=>Y.parse(t),uint32:t=>new Y(t),uint64:t=>Y.parse(t),sint32:t=>Uv(new Y(t)),sint64:t=>Uv(Y.parse(t)),bool:t=>new Y(+t)},JT=Object.fromEntries(Object.entries(Jv).map(([t,e])=>[t,i=>{if(i.type===P.Varint)return e(i.value)}])),HT=Object.fromEntries(Object.entries(Hv).map(([t,e])=>[t,i=>({type:P.Varint,value:e(i)})])),H=Object.assign(Object.assign({},JT),{double:t=>t.type!==P.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==P.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===P.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===P.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===P.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===P.Fixed64)return t.value.toString(!0)},string:t=>t.type!==P.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===P.LengthDelimited)return t.value}}),C=Object.assign(Object.assign({},HT),{double:t=>{let e=new Y;return new DataView(e.buffer).setFloat64(0,t,!0),{type:P.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:P.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:P.Fixed32,value:t>>>0}),fixed64:t=>({type:P.Fixed64,value:Y.parse(t)}),sfixed32:t=>({type:P.Fixed32,value:t|0}),sfixed64:t=>({type:P.Fixed64,value:Y.parse(t)}),string:t=>{let e=new TextEncoder;return{type:P.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:P.LengthDelimited,value:t})}),GT=Object.fromEntries(Object.keys(Jv).map(t=>[t,function*(e){for(let i of e){let o=H[t](i);if(o!=null)yield o;else for(let n of qT(i))yield Jv[t](n)}}])),eA=Object.assign(Object.assign({},GT),{*double(t){for(let e of t){let i=H.double(e);i!=null?yield i:yield*KT(e)}},*float(t){for(let e of t){let i=H.float(e);i!=null?yield i:yield*$T(e)}},*fixed32(t){for(let e of t){let i=H.fixed32(e);if(i!=null)yield i;else for(let o of hy(e))yield o>>>0}},*fixed64(t){for(let e of t){let i=H.fixed64(e);if(i!=null)yield i;else for(let o of my(e))yield o.toString(!1)}},*sfixed32(t){for(let e of t){let i=H.sfixed32(e);if(i!=null)yield i;else for(let o of hy(e))yield o|0}},*sfixed64(t){for(let e of t){let i=H.sfixed64(e);if(i!=null)yield i;else for(let o of my(e))yield o.toString(!0)}}}),zT=Object.fromEntries(Object.keys(Hv).map(t=>[t,function(e){return{type:P.LengthDelimited,value:jv(e.map(i=>{let o=Hv[t](i);return zn(o)}))}}]));function $n(t,e){return s(function(o){let n=new Uint8Array(o.length*t),r=new DataView(n.buffer);for(let a=0;a<o.length;++a)e(r,a*t,o[a]);return{type:P.LengthDelimited,value:n}},"pack")}s($n,"getFixedPackFn");var tA=Object.assign(Object.assign({},zT),{double:$n(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:$n(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:$n(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:$n(8,(t,e,i)=>{let o=Y.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)}),sfixed32:$n(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:$n(8,(t,e,i)=>{let o=Y.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)})});function*KT(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let n=o.getFloat64(i,!0);i+=4,yield n}}s(KT,"unpackDouble");function*$T(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let n=o.getFloat32(i,!0);i+=4,yield n}}s($T,"unpackFloat");function*qT(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=e.byteOffset;for(;i<e.length;){let n=Kn(new DataView(e.buffer,o+i));i+=n[0],yield n[1]}}s(qT,"unpackVarint");function*hy(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let n=o.getUint32(i,!0);i+=4,yield n}}s(hy,"unpackFixed32");function*my(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let n=o.getUint32(i,!0);i+=4;let r=o.getUint32(i,!0);i+=4,yield new Y(n,r)}}s(my,"unpackFixed64");function G(t){let e=0,i=t.byteOffset,o=[],n=new DataView(t.buffer,i);for(;e<t.length;){let r=Kn(new DataView(t.buffer,i+e)),a=r[1][0];e+=r[0];let d=a&7,f=a>>>3;switch(d){default:throw new Error(`Unknown wire type ${d}`);case P.Varint:{let[b,y]=Kn(new DataView(t.buffer,i+e));o.push([f,{type:d,value:y}]),e+=b;break}case P.Fixed64:let h=n.getUint32(e,!0),_=n.getUint32(e+=4,!0);e+=4,o.push([f,{type:d,value:new Y(h,_)}]);break;case P.LengthDelimited:{let[b,y]=Kn(new DataView(t.buffer,i+e));o.push([f,{type:d,value:t.subarray(e+=b,e+=y[0])}]);break}case P.StartGroup:case P.EndGroup:o.push([f,{type:d}]);break;case P.Fixed32:o.push([f,{type:d,value:n.getUint32(e,!0)}]),e+=4;break}}return o}s(G,"deserialize");function XT(){return{id:"",timestamp:0}}s(XT,"getDefaultValue");function _y(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,C.int32(i)])}return M(e)}s(_y,"encodeBinary");function vy(t){let e=XT(),i=G(t),o=new Map(i);e:{let n=o.get(1);if(n===void 0)break e;let r=H.string(n);if(r===void 0)break e;e.id=r}e:{let n=o.get(5);if(n===void 0)break e;let r=H.int32(n);if(r===void 0)break e;e.timestamp=r}return e}s(vy,"decodeBinary");function gy(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,C.string(i)])}return M(e)}s(gy,"encodeBinary");function yy(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:P.LengthDelimited,value:gy(i)}])}return M(e)}s(yy,"encodeBinary");function xy(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,C.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,C.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,C.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,C.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,C.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,C.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,C.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,C.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,C.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,C.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,C.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,C.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,C.int32(i)])}return M(e)}s(xy,"encodeBinary");function by(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,C.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:P.LengthDelimited,value:xy(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,C.int32(i)])}return M(e)}s(by,"encodeBinary");function wy(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,C.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,C.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,C.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,C.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,C.int32(i)])}return M(e)}s(wy,"encodeBinary");function Ty(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:P.LengthDelimited,value:wy(i)}])}return M(e)}s(Ty,"encodeBinary");function Iy(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:P.LengthDelimited,value:Ty(i)}])}return M(e)}s(Iy,"encodeBinary");function ky(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return M(e)}s(ky,"encodeBinary");function Sy(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:P.LengthDelimited,value:ky(i)}])}return M(e)}s(Sy,"encodeBinary");function Cy(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:P.LengthDelimited,value:Sy(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,C.int32(i)])}return M(e)}s(Cy,"encodeBinary");function Ny(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return M(e)}s(Ny,"encodeBinary");function Ey(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,C.int32(i)])}return M(e)}s(Ey,"encodeBinary");function Py(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:P.LengthDelimited,value:Ey(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,C.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,C.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,C.int32(i)])}return M(e)}s(Py,"encodeBinary");function My(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,C.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,C.int32(i)])}return M(e)}s(My,"encodeBinary");function Ay(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,C.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:P.LengthDelimited,value:Py(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:P.LengthDelimited,value:My(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,C.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,C.string(i)])}return M(e)}s(Ay,"encodeBinary");function Vy(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:P.LengthDelimited,value:Ny(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,C.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:P.LengthDelimited,value:Ay(i)}])}return M(e)}s(Vy,"encodeBinary");function Ry(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return M(e)}s(Ry,"encodeBinary");function Oy(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:P.LengthDelimited,value:Ry(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,C.int32(i)])}return M(e)}s(Oy,"encodeBinary");function By(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return M(e)}s(By,"encodeBinary");function Fy(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:P.LengthDelimited,value:By(i)}])}return M(e)}s(Fy,"encodeBinary");function Dy(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:P.LengthDelimited,value:Fy(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,C.string(i)])}return M(e)}s(Dy,"encodeBinary");function Ly(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,C.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,C.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,C.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:P.LengthDelimited,value:Dy(i)}])}return M(e)}s(Ly,"encodeBinary");function Yy(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return M(e)}s(Yy,"encodeBinary");function jy(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:P.LengthDelimited,value:Yy(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,C.int32(i)])}return M(e)}s(jy,"encodeBinary");function Uy(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([16,C.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,C.string(i)])}if(t.clientName!==void 0){let i=t.clientName;e.push([18,C.string(i)])}return M(e)}s(Uy,"encodeBinary");function Wy(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:P.LengthDelimited,value:Uy(i)}])}return M(e)}s(Wy,"encodeBinary");function Jy(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return M(e)}s(Jy,"encodeBinary");function Hy(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return M(e)}s(Hy,"encodeBinary");function Gy(t){let e=[];for(let i of t.list)e.push([1,C.string(i)]);return M(e)}s(Gy,"encodeBinary");function zy(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.int32(i)])}return M(e)}s(zy,"encodeBinary");function Ky(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.string(i)])}return M(e)}s(Ky,"encodeBinary");function $y(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,C.bytes(i)])}return M(e)}s($y,"encodeBinary");function qy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:P.LengthDelimited,value:$y(i)}])}return M(e)}s(qy,"encodeBinary");function Xy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}return M(e)}s(Xy,"encodeBinary");function Qy(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return M(e)}s(Qy,"encodeBinary");function Zy(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return M(e)}s(Zy,"encodeBinary");function Gv(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:P.LengthDelimited,value:Wy(i)}])}if(t.target!==void 0){let i=t.target;e.push([2,C.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:P.LengthDelimited,value:Jy(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:P.LengthDelimited,value:Hy(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:P.LengthDelimited,value:Gy(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:P.LengthDelimited,value:zy(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:P.LengthDelimited,value:Ky(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:P.LengthDelimited,value:qy(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:P.LengthDelimited,value:Xy(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:P.LengthDelimited,value:Qy(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:P.LengthDelimited,value:Zy(i)}])}return M(e)}s(Gv,"encodeBinary");function ex(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,C.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,C.int32(i)])}return M(e)}s(ex,"encodeBinary");function tx(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:P.LengthDelimited,value:ex(i)}])}return M(e)}s(tx,"encodeBinary");var ph=class{static encodeVisitorData(e,i){let o=_y({id:e,timestamp:i});return encodeURIComponent(ut(o).replace(/\+/g,"-").replace(/\//g,"_"))}static decodeVisitorData(e){return vy(gv(decodeURIComponent(e)))}static encodeChannelAnalyticsParams(e){let i=yy({params:{channelId:e}});return encodeURIComponent(ut(i))}static encodeSearchFilters(e){let i={all:void 0,hour:1,today:2,week:3,month:4,year:5},o={all:void 0,video:1,channel:2,playlist:3,movie:4},n={all:void 0,short:1,long:2,medium:3},r={relevance:void 0,rating:1,upload_date:2,view_count:3},a={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},d={};if(e?d.filters={}:d.noFilter=0,d.filters&&(e.upload_date&&(d.filters.uploadDate=i[e.upload_date]),e.type&&(d.filters.type=o[e.type]),e.duration&&(d.filters.duration=n[e.duration]),e.sort_by&&e.sort_by!=="relevance"&&(d.sortBy=r[e.sort_by]),e.features))for(let h of e.features)d.filters[a[h]]=1;let f=by(d);return encodeURIComponent(ut(f))}static encodeMusicSearchFilters(e){var i;let o={filters:{type:{}}};e.type&&e.type!=="all"&&((i=o.filters)===null||i===void 0?void 0:i.type)&&(o.filters.type[e.type]=1);let n=Iy(o);return encodeURIComponent(ut(n))}static encodeMessageParams(e,i){let o=Cy({params:{ids:{channelId:e,videoId:i}},number0:1,number1:4});return btoa(encodeURIComponent(ut(o)))}static encodeCommentsSectionParams(e,i={}){let n=Vy({ctx:{videoId:e},unkParam:6,params:{opts:{videoId:e,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[i.sort_by||"TOP_COMMENTS"],type:i.type||2},target:"comments-section"}});return encodeURIComponent(ut(n))}static encodeCommentParams(e){let i=Oy({videoId:e,params:{index:0},number:7});return encodeURIComponent(ut(i))}static encodeCommentActionParams(e,i={}){let o={type:e,commentId:i.comment_id||" ",videoId:i.video_id||" ",channelId:" ",unkNum:2};if(i.hasOwnProperty("text")){if(typeof i.target_language!="string")throw new Error("target_language must be a string");i.comment_id&&delete o.unkNum,o.translateCommentParams={params:{comment:{text:i.text}},commentId:i.comment_id||" ",targetLanguage:i.target_language}}let n=Ly(o);return encodeURIComponent(ut(n))}static encodeNotificationPref(e,i){let o=jy({channelId:e,prefId:{index:i},number0:0,number1:4});return encodeURIComponent(ut(o))}static encodeVideoMetadataPayload(e,i){let o={context:{client:{unkparam:14,clientName:gt.ANDROID.NAME,clientVersion:gt.YTSTUDIO_ANDROID.VERSION}},target:e};if(Reflect.has(i,"title")&&(o.title={text:i.title||""}),Reflect.has(i,"description")&&(o.description={text:i.description||""}),Reflect.has(i,"license")&&(o.license={type:i.license||""}),Reflect.has(i,"tags")&&(o.tags={list:i.tags||[]}),Reflect.has(i,"category")&&(o.category={id:i.category||0}),Reflect.has(i,"privacy"))switch(i.privacy){case"PUBLIC":o.privacy={type:1};break;case"UNLISTED":o.privacy={type:2};break;case"PRIVATE":o.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(i,"made_for_kids")&&(o.madeForKids={unkparam:1,choice:i.made_for_kids?1:2}),Reflect.has(i,"age_restricted")&&(o.ageRestricted={unkparam:1,choice:i.age_restricted?1:2}),Gv(o)}static encodeCustomThumbnailPayload(e,i){let o={context:{client:{unkparam:14,clientName:gt.ANDROID.NAME,clientVersion:gt.YTSTUDIO_ANDROID.VERSION}},target:e,videoThumbnail:{type:3,thumbnail:{imageData:i}}};return Gv(o)}static encodeHashtag(e){let i=tx({params:{hashtag:e,type:1}});return encodeURIComponent(ut(i))}};s(ph,"Proto");var fe=ph;var yt,ya=class extends l{constructor(e){var i,o,n,r,a,d,f;super(),yt.set(this,void 0),this.content=new c(e.contentText),this.published=new c(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=w.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=p.parseItem(e.sponsorCommentBadge,ah),this.paid_comment_chip=p.parseItem(e.paidCommentChipRenderer,uh),this.author_badge=p.parseItem(e.authorCommentBadge,sh),this.author=new B(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=p.parseItem(e.actionMenu,J),this.action_buttons=p.parseItem(e.actionButtons,lo),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new c(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((n=(o=this.action_buttons)===null||o===void 0?void 0:o.like_button)===null||n===void 0)&&n.is_toggled),this.is_disliked=!!(!((a=(r=this.action_buttons)===null||r===void 0?void 0:r.dislike_button)===null||a===void 0)&&a.is_toggled),this.is_hearted=!!(!((f=(d=this.action_buttons)===null||d===void 0?void 0:d.creator_heart)===null||f===void 0)&&f.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){var e;return x(this,void 0,void 0,function*(){if(!u(this,yt,"f"))throw new g("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new g("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new g("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(u(this,yt,"f"),{parse:!1})})}dislike(){var e;return x(this,void 0,void 0,function*(){if(!u(this,yt,"f"))throw new g("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new g("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new g("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(u(this,yt,"f"),{parse:!1})})}reply(e){var i,o,n;return x(this,void 0,void 0,function*(){if(!u(this,yt,"f"))throw new g("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new g("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let r=(o=this.action_buttons)===null||o===void 0?void 0:o.reply_button;if(!(!((n=r.endpoint)===null||n===void 0)&&n.dialog))throw new g("Reply button endpoint did not have a dialog.");let d=r.endpoint.dialog.item().as(rh).reply_button;if(!d)throw new g("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!d.endpoint)throw new g("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield d.endpoint.call(u(this,yt,"f"),{commentText:e})})}translate(e){var i,o,n,r,a,d;return x(this,void 0,void 0,function*(){if(!u(this,yt,"f"))throw new g("An active caller must be provide to perform this operation.");let h={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},_=fe.encodeCommentActionParams(22,h),b=yield u(this,yt,"f").execute("comment/perform_comment_action",{action:_,client:"ANDROID"}),y=(o=(i=b.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,T=(d=(a=(r=(n=y==null?void 0:y[0])===null||n===void 0?void 0:n.payload)===null||r===void 0?void 0:r.commentEntityPayload)===null||a===void 0?void 0:a.translatedContent)===null||d===void 0?void 0:d.content;return Object.assign(Object.assign({},b),{content:T})})}setActions(e){I(this,yt,e,"f")}};s(ya,"Comment");yt=new WeakMap;ya.type="Comment";var qn=ya;var xa=class extends l{constructor(e){super(),this.id=e.id,this.categories=p.parseArray(e.categories),this.category_buttons=p.parseArray(e.categoryButtons),this.search_placeholder=new c(e.searchPlaceholderText),this.search_no_results=new c(e.searchNoResultsText),this.pick_skin_tone=new c(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};s(xa,"EmojiPicker");xa.type="EmojiPicker";var fh=xa;var ba=class extends l{constructor(e){super(),this.editable_text=new c(e.editableText),this.author_thumbnail=w.fromResponse(e.authorThumbnail),this.submit_button=p.parseItem(e.submitButton,S),this.cancel_button=p.parseItem(e.cancelButton,S),this.placeholder=new c(e.placeholderText),this.emoji_button=p.parseItem(e.emojiButton,S),this.emoji_picker=p.parseItem(e.emojiPicker,fh)}};s(ba,"CommentDialog");ba.type="CommentDialog";var ix=ba;var wa=class extends l{constructor(e){super(),this.contents=p.parseArray(e.contents),this.view_replies=p.parseItem(e.viewReplies,S),this.hide_replies=p.parseItem(e.hideReplies,S),this.view_replies_creator_thumbnail=w.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};s(wa,"CommentReplies");wa.type="CommentReplies";var hh=wa;var Ta=class extends l{constructor(e){super(),e.header&&(this.header=new c(e.headerText)),e.commentCount&&(this.comment_count=new c(e.commentCount)),(e.teaserAvatar||e.simpleboxAvatar)&&(this.teaser_avatar=w.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),e.teaserContent&&(this.teaser_content=new c(e.teaserContent)),e.simpleboxPlaceholder&&(this.simplebox_placeholder=new c(e.simpleboxPlaceholder))}};s(Ta,"CommentsEntryPointHeader");Ta.type="CommentsEntryPointHeader";var mh=Ta;var Ia=class extends l{constructor(e){var i;super(),this.title=new c(e.titleText),this.count=new c(e.countText),this.comments_count=new c(e.commentsCount),this.create_renderer=p.parseItem(e.createRenderer),this.sort_menu=p.parseItem(e.sortMenu,li),this.custom_emojis=((i=e.customEmojis)===null||i===void 0?void 0:i.map(o=>({emoji_id:o.emojiId,shortcuts:o.shortcuts,search_terms:o.searchTerms,image:w.fromResponse(o.image),is_custom_emoji:o.isCustomEmoji})))||null}};s(Ia,"CommentsHeader");Ia.type="CommentsHeader";var Xn=Ia;var ka=class extends l{constructor(e){super(),this.submit_button=p.parseItem(e.submitButton,S),this.cancel_button=p.parseItem(e.cancelButton,S),this.author_thumbnails=w.fromResponse(e.authorThumbnail),this.placeholder=new c(e.placeholderText),this.avatar_size=e.avatarSize}};s(ka,"CommentSimplebox");ka.type="CommentSimplebox";var _h=ka;var Sa=class extends l{constructor(e){super(),this.trigger=e.trigger,e.button&&(this.button=p.parseItem(e.button)),this.endpoint=new v(e.continuationEndpoint)}};s(Sa,"ContinuationItem");Sa.type="ContinuationItem";var Me=Sa;var di,co,Ca=class extends l{constructor(e){super(),di.set(this,void 0),co.set(this,void 0),this.comment=p.parseItem(e.comment,qn),this.comment_replies_data=p.parseItem(e.replies,hh),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var e,i;return x(this,void 0,void 0,function*(){if(!u(this,di,"f"))throw new g("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new g("This comment has no replies.",{comment_id:(e=this.comment)===null||e===void 0?void 0:e.comment_id});let o=(i=this.comment_replies_data.contents)===null||i===void 0?void 0:i.firstOfType(Me);if(!o)throw new g("Replies continuation not found.");let n=yield o.endpoint.call(u(this,di,"f"),{parse:!0});if(!n.on_response_received_endpoints_memo)throw new g("Unexpected response.",n);return this.replies=ve(n.on_response_received_endpoints_memo.getType(qn).map(r=>(r.setActions(u(this,di,"f")),r))),I(this,co,n==null?void 0:n.on_response_received_endpoints_memo.getType(Me).first(),"f"),this})}getContinuation(){var e,i;return x(this,void 0,void 0,function*(){if(!this.replies)throw new g("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!u(this,co,"f"))throw new g("Continuation not found.");if(!u(this,di,"f"))throw new g("Actions instance not set for this thread.");let o=(e=u(this,co,"f").button)===null||e===void 0?void 0:e.as(S);if(!o)throw new g('"Load more" button not found.');let n=yield o.endpoint.call(u(this,di,"f"),{parse:!0});if(!n.on_response_received_endpoints_memo)throw new g("Unexpected response.",n);return this.replies=ve(n.on_response_received_endpoints_memo.getType(qn).map(r=>(r.setActions(u(this,di,"f")),r))),I(this,co,(i=n.on_response_received_endpoints_memo.getType(Me))===null||i===void 0?void 0:i[0],"f"),this})}get has_continuation(){if(!this.replies)throw new g("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!u(this,co,"f")}setActions(e){I(this,di,e,"f")}};s(Ca,"CommentThread");di=new WeakMap,co=new WeakMap;Ca.type="CommentThread";var vh=Ca;var Na=class extends l{constructor(e){super(),this.title=new c(e.title),this.channel_id=e.channelId,this.thumbnail=w.fromResponse(e.thumbnail),this.display_name=new c(e.displayName),this.video_count=new c(e.videoCountText),this.subscriber_count=new c(e.subscriberCountText),this.endpoint=new v(e.navigationEndpoint),this.tv_banner=w.fromResponse(e.tvBanner),this.menu=p.parseItem(e.menu,J)}};s(Na,"CompactChannel");Na.type="CompactChannel";var ox=Na;var Ea=class extends l{constructor(e){super(),this.title=new c(e.title).toString(),this.endpoint=new v(e.navigationEndpoint),this.style=e.style}};s(Ea,"CompactLink");Ea.type="CompactLink";var Qn=Ea;var Pa=class extends l{constructor(e){var i;super(),this.id=e.playlistId,this.title=new c(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new c(e.shortBylineText):new B(e.longBylineText,e.ownerBadges,null),this.thumbnails=w.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(o=>o.thumbnails).flat(1)}),this.video_count=new c(e.thumbnailText),this.video_count_short=new c(e.videoCountShortText),this.first_videos=p.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=p.parseItem(e.menu),this.badges=p.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),e.viewPlaylistText&&(this.view_playlist=new c(e.viewPlaylistText))}};s(Pa,"Playlist");Pa.type="Playlist";var Ht=Pa;var Ma=class extends Ht{constructor(e){super(e)}};s(Ma,"CompactMix");Ma.type="CompactMix";var nx=Ma;var Aa=class extends Ht{constructor(e){super(e)}};s(Aa,"CompactPlaylist");Aa.type="CompactPlaylist";var sx=Aa;var Va=class extends l{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.video_count=new c(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.thumbnail=w.fromResponse(e.thumbnail)}};s(Va,"CompactStation");Va.type="CompactStation";var rx=Va;var Ra=class extends l{constructor(e){super(),e!=null&&e.icon&&(this.icon_type=e.icon.iconType),e!=null&&e.style&&(this.style=e.style),e!=null&&e.label&&(this.label=e.label),((e==null?void 0:e.tooltip)||(e==null?void 0:e.iconTooltip))&&(this.tooltip=e.tooltip||e.iconTooltip)}};s(Ra,"MetadataBadge");Ra.type="MetadataBadge";var Ge=Ra;var Oa=class extends l{constructor(e){super(),this.id=e.videoId,this.thumbnails=w.fromResponse(e.thumbnail)||null,this.rich_thumbnail=e.richThumbnail&&p.parse(e.richThumbnail),this.title=new c(e.title),this.author=new B(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText),this.published=new c(e.publishedTimeText),this.badges=p.parseArray(e.badges,Ge),this.duration={text:new c(e.lengthText).toString(),seconds:Re(new c(e.lengthText).toString())},this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.endpoint=new v(e.navigationEndpoint),this.menu=p.parseItem(e.menu,J)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};s(Oa,"CompactVideo");Oa.type="CompactVideo";var gh=Oa;var Ba=class extends l{constructor(e){super(),this.title=new c(e.title),this.confirm_button=p.parseItem(e.confirmButton,S),this.cancel_button=p.parseItem(e.cancelButton,S),this.dialog_messages=e.dialogMessages.map(i=>new c(i))}};s(Ba,"ConfirmDialog");Ba.type="ConfirmDialog";var ax=Ba;var Fa=class extends l{constructor(e){super(),this.availability_message=p.parseItem(e.availabilityMessage,Oe)}};s(Fa,"ConversationBar");Fa.type="ConversationBar";var ux=Fa;var Da=class extends l{constructor(e){super(),this.copy_button=p.parseItem(e.copyButton,S),this.short_url=e.shortUrl,this.style=e.style}};s(Da,"CopyLink");Da.type="CopyLink";var yh=Da;var La=class extends l{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};s(La,"HeatMarker");La.type="HeatMarker";var xh=La;var Ya=class extends l{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=p.parseArray(e.heatMarkers,xh),this.heat_markers_decorations=p.parseArray(e.heatMarkersDecorations)}};s(Ya,"Heatmap");Ya.type="Heatmap";var bh=Ya;var ja=class extends l{constructor(e){super(),this.marker_key=e.key,this.value={},e.value.heatmap&&(this.value.heatmap=p.parseItem(e.value.heatmap,bh)),e.value.chapters&&(this.value.chapters=p.parseArray(e.value.chapters,oh))}};s(ja,"Marker");ja.type="Marker";var Ua=class extends l{constructor(e){var i;super(),this.markers_map=ve(((i=e.markersMap)===null||i===void 0?void 0:i.map(o=>new ja(o)))||[])}};s(Ua,"MultiMarkersPlayerBar");Ua.type="MultiMarkersPlayerBar";var wh=Ua;var Wa=class extends l{constructor(e){super(),this.player_bar=p.parseItem(e.playerBar,wh),this.player_bar_action_button=p.parseItem(e.playerBarActionButton,S)}};s(Wa,"DecoratedPlayerBar");Wa.type="DecoratedPlayerBar";var Th=Wa;var Ja=class extends l{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.endpoint=new v(e.navigationEndpoint),this.large_form_factor_background_thumbnail=p.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=p.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};s(Ja,"DefaultPromoPanel");Ja.type="DefaultPromoPanel";var lx=Ja;var Ha=class extends l{constructor(e){super(),this.text=new c(e.didYouMean).toString(),this.corrected_query=new c(e.correctedQuery),this.endpoint=new v(e.navigationEndpoint||e.correctedQueryEndpoint)}};s(Ha,"DidYouMean");Ha.type="DidYouMean";var Ih=Ha;var Ga=class extends l{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new v(e.command),this.target_id=e.targetId}};s(Ga,"DownloadButton");Ga.type="DownloadButton";var cx=Ga;var po=class{constructor(e){var i,o;this.text=((o=(i=e.type.textType)===null||i===void 0?void 0:i.text)===null||o===void 0?void 0:o.content)||null,this.properties=e.properties,e.childElements&&(this.child_elements=e.childElements.map(n=>new po(n)))}};s(po,"ChildElement");po.type="ChildElement";var kh=po;var fo=class extends l{constructor(e){var i,o,n;if(super(),Reflect.has(e,"elementRenderer"))return p.parseItem(e,fo);let r=e.newElement.type.componentType;this.model=p.parseItem(r==null?void 0:r.model),!((i=e.newElement)===null||i===void 0)&&i.childElements&&(this.child_elements=((n=(o=e.newElement)===null||o===void 0?void 0:o.childElements)===null||n===void 0?void 0:n.map(a=>new kh(a)))||null)}};s(fo,"Element");fo.type="Element";var Zn=fo;var za=class extends l{constructor(e){super(),this.title=new c(e.title),this.first_option=p.parseItem(e.firstOption),this.menu=p.parseItem(e.menu)}};s(za,"EmergencyOnebox");za.type="EmergencyOnebox";var dx=za;var Ka=class extends l{constructor(e){super(),this.category_id=e.categoryId,this.title=new c(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};s(Ka,"EmojiPickerCategory");Ka.type="EmojiPickerCategory";var px=Ka;var $a=class extends l{constructor(e){var i;super(),this.category_id=e.categoryId,this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,this.tooltip=e.tooltip}};s($a,"EmojiPickerCategoryButton");$a.type="EmojiPickerCategoryButton";var fx=$a;var qa=class extends l{constructor(e){super(),this.category_id=e.categoryId,this.title=new c(e.title),this.upsell=new c(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new v(e.command),this.emoji_ids=e.emojiIds}};s(qa,"EmojiPickerUpsellCategory");qa.type="EmojiPickerUpsellCategory";var hx=qa;var Xa=class extends l{constructor(e){super(),this.style=`${e.style}`,this.title=new c(e.title),this.endpoint=new v(e.endpoint),e.image&&(this.image=w.fromResponse(e.image)),e.icon&&(this.icon=w.fromResponse(e.icon)),e.metadata&&(this.metadata=new c(e.metadata)),e.callToAction&&(this.call_to_action=new c(e.callToAction)),e.hovercardButton&&(this.hovercard_button=p.parseItem(e.hovercardButton)),e.isSubscribe&&(this.is_subscribe=!!e.isSubscribe),e.playlistLength&&(this.playlist_length=new c(e.playlistLength)),this.thumbnail_overlays=e.thumbnailOverlays?p.parseArray(e.thumbnailOverlays):void 0,this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};s(Xa,"EndscreenElement");Xa.type="EndscreenElement";var mx=Xa;var Qa=class extends l{constructor(e){super(),this.id=e.playlistId,this.title=new c(e.title),this.author=new c(e.longBylineText),this.endpoint=new v(e.navigationEndpoint),this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new c(e.videoCountText)}};s(Qa,"EndScreenPlaylist");Qa.type="EndScreenPlaylist";var Sh=Qa;var Za=class extends l{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.author=new B(e.shortBylineText,e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.short_view_count=new c(e.shortViewCountText),this.badges=p.parse(e.badges),this.duration={text:new c(e.lengthText).toString(),seconds:e.lengthInSeconds}}};s(Za,"EndScreenVideo");Za.type="EndScreenVideo";var Ch=Za;var eu=class extends l{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.endpoint=new v(e.searchEndpoint),this.query=new c(e.query).toString()}};s(eu,"SearchRefinementCard");eu.type="SearchRefinementCard";var ho=eu;var tu=class extends l{constructor(e){super(),this.title=new c(e.title),this.time_description=new c(e.timeDescription),this.thumbnail=w.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap),this.layout=e.layout,this.is_highlighted=e.isHighlighted}};s(tu,"MacroMarkersListItem");tu.type="MacroMarkersListItem";var Nh=tu;var iu=class extends l{constructor(e){super(),this.game=p.parseItem(e.game)}};s(iu,"GameCard");iu.type="GameCard";var Eh=iu;var ou=class extends l{constructor(e){super(),this.text=new c(e.text).toString(),this.style=e.style}};s(ou,"ThumbnailOverlayTimeStatus");ou.type="ThumbnailOverlayTimeStatus";var mo=ou;var nu=class extends l{constructor(e){var i,o,n,r;super();let a=((i=e.thumbnailOverlays.find(f=>f.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new c(e.title),this.description_snippet=e.descriptionSnippet?new c(e.descriptionSnippet):null,this.snippets=((o=e.detailedMetadataSnippets)===null||o===void 0?void 0:o.map(f=>({text:new c(f.snippetText),hover_text:new c(f.snippetHoverText)})))||[],this.expandable_metadata=p.parseItem(e.expandableMetadata,Ph),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.rich_thumbnail=e.richThumbnail?p.parseItem(e.richThumbnail):null,this.author=new B(e.ownerText,e.ownerBadges,(r=(n=e.channelThumbnailSupportedRenderers)===null||n===void 0?void 0:n.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.badges=p.parseArray(e.badges,Ge),this.endpoint=new v(e.navigationEndpoint),this.published=new c(e.publishedTimeText),this.view_count=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText);let d=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);d&&(this.upcoming=new Date(d)),this.duration={text:e.lengthText?new c(e.lengthText).toString():new c(a).toString(),seconds:Re(e.lengthText?new c(e.lengthText).toString():new c(a).toString())},this.show_action_menu=e.showActionMenu,this.is_watched=e.isWatched||!1,this.menu=p.parseItem(e.menu,J),this.search_video_result_entity_key=e.searchVideoResultEntityKey}get description(){var e;return this.snippets.length>0?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(mo))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};s(nu,"Video");nu.type="Video";var es=nu;var su=class extends es{constructor(e){super(e)}};s(su,"VideoCard");su.type="VideoCard";var Mh=su;var ru=class extends l{constructor(e){super(),this.cards=p.parseArray(e.cards,[ho,Nh,Eh,Mh]),this.header=p.parseItem(e.header),this.previous_button=p.parseItem(e.previousButton,S),this.next_button=p.parseItem(e.nextButton,S)}};s(ru,"HorizontalCardList");ru.type="HorizontalCardList";var ts=ru;var au=class extends l{constructor(e){super(),this.header={collapsed_title:new c(e.header.collapsedTitle),collapsed_thumbnail:w.fromResponse(e.header.collapsedThumbnail),collapsed_label:new c(e.header.collapsedLabel),expanded_title:new c(e.header.expandedTitle)},this.expanded_content=p.parseItem(e.expandedContent,ts),this.expand_button=p.parseItem(e.expandButton,S),this.collapse_button=p.parseItem(e.collapseButton,S)}};s(au,"ExpandableMetadata");au.type="ExpandableMetadata";var Ph=au;var uu=class extends l{constructor(e){super(),this.title=e.title,this.endpoint=new v(e.endpoint),this.selected=e.selected,this.content=e.content?p.parseItem(e.content):null}};s(uu,"ExpandableTab");uu.type="ExpandableTab";var is=uu;var lu=class extends l{constructor(e){super(),this.items=p.parseArray(e.items)}get contents(){return this.items}};s(lu,"ExpandedShelfContents");lu.type="ExpandedShelfContents";var _x=lu;var cu=class extends l{constructor(e){super(),this.contents=p.parseArray(e.contents,ye)}};s(cu,"FeedFilterChipBar");cu.type="FeedFilterChipBar";var pi=cu;var du=class extends l{constructor(e){super(),this.title=new c(e.title)}};s(du,"FeedTabbedHeader");du.type="FeedTabbedHeader";var Ah=du;var pu=class extends l{constructor(e){super(),this.title=new c(e.title),this.box_art=w.fromResponse(e.boxArt),this.box_art_overlay_text=new c(e.boxArtOverlayText),this.endpoint=new v(e.endpoint),this.is_official_box_art=e.isOfficialBoxArt}};s(pu,"GameDetails");pu.type="GameDetails";var vx=pu;var fu=class extends l{constructor(e){var i,o,n;super(),this.items=p.parseArray(e.items),e.header&&(this.header=p.parseItem(e.header)),e.isCollapsible&&(this.is_collapsible=e.isCollapsible),e.visibleRowCount&&(this.visible_row_count=e.visibleRowCount),e.targetId&&(this.target_id=e.targetId),this.continuation=((n=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||n===void 0?void 0:n.continuation)||null}get contents(){return this.items}};s(fu,"Grid");fu.type="Grid";var _o=fu;var hu=class extends l{constructor(e){super(),this.id=e.channelId,this.author=new B(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new c(e.subscriberCountText),this.video_count=new c(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=p.parseItem(e.subscribeButton)}};s(hu,"GridChannel");hu.type="GridChannel";var Vh=hu;var mu=class extends l{constructor(e){super(),this.title=new c(e.title)}};s(mu,"GridHeader");mu.type="GridHeader";var gx=mu;var _u=class extends l{constructor(e){var i,o;super(),this.id=e.playlistId,this.title=new c(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new c(e.shortBylineText):!((o=e.longBylineText)===null||o===void 0)&&o.simpleText?new c(e.longBylineText):null,this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new c(e.videoCountText),this.video_count_short=new c(e.videoCountShortText),this.endpoint=new v(e.navigationEndpoint),this.secondary_endpoint=new v(e.secondaryNavigationEndpoint),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays)}};s(_u,"GridMix");_u.type="GridMix";var yx=_u;var vu=class extends l{constructor(e){var i;super();let o=(i=e.thumbnailOverlays.find(n=>n.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new c(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.duration=e.lengthText?new c(e.lengthText):o!=null&&o.text?new c(o.text):null,this.endpoint=new v(e.navigationEndpoint),this.badges=p.parseArray(e.badges,Ge),this.metadata=new c(e.metadata),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays)}};s(vu,"GridMovie");vu.type="GridMovie";var xx=vu;var gu=class extends l{constructor(e){var i;super(),this.id=e.playlistId,this.title=new c(e.title),e.shortBylineText&&(this.author=new B(e.shortBylineText,e.ownerBadges)),this.badges=p.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.view_playlist=new c(e.viewPlaylistText),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_renderer=p.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(o=>w.fromResponse(o)))||[])||null,this.video_count=new c(e.thumbnailText),this.video_count_short=new c(e.videoCountShortText)}};s(gu,"GridPlaylist");gu.type="GridPlaylist";var Rh=gu;var fi=class extends l{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};s(fi,"ShowCustomThumbnail");fi.type="ShowCustomThumbnail";var yu=class extends l{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new c(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};s(yu,"ThumbnailOverlayBottomPanel");yu.type="ThumbnailOverlayBottomPanel";var Oh=yu;var vo=class extends l{constructor(e){super(),this.title=new c(e.title),this.thumbnail_renderer=A.parseItem(e.thumbnailRenderer,fi),this.endpoint=new v(e.navigationEndpoint),this.long_byline_text=new c(e.longBylineText),this.thumbnail_overlays=A.parseArray(e.thumbnailOverlays,Oh),this.author=new B(e.shortBylineText,void 0)}};s(vo,"GridShow");vo.type="GridShow";var hi=class extends l{constructor(e){var i,o;super();let n=(i=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new c(e.title),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.rich_thumbnail=e.richThumbnail&&p.parseItem(e.richThumbnail),this.published=new c(e.publishedTimeText),this.duration=e.lengthText?new c(e.lengthText):n!=null&&n.text?new c(n.text):null,this.author=e.shortBylineText&&new B(e.shortBylineText,e.ownerBadges),this.views=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText),this.endpoint=new v(e.navigationEndpoint),this.menu=p.parseItem(e.menu,J),Reflect.has(e,"buttons")&&(this.buttons=p.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new c(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((o=e.upcomingEventData)===null||o===void 0)&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};s(hi,"GridVideo");hi.type="GridVideo";var ft=class extends l{constructor(e){super(),this.title=new c(e.formattedTitle),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=w.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};s(ft,"GuideEntry");ft.type="GuideEntry";var go=class extends l{constructor(e){super(),this.expander_item=A.parseItem(e.expanderItem,ft),this.collapser_item=A.parseItem(e.collapserItem,ft),this.expandable_items=A.parseArray(e.expandableItems)}};s(go,"GuideCollapsibleEntry");go.type="GuideCollapsibleEntry";var yo=class extends l{constructor(e){super(),this.header_entry=A.parseItem(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=A.parseArray(e.sectionItems)}};s(yo,"GuideCollapsibleSectionEntry");yo.type="GuideCollapsibleSectionEntry";var xo=class extends ft{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};s(xo,"GuideDownloadsEntry");xo.type="GuideDownloadsEntry";var xt=class extends l{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new c(e.formattedTitle)),this.items=A.parseArray(e.items)}};s(xt,"GuideSection");xt.type="GuideSection";var mi=class extends xt{};s(mi,"GuideSubscriptionsSection");mi.type="GuideSubscriptionsSection";var xu=class extends l{constructor(e){super(),this.hashtag=new c(e.hashtag),this.hashtag_info=new c(e.hashtagInfoText)}};s(xu,"HashtagHeader");xu.type="HashtagHeader";var Bh=xu;var bu=class extends l{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap)}};s(bu,"HeroPlaylistThumbnail");bu.type="HeroPlaylistThumbnail";var bx=bu;var wu=class{constructor(e){e.thumbnail&&(this.thumbnail={image:e.thumbnail.image.sources,endpoint:new v(e.thumbnail.onTap),on_long_press_endpoint:new v(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:e.backgroundImage.image.sources,gradient_image:e.backgroundImage.gradientImage.sources},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new v(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new v(e.textOnTap)}};s(wu,"Panel");wu.type="Panel";var Tu=class extends l{constructor(e){super(),this.panels=e.highlightsCarousel.panels.map(i=>new wu(i))}};s(Tu,"HighlightsCarousel");Tu.type="HighlightsCarousel";var Iu=Tu;var ku=class extends l{constructor(e){super(),this.suggestion=new c(e.suggestion),this.endpoint=new v(e.navigationEndpoint),this.icon_type=e.icon.iconType,e.serviceEndpoint&&(this.service_endpoint=new v(e.serviceEndpoint))}};s(ku,"SearchSuggestion");ku.type="SearchSuggestion";var Fh=ku;var Su=class extends Fh{constructor(e){super(e)}};s(Su,"HistorySuggestion");Su.type="HistorySuggestion";var wx=Su;var Cu=class extends l{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=p.parseArray(e.items)}get contents(){return this.items}};s(Cu,"HorizontalList");Cu.type="HorizontalList";var Tx=Cu;var Nu=class extends l{constructor(e){super(),this.items=p.parseArray(e.items),this.previous_button=p.parseItem(e.previousButton,S),this.next_button=p.parseItem(e.nextButton,S)}get contents(){return this.items}};s(Nu,"HorizontalMovieList");Nu.type="HorizontalMovieList";var Ix=Nu;var Eu=class extends l{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,e.tooltip&&(this.tooltip=new c(e.tooltip).toString()),this.endpoint=new v(e.navigationEndpoint)}};s(Eu,"IconLink");Eu.type="IconLink";var Dh=Eu;var _i=class extends l{constructor(e){var i;super(),this.title=new c(e.title),this.source=new c(e.source),this.paragraphs=e.paragraphs.map(o=>new c(o)),this.thumbnail=w.fromResponse(e.thumbnail),this.source_endpoint=new v(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,!((i=e.inlineLinkIcon)===null||i===void 0)&&i.iconType&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};s(_i,"InfoPanelContent");_i.type="InfoPanelContent";var bo=class extends l{constructor(e){var i;super(),this.title=new c(e.title),this.menu=p.parseItem(e.menu,J),this.content=p.parseItem(e.content,_i),this.background=e.background,!((i=e.icon)===null||i===void 0)&&i.iconType&&(this.icon_type=e.icon.iconType)}};s(bo,"InfoPanelContainer");bo.type="InfoPanelContainer";var Pu=class extends l{constructor(e){super(),this.header_type=e.type,this.title=new c(e.title),this.description=new c(e.description),this.metadata=new c(e.metadata),this.badges=p.parseArray(e.badges,Ge),this.box_art=w.fromResponse(e.boxArt),this.banner=w.fromResponse(e.banner),this.buttons=p.parseArray(e.buttons,[Be,S]),this.auto_generated=new c(e.autoGenerated)}};s(Pu,"InteractiveTabbedHeader");Pu.type="InteractiveTabbedHeader";var Lh=Pu;var Mu=class extends l{constructor(e){super(),this.title=new c(e.title)}};s(Mu,"ItemSectionHeader");Mu.type="ItemSectionHeader";var Yh=Mu;var Au=class extends l{constructor(e){super(),this.title=new c(e.title),this.selected=e.selected||!1,this.endpoint=new v(e.endpoint)}};s(Au,"ItemSectionTab");Au.type="Tab";var jh=Au;var Vu=class extends l{constructor(e){super(),this.title=new c(e.title),this.tabs=p.parseArray(e.tabs,jh),e.endItems&&(this.end_items=p.parseArray(e.endItems))}};s(Vu,"ItemSectionTabbedHeader");Vu.type="ItemSectionTabbedHeader";var Uh=Vu;var Ru=class extends l{constructor(e){var i,o,n;super(),this.header=p.parseItem(e.header,[Xn,Yh,Uh]),this.contents=p.parse(e.contents,!0),(e.targetId||e.sectionIdentifier)&&(this.target_id=(e==null?void 0:e.target_id)||(e==null?void 0:e.sectionIdentifier)),e.continuations&&(this.continuation=(n=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||n===void 0?void 0:n.continuation)}};s(Ru,"ItemSection");Ru.type="ItemSection";var he=Ru;var Ou=class extends l{constructor(e){var i;super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,e.serviceEndpoints&&(this.endpoints=(i=e.serviceEndpoints)===null||i===void 0?void 0:i.map(o=>new v(o)))}};s(Ou,"LikeButton");Ou.type="LikeButton";var kx=Ou;var Bu=class extends l{constructor(e){var i,o;super(),this.header=p.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(o=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||o===void 0?void 0:o.continuation,this.client_messages={reconnect_message:new c(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new c(e.clientMessages.unableToReconnectMessage),fatal_error:new c(e.clientMessages.fatalError),reconnected_message:new c(e.clientMessages.reconnectedMessage),generic_error:new c(e.clientMessages.genericError)},this.is_replay=e.isReplay||!1}};s(Bu,"LiveChat");Bu.type="LiveChat";var Wh=Bu;var Fu=class extends l{constructor(e){var i;super(),this.text=new c(e.text).toString(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,this.context_menu_button=p.parseItem(e.contextMenuButton,S)}};s(Fu,"LiveChatBannerHeader");Fu.type="LiveChatBannerHeader";var Jh=Fu;var Du=class extends l{constructor(e){super(),this.header=p.parseItem(e.header,Jh),this.contents=p.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};s(Du,"LiveChatBanner");Du.type="LiveChatBanner";var Hh=Du;var Lu=class extends l{constructor(e){super(),this.banner=p.parseItem(e.bannerRenderer,Hh)}};s(Lu,"AddBannerToLiveChatCommand");Lu.type="AddBannerToLiveChatCommand";var Sx=Lu;var Yu=class extends l{constructor(e){super(),this.item=p.parseItem(e.item),this.client_id=e.clientId||null}};s(Yu,"AddChatItemAction");Yu.type="AddChatItemAction";var Gh=Yu;var ju=class extends l{constructor(e){super(),this.item=p.parseItem(e.item),this.duration_sec=e.durationSec}};s(ju,"AddLiveChatTickerItemAction");ju.type="AddLiveChatTickerItemAction";var Cx=ju;var Uu=class extends l{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};s(Uu,"DimChatItemAction");Uu.type="DimChatItemAction";var Nx=Uu;var Wu=class extends l{constructor(e){super(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.moderation_buttons=p.parseArray(e.moderationButtons,[S]),this.auto_moderated_item=p.parseItem(e.autoModeratedItem),this.header_text=new c(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};s(Wu,"LiveChatAutoModMessage");Wu.type="LiveChatAutoModMessage";var Ex=Wu;var Ju=class extends l{constructor(e){super(),this.poll_question=new c(e.pollQuestion),this.author_photo=w.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new c(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=p.parseItem(e.contextMenuButton)}};s(Ju,"LiveChatBannerPoll");Ju.type="LiveChatBannerPoll";var Px=Ju;var Hu=class extends l{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new c(e.headerSubtext),this.author=new B(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};s(Hu,"LiveChatMembershipItem");Hu.type="LiveChatMembershipItem";var Mx=Hu;var Gu=class extends l{constructor(e){super(),this.message=new c(e.message),this.author=new B(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new c(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new c(e.timestampText).toString(),this.id=e.id}};s(Gu,"LiveChatPaidMessage");Gu.type="LiveChatPaidMessage";var Ax=Gu;var zu=class extends l{constructor(e){super(),this.id=e.id,this.author=new B(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=w.fromResponse(e.sticker),this.purchase_amount=new c(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};s(zu,"LiveChatPaidSticker");zu.type="LiveChatPaidSticker";var Vx=zu;var Ku=class extends l{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};s(Ku,"LiveChatPlaceholderItem");Ku.type="LiveChatPlaceholderItem";var Rx=Ku;var $u=class extends l{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=w.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=p.parseItem(e.informationButton),this.endpoint=new v(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=w.fromResponse(e.authorPhoto),this.information_dialog=p.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new c(e.creatorCustomMessage)}};s($u,"LiveChatProductItem");$u.type="LiveChatProductItem";var Ox=$u;var zh=class extends l{constructor(e){var i;super(),this.message=new c(e.message),this.icon_type=(i=e==null?void 0:e.icon)===null||i===void 0?void 0:i.iconType}};s(zh,"LiveChatRestrictedParticipation");var Bx=zh;var wo=class extends l{constructor(e){super(),this.message=new c(e.message),this.inline_action_buttons=p.parseArray(e.inlineActionButtons,[S]),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};s(wo,"LiveChatMessageBase");wo.type="LiveChatMessageBase";var qu=class extends wo{constructor(e){super(e),this.author=new B(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};s(qu,"LiveChatTextMessage");qu.type="LiveChatTextMessage";var Fx=qu;var Xu=class extends l{constructor(e){var i,o;super(),this.author=new B(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new c(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=p.parseItem((o=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||o===void 0?void 0:o.renderer),this.show_item_endpoint=new v(e.showItemEndpoint),this.id=e.id}};s(Xu,"LiveChatTickerPaidMessageItem");Xu.type="LiveChatTickerPaidMessageItem";var Kh=Xu;var Qu=class extends Kh{};s(Qu,"LiveChatTickerPaidStickerItem");Qu.type="LiveChatTickerPaidStickerItem";var Dx=Qu;var Zu=class extends l{constructor(e){super(),this.id=e.id,this.detail=new c(e.detailText),this.author=new B(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};s(Zu,"LiveChatTickerSponsorItem");Zu.type="LiveChatTickerSponsorItem";var Lx=Zu;var el=class extends wo{constructor(e){super(e),this.icon_type=e.icon.iconType,this.action_button=p.parseItem(e.actionButton)}};s(el,"LiveChatViewerEngagementMessage");el.type="LiveChatViewerEngagementMessage";var Yx=el;var tl=class extends l{constructor(e){super(),this.poll_question=new c(e.pollQuestion),this.thumbnails=w.fromResponse(e.thumbnail),this.metadata=new c(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=p.parseItem(e.contextMenuButton)}};s(tl,"PollHeader");tl.type="PollHeader";var jx=tl;var il=class extends l{constructor(e){super(),this.id=e.id,this.contents=p.parse(e.contents),this.target_id=e.targetId}};s(il,"LiveChatActionPanel");il.type="LiveChatActionPanel";var $h=il;var ol=class extends l{constructor(e){super(),this.deleted_state_message=new c(e.deletedStateMessage),this.target_item_id=e.targetItemId}};s(ol,"MarkChatItemAsDeletedAction");ol.type="MarkChatItemAsDeletedAction";var Ux=ol;var nl=class extends l{constructor(e){super(),this.deleted_state_message=new c(e.deletedStateMessage),this.channel_id=e.externalChannelId}};s(nl,"MarkChatItemsByAuthorAsDeletedAction");nl.type="MarkChatItemsByAuthorAsDeletedAction";var Wx=nl;var sl=class extends l{constructor(e){super(),this.target_action_id=e.targetActionId}};s(sl,"RemoveBannerForLiveChatCommand");sl.type="RemoveBannerForLiveChatCommand";var Jx=sl;var rl=class extends l{constructor(e){super(),this.target_item_id=e.targetItemId}};s(rl,"RemoveChatItemAction");rl.type="RemoveChatItemAction";var Hx=rl;var al=class extends l{constructor(e){super(),this.external_channel_id=e.externalChannelId}};s(al,"RemoveChatItemByAuthorAction");al.type="RemoveChatItemByAuthorAction";var Gx=al;var ul=class extends l{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=p.parseItem(e.replacementItem)}};s(ul,"ReplaceChatItemAction");ul.type="ReplaceChatItemAction";var zx=ul;var ll=class extends l{constructor(e){var i;super(),this.actions=p.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(o=>(delete o.clickTrackingParams,o))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};s(ll,"ReplayChatItemAction");ll.type="ReplayChatItemAction";var Kx=ll;var cl=class extends l{constructor(e){super(),this.panel_to_show=p.parseItem(e.panelToShow,$h)}};s(cl,"ShowLiveChatActionPanelAction");cl.type="ShowLiveChatActionPanelAction";var $x=cl;var dl=class extends l{constructor(e){super(),this.dialog=p.parseItem(e.dialog)}};s(dl,"ShowLiveChatDialogAction");dl.type="ShowLiveChatDialogAction";var qx=dl;var pl=class extends l{constructor(e){super(),this.tooltip=p.parseItem(e.tooltip)}};s(pl,"ShowLiveChatTooltipCommand");pl.type="ShowLiveChatTooltipCommand";var Xx=pl;var fl=class extends l{constructor(e){super(),this.date_text=new c(e.dateText).toString()}};s(fl,"UpdateDateTextAction");fl.type="UpdateDateTextAction";var qh=fl;var hl=class extends l{constructor(e){super(),this.description=new c(e.description)}};s(hl,"UpdateDescriptionAction");hl.type="UpdateDescriptionAction";var Xh=hl;var ml=class extends l{constructor(e){super(),this.poll_to_update=p.parseItem(e.pollToUpdate)}};s(ml,"UpdateLiveChatPollAction");ml.type="UpdateLiveChatPollAction";var Qx=ml;var _l=class extends l{constructor(e){super(),this.title=new c(e.title)}};s(_l,"UpdateTitleAction");_l.type="UpdateTitleAction";var Qh=_l;var vl=class extends l{constructor(e){super(),this.default_text=new c(e.defaultText).toString(),this.toggled_text=new c(e.toggledText).toString(),this.button_id=e.buttonId}};s(vl,"UpdateToggleButtonTextAction");vl.type="UpdateToggleButtonTextAction";var Zh=vl;var gl=class extends l{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new c(i.viewCount),this.extra_short_view_count=new c(i.extraShortViewCount),this.is_live=i.isLive}};s(gl,"UpdateViewershipAction");gl.type="UpdateViewershipAction";var em=gl;var yl=class extends Ge{constructor(e){super(e),this.custom_thumbnail=e.customThumbnail?w.fromResponse(e.customThumbnail):null}};s(yl,"LiveChatAuthorBadge");yl.type="LiveChatAuthorBadge";var Zx=yl;var xl=class extends l{constructor(e){super(),this.confirm_button=p.parseItem(e.confirmButton,S),this.dialog_messages=e.dialogMessages.map(i=>new c(i))}};s(xl,"LiveChatDialog");xl.type="LiveChatDialog";var eb=xl;var bl=class extends l{constructor(e){super(),this.author_name=new c(e.authorName),this.author_photo=w.fromResponse(e.authorPhoto),this.send_button=p.parseItem(e.sendButton,S),this.target_id=e.targetId}};s(bl,"LiveChatMessageInput");bl.type="LiveChatMessageInput";var tb=bl;var wl=class extends S{constructor(e){super(e)}};s(wl,"MenuNavigationItem");wl.type="MenuNavigationItem";var ib=wl;var Tl=class extends S{constructor(e){super(e)}};s(Tl,"MenuServiceItem");Tl.type="MenuServiceItem";var os=Tl;var Il=class extends l{constructor(e){super(),this.has_separator=e.hasSeparator,this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint)}};s(Il,"MenuServiceItemDownload");Il.type="MenuServiceItemDownload";var ob=Il;var kl=class extends l{constructor(e){super(),this.header=p.parse(e.header),this.sections=p.parse(e.sections),this.style=e.style}};s(kl,"MultiPageMenu");kl.type="MultiPageMenu";var nb=kl;var Sl=class extends l{constructor(e){super(),this.items=p.parse(e.items)}get contents(){return this.items}};s(Sl,"MultiPageMenuNotificationSection");Sl.type="MultiPageMenuNotificationSection";var sb=Sl;var Cl=class extends l{constructor(e){super()}};s(Cl,"MusicMenuItemDivider");Cl.type="MusicMenuItemDivider";var tm=Cl;var Nl=class extends l{constructor(e){var i;super(),this.title=new c((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText).toString(),this.options=p.parseArray(e.options,[tt,tm])}};s(Nl,"MusicMultiSelectMenu");Nl.type="MusicMultiSelectMenu";var im=Nl;var El=class extends l{constructor(e){super(),this.title=new c(e.title),this.buttons=p.parse(e.buttons)}};s(El,"SimpleMenuHeader");El.type="SimpleMenuHeader";var om=El;var Pl=class extends l{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=w.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new v(e.buttonCommand)}};s(Pl,"MerchandiseItem");Pl.type="MerchandiseItem";var rb=Pl;var Ml=class extends l{constructor(e){super(),this.title=e.title,this.menu=p.parseItem(e.actionButton),this.items=p.parseArray(e.items)}get contents(){return this.items}};s(Ml,"MerchandiseShelf");Ml.type="MerchandiseShelf";var nm=Ml;var Al=class extends l{constructor(e){super(),this.title=new c(e.title),this.contents=e.contents.map(i=>new c(i))}};s(Al,"MetadataRow");Al.type="MetadataRow";var ab=Al;var Vl=class extends l{constructor(e){super(),this.rows=p.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};s(Vl,"MetadataRowContainer");Vl.type="MetadataRowContainer";var sm=Vl;var Rl=class extends l{constructor(e){super(),this.content=new c(e.content),this.has_divider_line=e.hasDividerLine}};s(Rl,"MetadataRowHeader");Rl.type="MetadataRowHeader";var ub=Rl;var Ol=class extends l{constructor(e){super(),this.section_list=p.parseItem(e)}};s(Ol,"MetadataScreen");Ol.type="MetadataScreen";var lb=Ol;var Bl=class extends l{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=e.thumbnail?w.fromResponse(e.thumbnail):null,this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};s(Bl,"MicroformatData");Bl.type="MicroformatData";var Gt=Bl;var Fl=class extends Ht{constructor(e){super(e)}};s(Fl,"Mix");Fl.type="Mix";var cb=Fl;var Dl=class extends l{constructor(e){var i,o,n;super();let r=((i=e.thumbnailOverlays.find(a=>a.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new c(e.title),this.description_snippet=e.descriptionSnippet?new c(e.descriptionSnippet):null,this.top_metadata_items=new c(e.topMetadataItems),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.author=new B(e.longBylineText,e.ownerBadges,(n=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||n===void 0?void 0:n.thumbnail),this.duration={text:e.lengthText?new c(e.lengthText).toString():new c(r).toString(),seconds:Re(e.lengthText?new c(e.lengthText).toString():new c(r).toString())},this.endpoint=new v(e.navigationEndpoint),this.badges=p.parse(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=p.parseItem(e.menu)}};s(Dl,"Movie");Dl.type="Movie";var db=Dl;var Ll=class extends l{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(o=>new w(o)).sort((o,n)=>n.width-o.width)}};s(Ll,"MovingThumbnail");Ll.type="MovingThumbnail";var pb=Ll;var vi=class extends l{constructor(e){super(),this.title=new c(e.title)}};s(vi,"MusicCardShelfHeaderBasic");vi.type="MusicCardShelfHeaderBasic";var Yl=class extends l{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};s(Yl,"MusicInlineBadge");Yl.type="MusicInlineBadge";var rm=Yl;var jl=class extends l{constructor(e){var i;super(),this.endpoint=new v(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,e.accessibilityPlayData&&(this.play_label=e.accessibilityPlayData.accessibilityData.label),e.accessibilityPlayData&&(this.pause_label=(i=e.accessibilityPauseData)===null||i===void 0?void 0:i.accessibilityData.label),this.icon_color=e.iconColor}};s(jl,"MusicPlayButton");jl.type="MusicPlayButton";var am=jl;var Ul=class extends l{constructor(e){super(),this.content=p.parseItem(e.content,am),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};s(Ul,"MusicItemThumbnailOverlay");Ul.type="MusicItemThumbnailOverlay";var ji=Ul;var Wl=class extends l{constructor(e){super(),this.contents=w.fromResponse(e.thumbnail)}};s(Wl,"MusicThumbnail");Wl.type="MusicThumbnail";var zt=Wl;var gi=class extends l{constructor(e){super(),this.thumbnail=p.parseItem(e.thumbnail,zt),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.buttons=p.parseArray(e.buttons,S),this.menu=p.parseItem(e.menu,J),this.on_tap=new v(e.onTap),this.header=p.parseItem(e.header,vi),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=p.parseArray(e.subtitleBadges,rm),this.thumbnail_overlay=p.parseItem(e.thumbnailOverlay,ji),Reflect.has(e,"contents")&&(this.contents=p.parseArray(e.contents))}};s(gi,"MusicCardShelf");gi.type="MusicCardShelf";var Jl=class extends l{constructor(e){var i,o,n,r,a,d,f,h,_,b,y,T,k,N,E,R,D,j,ae,ge,Ve,Se;switch(super(),this.title=new c(e.title),this.endpoint=new v(e.navigationEndpoint),this.id=((o=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.browseId)||((r=(n=this.endpoint)===null||n===void 0?void 0:n.payload)===null||r===void 0?void 0:r.videoId),this.subtitle=new c(e.subtitle),this.badges=p.parse(e.subtitleBadges),(h=(f=(d=(a=this.endpoint)===null||a===void 0?void 0:a.payload)===null||d===void 0?void 0:d.browseEndpointContextSupportedConfigs)===null||f===void 0?void 0:f.browseEndpointContextMusicConfig)===null||h===void 0?void 0:h.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((b=(_=this.endpoint)===null||_===void 0?void 0:_.metadata)===null||b===void 0?void 0:b.api_url)==="/next"?this.item_type="endpoint":!((y=this.subtitle.runs)===null||y===void 0)&&y[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((k=(T=this.subtitle.runs)===null||T===void 0?void 0:T.find($=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test($.text)))===null||k===void 0?void 0:k.text)||"";else if(this.item_type=="playlist"){let $=(N=this.subtitle.runs)===null||N===void 0?void 0:N.find(z=>z.text.match(/\d+ songs|song/));this.item_count=$?$.text:null}else if(this.item_type=="album"){let $=(E=this.subtitle.runs)===null||E===void 0?void 0:E.filter(z=>{var ee,Q;return(Q=(ee=z.endpoint)===null||ee===void 0?void 0:ee.payload)===null||Q===void 0?void 0:Q.browseId.startsWith("UC")});$&&(this.artists=$.map(z=>{var ee,Q;return{name:z.text,channel_id:(Q=(ee=z.endpoint)===null||ee===void 0?void 0:ee.payload)===null||Q===void 0?void 0:Q.browseId,endpoint:z.endpoint}})),this.year=(R=this.subtitle.runs)===null||R===void 0?void 0:R.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((j=(D=this===null||this===void 0?void 0:this.subtitle.runs)===null||D===void 0?void 0:D.find(z=>z==null?void 0:z.text.match(/(.*?) views/)))===null||j===void 0?void 0:j.text)||"N/A";let $=(ae=this.subtitle.runs)===null||ae===void 0?void 0:ae.find(z=>{var ee,Q,Ue;return(Ue=(Q=(ee=z.endpoint)===null||ee===void 0?void 0:ee.payload)===null||Q===void 0?void 0:Q.browseId)===null||Ue===void 0?void 0:Ue.startsWith("UC")});$&&(this.author={name:$==null?void 0:$.text,channel_id:(Ve=(ge=$==null?void 0:$.endpoint)===null||ge===void 0?void 0:ge.payload)===null||Ve===void 0?void 0:Ve.browseId,endpoint:$==null?void 0:$.endpoint})}else if(this.item_type=="song"){let $=(Se=this.subtitle.runs)===null||Se===void 0?void 0:Se.filter(z=>{var ee,Q;return(Q=(ee=z.endpoint)===null||ee===void 0?void 0:ee.payload)===null||Q===void 0?void 0:Q.browseId.startsWith("UC")});$&&(this.artists=$.map(z=>{var ee,Q;return{name:z==null?void 0:z.text,channel_id:(Q=(ee=z==null?void 0:z.endpoint)===null||ee===void 0?void 0:ee.payload)===null||Q===void 0?void 0:Q.browseId,endpoint:z==null?void 0:z.endpoint}}))}this.thumbnail=w.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=p.parseItem(e.thumbnailOverlay,ji),this.menu=p.parseItem(e.menu,J)}};s(Jl,"MusicTwoRowItem");Jl.type="MusicTwoRowItem";var ns=Jl;var Hl=class extends l{constructor(e){super(),this.title=new c(e.text),this.display_priority=e.displayPriority}};s(Hl,"MusicResponsiveListItemFixedColumn");Hl.type="musicResponsiveListItemFlexColumnRenderer";var um=Hl;var Gl=class extends l{constructor(e){super(),this.title=new c(e.text),this.display_priority=e.displayPriority}};s(Gl,"MusicResponsiveListItemFlexColumn");Gl.type="musicResponsiveListItemFlexColumnRenderer";var lm=Gl;var Kt,zl,mb,_b,fb,hb,vb,gb,yb,xb,ot=class extends l{constructor(e){var i,o,n,r,a,d;switch(super(),Kt.add(this),zl.set(this,void 0),this.flex_columns=p.parseArray(e.flexColumns,lm),this.fixed_columns=p.parseArray(e.fixedColumns,um),I(this,zl,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)===null||o===void 0?void 0:o.playlistSetVideoId)||null},"f"),this.endpoint=e.navigationEndpoint?new v(e.navigationEndpoint):null,(d=(a=(r=(n=this.endpoint)===null||n===void 0?void 0:n.payload)===null||r===void 0?void 0:r.browseEndpointContextSupportedConfigs)===null||a===void 0?void 0:a.browseEndpointContextMusicConfig)===null||d===void 0?void 0:d.pageType){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",u(this,Kt,"m",yb).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",u(this,Kt,"m",xb).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",u(this,Kt,"m",vb).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",u(this,Kt,"m",gb).call(this);break;default:this.flex_columns[1]?u(this,Kt,"m",_b).call(this):u(this,Kt,"m",mb).call(this);break}e.index&&(this.index=new c(e.index)),this.thumbnail=p.parseItem(e.thumbnail,zt),this.badges=p.parseArray(e.badges),this.menu=p.parseItem(e.menu,J),this.overlay=p.parseItem(e.overlay,ji)}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};s(ot,"MusicResponsiveListItem");zl=new WeakMap,Kt=new WeakSet,mb=s(function(){this.title=this.flex_columns.first().key("title").instanceof(c).toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),_b=s(function(){var e,i;((i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.key("title").instanceof(c).runs)===null||i===void 0?void 0:i.some(n=>n.text.match(/(.*?) views/)))?(this.item_type="video",u(this,Kt,"m",hb).call(this)):(this.item_type="song",u(this,Kt,"m",fb).call(this))},"_MusicResponsiveListItem_parseVideoOrSong"),fb=s(function(){var e,i,o,n,r,a,d,f,h,_,b,y,T,k,N;this.id=u(this,zl,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().key("title").instanceof(c).toString();let E=((r=(n=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.key("title").instanceof(c).runs)===null||n===void 0?void 0:n.find(j=>/^\d+$/.test(j.text.replace(/:/g,""))))===null||r===void 0?void 0:r.text)||((d=(a=this.fixed_columns.first())===null||a===void 0?void 0:a.key("title").instanceof(c))===null||d===void 0?void 0:d.toString());E&&(this.duration={text:E,seconds:Re(E)});let R=((h=(f=this.flex_columns.at(1))===null||f===void 0?void 0:f.key("title").instanceof(c).runs)===null||h===void 0?void 0:h.find(j=>Ye(j)&&j.endpoint&&j.endpoint.payload.browseId.startsWith("MPR")))||((b=(_=this.flex_columns.at(2))===null||_===void 0?void 0:_.key("title").instanceof(c).runs)===null||b===void 0?void 0:b.find(j=>Ye(j)&&j.endpoint&&j.endpoint.payload.browseId.startsWith("MPR")));R&&Ye(R)&&(this.album={id:(T=(y=R.endpoint)===null||y===void 0?void 0:y.payload)===null||T===void 0?void 0:T.browseId,name:R.text,endpoint:R.endpoint});let D=(N=(k=this.flex_columns.at(1))===null||k===void 0?void 0:k.key("title").instanceof(c).runs)===null||N===void 0?void 0:N.filter(j=>Ye(j)&&j.endpoint&&j.endpoint.payload.browseId.startsWith("UC"));D&&(this.artists=D.map(j=>{var ae,ge;return{name:j.text,channel_id:Ye(j)?(ge=(ae=j.endpoint)===null||ae===void 0?void 0:ae.payload)===null||ge===void 0?void 0:ge.browseId:void 0,endpoint:Ye(j)?j.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),hb=s(function(){var e,i,o,n,r,a,d,f,h,_;this.id=u(this,zl,"f").video_id,this.title=this.flex_columns.first().key("title").instanceof(c).toString(),this.views=(o=(i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.key("title").instanceof(c).runs)===null||i===void 0?void 0:i.find(T=>T.text.match(/(.*?) views/)))===null||o===void 0?void 0:o.toString();let b=(r=(n=this.flex_columns.at(1))===null||n===void 0?void 0:n.key("title").instanceof(c).runs)===null||r===void 0?void 0:r.filter(T=>Ye(T)&&T.endpoint&&T.endpoint.payload.browseId.startsWith("UC"));b&&(this.authors=b.map(T=>{var k,N;return{name:T.text,channel_id:Ye(T)?(N=(k=T.endpoint)===null||k===void 0?void 0:k.payload)===null||N===void 0?void 0:N.browseId:void 0,endpoint:Ye(T)?T.endpoint:void 0}}));let y=((d=(a=this.flex_columns[1].key("title").instanceof(c).runs)===null||a===void 0?void 0:a.find(T=>/^\d+$/.test(T.text.replace(/:/g,""))))===null||d===void 0?void 0:d.text)||((_=(h=(f=this.fixed_columns.first())===null||f===void 0?void 0:f.key("title").instanceof(c).runs)===null||h===void 0?void 0:h.find(T=>/^\d+$/.test(T.text.replace(/:/g,""))))===null||_===void 0?void 0:_.text);y&&(this.duration={text:y,seconds:Re(y)})},"_MusicResponsiveListItem_parseVideo"),vb=s(function(){var e,i,o,n,r,a;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().key("title").instanceof(c).toString(),this.subtitle=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.key("title").instanceof(c),this.subscribers=((a=(r=(n=this.subtitle)===null||n===void 0?void 0:n.runs)===null||r===void 0?void 0:r.find(d=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(d.text)))===null||a===void 0?void 0:a.text)||""},"_MusicResponsiveListItem_parseArtist"),gb=s(function(){var e,i,o,n;this.name=this.flex_columns.first().key("title").instanceof(c).toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.key("title").instanceof(c),this.song_count=((n=(o=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||o===void 0?void 0:o.find(r=>/^\d+(,\d+)? songs?$/i.test(r.text)))===null||n===void 0?void 0:n.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),yb=s(function(){var e,i,o,n,r,a,d,f,h;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let _=(n=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.key("title").instanceof(c).runs)===null||n===void 0?void 0:n.find(b=>Ye(b)&&b.endpoint&&b.endpoint.payload.browseId.startsWith("UC"));_&&Ye(_)&&(this.author={name:_.text,channel_id:(a=(r=_.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.browseId,endpoint:_.endpoint}),this.year=(h=(f=(d=this.flex_columns.at(1))===null||d===void 0?void 0:d.key("title").instanceof(c).runs)===null||f===void 0?void 0:f.find(b=>/^[12][0-9]{3}$/.test(b.text)))===null||h===void 0?void 0:h.text},"_MusicResponsiveListItem_parseAlbum"),xb=s(function(){var e,i,o,n,r,a,d,f;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let h=(n=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.key("title").instanceof(c).runs)===null||n===void 0?void 0:n.find(b=>b.text.match(/\d+ (song|songs)/));this.item_count=h?h.text:void 0;let _=(a=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.key("title").instanceof(c).runs)===null||a===void 0?void 0:a.find(b=>Ye(b)&&b.endpoint&&b.endpoint.payload.browseId.startsWith("UC"));_&&Ye(_)&&(this.author={name:_.text,channel_id:(f=(d=_.endpoint)===null||d===void 0?void 0:d.payload)===null||f===void 0?void 0:f.browseId,endpoint:_.endpoint})},"_MusicResponsiveListItem_parsePlaylist");ot.type="MusicResponsiveListItem";var Kl=class extends l{constructor(e){super(),e.strapline&&(this.strapline=new c(e.strapline)),this.title=new c(e.title),e.thumbnail&&(this.thumbnail=p.parseItem(e.thumbnail,zt)),e.moreContentButton&&(this.more_content=p.parseItem(e.moreContentButton,S)),e.endIcons&&(this.end_icons=p.parseArray(e.endIcons,Dh))}};s(Kl,"MusicCarouselShelfBasicHeader");Kl.type="MusicCarouselShelfBasicHeader";var cm=Kl;var $l=class extends l{constructor(e){super(),this.button_text=new c(e.buttonText).toString(),this.endpoint=new v(e.clickCommand)}};s($l,"MusicNavigationButton");$l.type="MusicNavigationButton";var ss=$l;var ql=class extends l{constructor(e){super(),this.header=p.parseItem(e.header,cm),this.contents=p.parseArray(e.contents,[ns,ot,ss]),this.num_items_per_column=Reflect.has(e,"numItemsPerColumn")?parseInt(e.numItemsPerColumn):null}};s(ql,"MusicCarouselShelf");ql.type="MusicCarouselShelf";var be=ql;var Xl=class extends l{constructor(e){super(),this.description=new c(e.description),this.max_collapsed_lines&&(this.max_collapsed_lines=e.maxCollapsedLines),this.max_expanded_lines&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new c(e.footer)}};s(Xl,"MusicDescriptionShelf");Xl.type="MusicDescriptionShelf";var To=Xl;var Ql=class extends l{constructor(e){var i,o,n,r,a,d,f,h,_;super(),this.title=new c(e.title),this.description=new c(e.description),this.subtitle=new c(e.subtitle),this.second_subtitle=new c(e.secondSubtitle),this.year=((o=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(y=>/^[12][0-9]{3}$/.test(y.text)))===null||o===void 0?void 0:o.text)||"",this.song_count=((r=(n=this.second_subtitle.runs)===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.text)||"",this.total_duration=((d=(a=this.second_subtitle.runs)===null||a===void 0?void 0:a[2])===null||d===void 0?void 0:d.text)||"",this.thumbnails=w.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=p.parse(e.subtitleBadges);let b=(f=this.subtitle.runs)===null||f===void 0?void 0:f.find(y=>{var T,k;return(k=(T=y==null?void 0:y.endpoint)===null||T===void 0?void 0:T.payload)===null||k===void 0?void 0:k.browseId.startsWith("UC")});b&&(this.author={name:b.text,channel_id:(_=(h=b.endpoint)===null||h===void 0?void 0:h.payload)===null||_===void 0?void 0:_.browseId,endpoint:b.endpoint}),this.menu=p.parseItem(e.menu)}};s(Ql,"MusicDetailHeader");Ql.type="MusicDetailHeader";var Io=Ql;var Zl=class extends l{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};s(Zl,"MusicDownloadStateBadge");Zl.type="MusicDownloadStateBadge";var bb=Zl;var ec=class extends l{constructor(e){super(),this.header=p.parseItem(e.header)}};s(ec,"MusicEditablePlaylistDetailHeader");ec.type="MusicEditablePlaylistDetailHeader";var dm=ec;var tc=class extends l{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?p.parseItem(e,Zn):null}};s(tc,"MusicElementHeader");tc.type="MusicElementHeader";var ic=tc;var oc=class extends l{constructor(e){super(),e.header&&(this.header=p.parseItem(e.header)),e.title&&(this.title=new c(e.title))}};s(oc,"MusicHeader");oc.type="MusicHeader";var Ui=oc;var nc=class extends l{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.thumbnail=p.parseItem(e.thumbnail,zt)}};s(nc,"MusicImmersiveHeader");nc.type="MusicImmersiveHeader";var pm=nc;var sc=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new v(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};s(sc,"ActionButton");sc.type="ActionButton";var rc=class{constructor(e){this.image=e.image.image.sources,this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new sc(i))}};s(rc,"Panel");rc.type="Panel";var ac=class extends l{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new rc(i))}};s(ac,"MusicLargeCardItemCarousel");ac.type="MusicLargeCardItemCarousel";var wb=ac;var uc=class extends l{constructor(e){var i,o,n;super(),this.playlist_id=e.playlistId,this.contents=p.parseArray(e.contents,ot),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((n=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||n===void 0?void 0:n.continuation)||null}};s(uc,"MusicPlaylistShelf");uc.type="MusicPlaylistShelf";var ko=uc;var lc=class extends l{constructor(e){var i,o,n,r,a;super(),this.title=new c(e.title),this.thumbnail=w.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new c(e.lengthText).toString(),seconds:Re(new c(e.lengthText).toString())};let d=(i=new c(e.longBylineText).runs)===null||i===void 0?void 0:i.find(h=>{var _,b,y;return(y=(b=(_=h.endpoint)===null||_===void 0?void 0:_.payload)===null||b===void 0?void 0:b.browseId)===null||y===void 0?void 0:y.startsWith("MPR")}),f=(o=new c(e.longBylineText).runs)===null||o===void 0?void 0:o.filter(h=>{var _,b,y;return(y=(b=(_=h.endpoint)===null||_===void 0?void 0:_.payload)===null||b===void 0?void 0:b.browseId)===null||y===void 0?void 0:y.startsWith("UC")});this.author=new c(e.shortBylineText).toString(),d&&(this.album={id:(r=(n=d.endpoint)===null||n===void 0?void 0:n.payload)===null||r===void 0?void 0:r.browseId,name:d.text,year:(a=new c(e.longBylineText).runs)===null||a===void 0?void 0:a.slice(-1)[0].text,endpoint:d.endpoint}),f&&(this.artists=f.map(h=>{var _,b;return{name:h.text,channel_id:(b=(_=h.endpoint)===null||_===void 0?void 0:_.payload)===null||b===void 0?void 0:b.browseId,endpoint:h.endpoint}})),this.badges=p.parseArray(e.badges),this.menu=p.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};s(lc,"PlaylistPanelVideo");lc.type="PlaylistPanelVideo";var yi=lc;var cc=class extends l{constructor(e){var i;super(),this.primary=p.parseItem(e.primaryRenderer,yi),this.counterpart=((i=e.counterpart)===null||i===void 0?void 0:i.map(o=>p.parseItem(o.counterpartRenderer,yi)))||[]}};s(cc,"PlaylistPanelVideoWrapper");cc.type="PlaylistPanelVideoWrapper";var fm=cc;var dc=class extends l{constructor(e){var i,o,n,r,a,d;super(),this.title=e.title,this.title_text=new c(e.titleText),this.contents=p.parseArray(e.contents,[fm,yi,Li]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((n=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextRadioContinuationData)===null||n===void 0?void 0:n.continuation)||((d=(a=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.nextContinuationData)===null||d===void 0?void 0:d.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};s(dc,"PlaylistPanel");dc.type="PlaylistPanel";var $t=dc;var pc=class extends l{constructor(e){super(),this.content=p.parseItem(e.content,$t)}};s(pc,"MusicQueue");pc.type="MusicQueue";var rs=pc;var fc=class extends l{constructor(e){var i,o,n,r;super(),this.title=new c(e.title),this.contents=p.parseArray(e.contents,ot),e.bottomEndpoint&&(this.endpoint=new v(e.bottomEndpoint)),e.continuations&&(this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((r=(n=e.continuations)===null||n===void 0?void 0:n[0].reloadContinuationData)===null||r===void 0?void 0:r.continuation)),e.bottomText&&(this.bottom_text=new c(e.bottomText)),e.bottomButton&&(this.bottom_button=p.parseItem(e.bottomButton,S)),e.subheaders&&(this.subheaders=p.parseArray(e.subheaders))}};s(fc,"MusicShelf");fc.type="MusicShelf";var me=fc;var hc=class extends l{constructor(e){super(),e.startItems&&(this.start_items=p.parseArray(e.startItems)),e.endItems&&(this.end_items=p.parseArray(e.endItems))}};s(hc,"MusicSideAlignedItem");hc.type="MusicSideAlignedItem";var hm=hc;var mc=class extends l{constructor(e){var i;super(),this.title=new c(e.title).toString(),this.icon_type=((i=e.icon)===null||i===void 0?void 0:i.icon_type)||null,this.menu=p.parseItem(e.menu,im)}};s(mc,"MusicSortFilterButton");mc.type="MusicSortFilterButton";var _c=mc;var zv={};mt(zv,{Author:()=>B,ChildElement:()=>kh,EmojiRun:()=>Tf,Format:()=>Bf,Text:()=>c,TextRun:()=>xf,Thumbnail:()=>w,VideoDetails:()=>Df});var xi=class extends l{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};s(xi,"MusicTastebuilderShelfThumbnail");xi.type="MusicTastebuilderShelfThumbnail";var bi=class extends l{constructor(e){super(),this.thumbnail=p.parseItem(e.thumbnail,xi),this.primary_text=new c(e.primaryText),this.secondary_text=new c(e.secondaryText),this.action_button=p.parseItem(e.actionButton,S),this.is_visible=e.isVisible}};s(bi,"MusicTasteBuilderShelf");bi.type="MusicTasteBuilderShelf";var vc=class extends l{constructor(e){var i,o;super(),this.title=new c(e.title),this.thumbnails=e.thumbnail?w.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=p.parseItem(e.menu,J),this.foreground_thumbnails=e.foregroundThumbnail?w.fromResponse((o=e.foregroundThumbnail.musicThumbnailRenderer)===null||o===void 0?void 0:o.thumbnail):[]}};s(vc,"MusicVisualHeader");vc.type="MusicVisualHeader";var mm=vc;var gc=class extends l{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.video_thumbnails=w.fromResponse(e.videoThumbnail),this.short_message=new c(e.shortMessage),this.sent_time=new c(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new v(e.navigationEndpoint),this.record_click_endpoint=new v(e.recordClickEndpoint),this.menu=p.parseItem(e.contextualMenu),this.read=e.read}};s(gc,"Notification");gc.type="Notification";var _m=gc;var yc=class extends l{constructor(e){super(),this.header_text=new c(e.headerText).toString(),this.body_text=new c(e.bodyText).toString(),this.page_title=new c(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};s(yc,"PageIntroduction");yc.type="PageIntroduction";var vm=yc;var xc=class extends l{constructor(e){var i;super(),this.subreason=new c(e.subreason),this.reason=new c(e.reason),this.proceed_button=p.parseItem(e.proceedButton,S),this.thumbnails=w.fromResponse(e.thumbnail),this.icon_type=((i=e.icon)===null||i===void 0?void 0:i.iconType)||null}};s(xc,"PlayerErrorMessage");xc.type="PlayerErrorMessage";var Tb=xc;var bc=class extends l{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};s(bc,"PlayerLegacyDesktopYpcOffer");bc.type="PlayerLegacyDesktopYpcOffer";var Ib=bc;var wc=class extends l{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};s(wc,"YpcTrailer");wc.type="YpcTrailer";var gm=wc;var Tc=class extends l{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=A.parseItem(e.ypcTrailer,gm)}};s(Tc,"PlayerLegacyDesktopYpcTrailer");Tc.type="PlayerLegacyDesktopYpcTrailer";var Ic=Tc;var kc=class extends l{constructor(e){var i;super(),this.title=new c(e.title),this.description=new c(e.description),this.thumbnails=w.fromResponse(e.thumbnail),e.embed?this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}:this.embed=null,this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null}};s(kc,"PlayerMicroformat");kc.type="PlayerMicroformat";var qt=kc;var Sc=class extends l{constructor(e){super(),this.title=new c(e.title),this.video_id=e.videoId,this.video_title=new c(e.videoTitle),this.short_view_count=new c(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new c(e.publishedTimeText),this.background=w.fromResponse(e.background),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.author=new B(e.byline),this.cancel_button=p.parseItem(e.cancelButton,S),this.next_button=p.parseItem(e.nextButton,S),this.close_button=p.parseItem(e.closeButton,S)}};s(Sc,"PlayerOverlayAutoplay");Sc.type="PlayerOverlayAutoplay";var ym=Sc;var Cc=class extends l{constructor(e){super(),this.results=p.parseArray(e.results,[Ch,Sh]),this.title=new c(e.title).toString()}};s(Cc,"WatchNextEndScreen");Cc.type="WatchNextEndScreen";var xm=Cc;var Nc=class extends l{constructor(e){super(),this.end_screen=p.parseItem(e.endScreen,xm),this.autoplay=p.parseItem(e.autoplay,ym),this.share_button=p.parseItem(e.shareButton,S),this.add_to_menu=p.parseItem(e.addToMenu,J),this.fullscreen_engagement=p.parseItem(e.fullscreenEngagement),this.actions=p.parseArray(e.actions),this.browser_media_session=p.parseItem(e.browserMediaSession),this.decorated_player_bar=p.parseItem(e.decoratedPlayerBarRenderer,Th)}};s(Nc,"PlayerOverlay");Nc.type="PlayerOverlay";var Wi=Nc;var Ec=class extends l{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};s(Ec,"PlaylistCustomThumbnail");Ec.type="PlaylistCustomThumbnail";var bm=Ec;var Pc=class extends l{constructor(e){super(),this.id=e.playlistId,this.title=new c(e.title),this.stats=e.stats.map(i=>new c(i)),this.brief_stats=e.briefStats.map(i=>new c(i)),this.author=new B(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null),this.description=new c(e.descriptionText),this.num_videos=new c(e.numVideosText),this.view_count=new c(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=p.parseItem(e.saveButton),this.shuffle_play_button=p.parseItem(e.shufflePlayButton),this.menu=p.parseItem(e.moreActionsMenu),this.banner=p.parseItem(e.playlistHeaderBanner)}};s(Pc,"PlaylistHeader");Pc.type="PlaylistHeader";var wm=Pc;var Mc=class extends l{constructor(e){super(),this.title=new c(e.playlistTitle),this.thumbnails=w.fromResponse(e.thumbnail),this.video_count=new c(e.playlistVideoCount),this.channel_name=new c(e.channelName),this.endpoint=new v(e.action)}};s(Mc,"PlaylistInfoCardContent");Mc.type="PlaylistInfoCardContent";var kb=Mc;var Ac=class extends l{constructor(e){super(),this.title=e.title,this.description=e.description||null}};s(Ac,"PlaylistMetadata");Ac.type="PlaylistMetadata";var Tm=Ac;var Vc=class extends l{constructor(e){super(),this.items=p.parseArray(e.items)}get contents(){return this.items}};s(Vc,"PlaylistSidebar");Vc.type="PlaylistSidebar";var Sb=Vc;var Rc=class extends l{constructor(e){super(),this.stats=e.stats.map(i=>new c(i)),this.thumbnail_renderer=p.parseItem(e.thumbnailRenderer),this.title=new c(e.title),this.menu=p.parseItem(e.menu),this.endpoint=new v(e.navigationEndpoint),this.description=new c(e.description)}};s(Rc,"PlaylistSidebarPrimaryInfo");Rc.type="PlaylistSidebarPrimaryInfo";var Im=Rc;var Oc=class extends l{constructor(e){super(),this.owner=p.parseItem(e.videoOwner),this.button=p.parseItem(e.button)}};s(Oc,"PlaylistSidebarSecondaryInfo");Oc.type="PlaylistSidebarSecondaryInfo";var km=Oc;var Bc=class extends l{constructor(e){super(),this.id=e.videoId,this.index=new c(e.index),this.title=new c(e.title),this.author=new B(e.shortBylineText),this.thumbnails=w.fromResponse(e.thumbnail),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new v(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=p.parseItem(e.menu,J),this.video_info=new c(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label;let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new c(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(mo))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(mo))===null||e===void 0?void 0:e.style)==="UPCOMING"}};s(Bc,"PlaylistVideo");Bc.type="PlaylistVideo";var Sm=Bc;var Fc=class extends l{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=p.parse(e.contents)}};s(Fc,"PlaylistVideoList");Fc.type="PlaylistVideoList";var Cb=Fc;var Dc=class extends l{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail)}};s(Dc,"PlaylistVideoThumbnail");Dc.type="PlaylistVideoThumbnail";var Cm=Dc;var Lc=class extends l{constructor(e){super(),this.choices=e.choices.map(i=>({text:new c(i.text),select_endpoint:i.selectServiceEndpoint?new v(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new v(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new c(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new c(i.votePercentageIfSelected),image:i.image?w.fromResponse(i.image):null})),e.type&&(this.poll_type=e.type),e.totalVotes&&(this.total_votes=new c(e.totalVotes)),e.liveChatPollId&&(this.live_chat_poll_id=e.liveChatPollId)}};s(Lc,"Poll");Lc.type="Poll";var Nb=Lc;var Yc=class extends Yi{constructor(e){super(e)}};s(Yc,"Post");Yc.type="Post";var Nm=Yc;var jc=class extends l{constructor(e){super(),this.images=p.parseArray(e.images,Gf)}};s(jc,"PostMultiImage");jc.type="PostMultiImage";var Eb=jc;var Uc=class extends l{constructor(e){super(),this.items=p.parseArray(e.items)}get contents(){return this.items}};s(Uc,"ProfileColumn");Uc.type="ProfileColumn";var Pb=Uc;var Wc=class extends l{constructor(e){super(),this.items=p.parseArray(e.items)}get contents(){return this.items}};s(Wc,"ProfileColumnStats");Wc.type="ProfileColumnStats";var Em=Wc;var Jc=class extends l{constructor(e){super(),this.label=new c(e.label),this.value=new c(e.value)}};s(Jc,"ProfileColumnStatsEntry");Jc.type="ProfileColumnStatsEntry";var Mb=Jc;var Hc=class extends l{constructor(e){super(),this.title=new c(e.title),this.thumbnails=w.fromResponse(e.thumbnail)}};s(Hc,"ProfileColumnUserInfo");Hc.type="ProfileColumnUserInfo";var Pm=Hc;var Gc=class extends l{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.avatars=e.avatars.map(i=>new w(i)),this.button=p.parseItem(e.button,S),this.surface=e.surface}};s(Gc,"RecognitionShelf");Gc.type="RecognitionShelf";var Ab=Gc;var zc=class extends l{constructor(e){super(),this.id=e.videoId,this.title=new c(e.headline),this.thumbnails=w.fromResponse(e.thumbnail),this.views=new c(e.viewCountText),this.endpoint=new v(e.navigationEndpoint)}};s(zc,"ReelItem");zc.type="ReelItem";var Mm=zc;var Kc=class extends l{constructor(e){super(),this.title=new c(e.title),this.items=p.parseArray(e.items),this.endpoint=e.endpoint?new v(e.endpoint):null}get contents(){return this.items}};s(Kc,"ReelShelf");Kc.type="ReelShelf";var Am=Kc;var $c=class extends l{constructor(e){super(),this.content=p.parse(e.content)}};s($c,"RelatedChipCloud");$c.type="RelatedChipCloud";var Vm=$c;var qc=class extends l{constructor(e){super(),this.header=p.parseItem(e.header),this.contents=p.parseArray(e.contents)}};s(qc,"RichGrid");qc.type="RichGrid";var Ji=qc;var Xc=class extends l{constructor(e){super(),this.content=p.parseItem(e.content)}};s(Xc,"RichItem");Xc.type="RichItem";var Vb=Xc;var Qc=class extends l{constructor(e){var i,o;super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.title_style=(i=e==null?void 0:e.titleStyle)===null||i===void 0?void 0:i.style,this.icon_type=(o=e==null?void 0:e.icon)===null||o===void 0?void 0:o.iconType}};s(Qc,"RichListHeader");Qc.type="RichListHeader";var Rb=Qc;var Zc=class extends l{constructor(e){var i,o;super(),this.thumbnail=w.fromResponse(e.thumbnail),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.call_to_action=new c(e.callToAction),!((i=e.callToActionIcon)===null||i===void 0)&&i.iconType&&(this.icon_type=(o=e.callToActionIcon)===null||o===void 0?void 0:o.iconType),this.endpoint=new v(e.endpoint)}};s(Zc,"RichMetadata");Zc.type="RichMetadata";var ed=Zc;var td=class extends l{constructor(e){super(),this.contents=p.parseArray(e.contents)}};s(td,"RichMetadataRow");td.type="RichMetadataRow";var id=td;var od=class extends l{constructor(e){super(),this.content=p.parseItem(e.content)}};s(od,"RichSection");od.type="RichSection";var Ob=od;var nd=class extends l{constructor(e){super(),this.title=new c(e.title),this.contents=p.parseArray(e.contents),this.endpoint=e.endpoint?new v(e.endpoint):null}};s(nd,"RichShelf");nd.type="RichShelf";var Rm=nd;var sd=class extends l{constructor(e){super(),this.endpoint=new v(e.endpoint),this.search_button=p.parseItem(e.searchButton),this.clear_button=p.parseItem(e.clearButton),this.placeholder_text=new c(e.placeholderText)}};s(sd,"SearchBox");sd.type="SearchBox";var Bb=sd;var rd=class extends l{constructor(e){super(),this.label=new c(e.label),this.endpoint=new v(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,e.status&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};s(rd,"SearchFilter");rd.type="SearchFilter";var Om=rd;var ad=class extends l{constructor(e){super(),this.title=new c(e.title),this.filters=A.parseArray(e.filters,Om)}};s(ad,"SearchFilterGroup");ad.type="SearchFilterGroup";var Bm=ad;var ud=class extends l{constructor(e){super(),this.title=new c(e.title),this.groups=p.parseArray(e.groups,Bm),this.button=p.parseItem(e.button,Pe)}};s(ud,"SearchSubMenu");ud.type="SearchSubMenu";var Fm=ud;var ld=class extends l{constructor(e){super(),this.contents=p.parse(e.contents)}};s(ld,"SearchSuggestionsSection");ld.type="SearchSuggestionsSection";var Dm=ld;var cd=class extends l{constructor(e){super(),this.contents=p.parse(e.contents)}};s(cd,"SecondarySearchContainer");cd.type="SecondarySearchContainer";var Fb=cd;var dd=class extends l{constructor(e){super(),e.targetId&&(this.target_id=e.targetId),this.contents=p.parseArray(e.contents),e.continuations&&(e.continuations[0].nextContinuationData?this.continuation=e.continuations[0].nextContinuationData.continuation:e.continuations[0].reloadContinuationData&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),e.header&&(this.header=p.parseItem(e.header)),e.subMenu&&(this.sub_menu=p.parseItem(e.subMenu))}};s(dd,"SectionList");dd.type="SectionList";var Z=dd;var pd=class extends l{constructor(e){super(),this.like_button=p.parseItem(e.likeButton,[Pe,S]),this.dislike_button=p.parseItem(e.dislikeButton,[Pe,S])}};s(pd,"SegmentedLikeDislikeButton");pd.type="SegmentedLikeDislikeButton";var So=pd;var fd=class extends l{constructor(e){super(),e.title&&(this.title=new c(e.title)),e.summary&&(this.summary=new c(e.summary)),e.enableServiceEndpoint&&(this.enable_endpoint=new v(e.enableServiceEndpoint)),e.disableServiceEndpoint&&(this.disable_endpoint=new v(e.disableServiceEndpoint)),this.item_id=e.itemId}};s(fd,"SettingBoolean");fd.type="SettingBoolean";var Db=fd;var hd=class extends l{constructor(e){super(),this.title=new c(e.title),this.help_text=new c(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};s(hd,"SettingsCheckbox");hd.type="SettingsCheckbox";var Lm=hd;var md=class extends l{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new v(e.enableServiceEndpoint),this.disable_endpoint=new v(e.disableServiceEndpoint)}};s(md,"SettingsSwitch");md.type="SettingsSwitch";var as=md;var _d=class extends l{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"text")&&(this.text=new c(e.text).toString()),Reflect.has(e,"options")&&(this.options=p.parseArray(e.options,[as,Jn,yh,Lm,ih]))}};s(_d,"SettingsOptions");_d.type="SettingsOptions";var us=_d;var vd=class extends l{constructor(e){super(),this.title=new c(e.title),this.items=p.parseArray(e.items,Qn)}get contents(){return this.items}};s(vd,"SettingsSidebar");vd.type="SettingsSidebar";var Ym=vd;var gd=class extends l{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.content=new c(e.content),this.published=new c(e.publishedTimeText),this.menu=A.parseItem(e.actionMenu,J),this.original_post=A.parseItem(e.originalPost,Yi),this.id=e.postId,this.endpoint=new v(e.navigationEndpoint),this.expand_button=A.parseItem(e.expandButton,S),this.author=new B(e.displayName,void 0)}};s(gd,"SharedPost");gd.type="SharedPost";var jm=gd;var yd=class extends l{constructor(e){var i,o;super(),this.title=new c(e.title),e.endpoint&&(this.endpoint=new v(e.endpoint)),this.content=p.parseItem(e.content)||null,!((i=e.icon)===null||i===void 0)&&i.iconType&&(this.icon_type=(o=e.icon)===null||o===void 0?void 0:o.iconType),e.menu&&(this.menu=p.parseItem(e.menu)),e.playAllButton&&(this.play_all_button=p.parseItem(e.playAllButton,S))}};s(yd,"Shelf");yd.type="Shelf";var ls=yd;var wi=class extends l{constructor(e){super(),this.corrected_query=new c(e.correctedQuery),this.original_query=new c(e.originalQuery),this.corrected_query_endpoint=new v(e.correctedQueryEndpoint),this.original_query_endpoint=new v(e.originalQueryEndpoint),this.search_instead_for=new c(e.searchInsteadFor),this.showing_results_for=new c(e.showingResultsFor)}};s(wi,"ShowingResultsFor");wi.type="ShowingResultsFor";var xd=class extends l{constructor(e){super(),this.image=w.fromResponse(e.image),this.title=new c(e.title),this.display_domain=new c(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=e.callToAction,this.endpoint=new v(e.command)}};s(xd,"SimpleCardContent");xd.type="SimpleCardContent";var Lb=xd;var bd=class extends l{constructor(e){super(),this.message=new c(e.message),this.prominent=e.prominent}};s(bd,"SimpleCardTeaser");bd.type="SimpleCardTeaser";var Yb=bd;var wd=class extends l{constructor(e){super(),this.lines=e.lines.map(i=>new c(i)),this.style=e.layoutStyle}};s(wd,"SimpleTextSection");wd.type="SimpleTextSection";var jb=wd;var Td=class extends l{constructor(e){super(),this.action_text=new c(e.actionText),this.nav_text=new c(e.navigationText),this.details=new c(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new v(e.navigationEndpoint)}};s(Td,"SingleActionEmergencySupport");Td.type="SingleActionEmergencySupport";var Ub=Td;var Id=class extends l{constructor(e){super(),this.title=e.title||"N/A",this.selected=e.selected||!1,this.endpoint=new v(e.endpoint),this.content=p.parseItem(e.content,[Z,rs,Ji])}};s(Id,"Tab");Id.type="Tab";var le=Id;var kd=class extends l{constructor(e){super(),this.tabs=p.parseArray(e.tabs,le)}};s(kd,"SingleColumnBrowseResults");kd.type="SingleColumnBrowseResults";var Xt=kd;var Sd=class extends l{constructor(e){super(),this.contents=p.parse(e)}};s(Sd,"SingleColumnMusicWatchNextResults");Sd.type="SingleColumnMusicWatchNextResults";var Wb=Sd;var Cd=class extends l{constructor(e){super(),this.thumbnails=w.fromResponse(e.thumbnail),this.style=e.style}};s(Cd,"SingleHeroImage");Cd.type="SingleHeroImage";var Jb=Cd;var Nd=class extends l{constructor(e){super(),this.thumbnail=w.fromResponse(e.thumbnail),this.title=new c(e.title),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=p.parseItem(e.subscribeButton,Be)}};s(Nd,"SlimOwner");Nd.type="SlimOwner";var Hb=Nd;var Ed=class extends l{constructor(e){super(),this.title=new c(e.title),this.collapsed_subtitle=new c(e.collapsedSubtitle),this.expanded_subtitle=new c(e.expandedSubtitle),this.owner=p.parseItem(e.owner),this.description=new c(e.description),this.video_id=e.videoId,this.date=new c(e.dateText)}};s(Ed,"SlimVideoMetadata");Ed.type="SlimVideoMetadata";var Um=Ed;var Pd=class extends l{constructor(e){super(),this.name=new c(e.name),this.is_selected=e.isSelected,this.endpoint=new v(e.navigationEndpoint)}};s(Pd,"SubFeedOption");Pd.type="SubFeedOption";var Gb=Pd;var Md=class extends l{constructor(e){super(),this.title=new c(e.title),this.options=p.parse(e.options)}};s(Md,"SubFeedSelector");Md.type="SubFeedSelector";var zb=Md;var Ad=class extends l{constructor(e){super(),this.contents=p.parse(e)}};s(Ad,"Tabbed");Ad.type="Tabbed";var Kb=Ad;var Vd=class extends l{constructor(e){super(),this.tabs=p.parseArray(e.tabs,le)}};s(Vd,"TabbedSearchResults");Vd.type="TabbedSearchResults";var Wm=Vd;var Rd=class extends l{constructor(e){super(),this.title=new c(e.title),this.style=e.style}};s(Rd,"TextHeader");Rd.type="TextHeader";var $b=Rd;var Od=class extends l{constructor(e){super(),this.landscape=w.fromResponse(e.landscape),this.portrait=w.fromResponse(e.portrait)}};s(Od,"ThumbnailLandscapePortrait");Od.type="ThumbnailLandscapePortrait";var qb=Od;var Bd=class extends l{constructor(e){super(),this.text=new c(e.text).toString()}};s(Bd,"ThumbnailOverlayEndorsement");Bd.type="ThumbnailOverlayEndorsement";var Xb=Bd;var Fd=class extends l{constructor(e){super(),this.text=new c(e.text),this.icon_type=e.icon.iconType}};s(Fd,"ThumbnailOverlayHoverText");Fd.type="ThumbnailOverlayHoverText";var Qb=Fd;var Dd=class extends l{constructor(e){super(),this.text=new c(e.text).toString(),this.icon_type=e.icon.iconType}};s(Dd,"ThumbnailOverlayInlineUnplayable");Dd.type="ThumbnailOverlayInlineUnplayable";var Zb=Dd;var Ld=class extends l{constructor(e){super(),this.text=new c(e.text)}};s(Ld,"ThumbnailOverlayLoadingPreview");Ld.type="ThumbnailOverlayLoadingPreview";var ew=Ld;var Yd=class extends l{constructor(e){super(),this.text=new c(e.text).toString()}};s(Yd,"ThumbnailOverlayNowPlaying");Yd.type="ThumbnailOverlayNowPlaying";var tw=Yd;var jd=class extends l{constructor(e){super(),this.hack=e.hack}};s(jd,"ThumbnailOverlayPinking");jd.type="ThumbnailOverlayPinking";var iw=jd;var Ud=class extends l{constructor(e){super(),this.text=e.texts.map(i=>new c(i))[0].toString()}};s(Ud,"ThumbnailOverlayPlaybackStatus");Ud.type="ThumbnailOverlayPlaybackStatus";var ow=Ud;var Wd=class extends l{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};s(Wd,"ThumbnailOverlayResumePlayback");Wd.type="ThumbnailOverlayResumePlayback";var nw=Wd;var Jd=class extends l{constructor(e){super(),this.text=new c(e.text),this.icon_type=e.icon.iconType}};s(Jd,"ThumbnailOverlaySidePanel");Jd.type="ThumbnailOverlaySidePanel";var sw=Jd;var Hd=class extends l{constructor(e){super(),this.is_toggled=e.isToggled||null,this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new v(e.toggledServiceEndpoint),this.untoggled_endpoint=new v(e.untoggledServiceEndpoint)}};s(Hd,"ThumbnailOverlayToggleButton");Hd.type="ThumbnailOverlayToggleButton";var rw=Hd;var Gd=class extends l{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new c(e.label),this.icon=e.icon}};s(Gd,"TimedMarkerDecoration");Gd.type="TimedMarkerDecoration";var aw=Gd;var zd=class extends l{constructor(e){super(),this.title=new c(e.title)}};s(zd,"TitleAndButtonListHeader");zd.type="TitleAndButtonListHeader";var uw=zd;var Co=class extends l{constructor(e){super(),this.text=new c(e.defaultText),this.toggled_text=new c(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint)}};s(Co,"ToggleMenuServiceItem");Co.type="ToggleMenuServiceItem";var Kd=class extends l{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new v(i)),accept:new v(e.promoConfig.acceptCommand),dismiss:new v(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new c(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};s(Kd,"Tooltip");Kd.type="Tooltip";var lw=Kd;var $d=class extends l{constructor(e){var i;super(),this.title=new c(e.title),this.avatar=w.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new c(e.subtitle),this.subscribe_button=p.parseItem(e.subscribeButton,Be),this.endpoint=new v(e.navigationEndpoint)}};s($d,"TopicChannelDetails");$d.type="TopicChannelDetails";var cw=$d;var qd=class extends l{constructor(e){super(),this.tabs=p.parse(e.tabs),this.secondary_contents=p.parse(e.secondaryContents)}};s(qd,"TwoColumnBrowseResults");qd.type="TwoColumnBrowseResults";var Hi=qd;var Xd=class extends l{constructor(e){super(),this.primary_contents=p.parse(e.primaryContents),this.secondary_contents=p.parse(e.secondaryContents)}};s(Xd,"TwoColumnSearchResults");Xd.type="TwoColumnSearchResults";var Jm=Xd;var Hm,Kv,Qd=class extends l{constructor(e){var i,o,n,r,a;super(),Hm.add(this),this.results=p.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=p.parseArray((o=e.secondaryResults)===null||o===void 0?void 0:o.secondaryResults.results),this.conversation_bar=p.parseItem(e==null?void 0:e.conversationBar);let d=(n=e.playlist)===null||n===void 0?void 0:n.playlist;d&&(this.playlist={id:d.playlistId,title:d.title,author:!((r=d.shortBylineText)===null||r===void 0)&&r.simpleText?new c(d.shortBylineText):new B(d.longBylineText),contents:p.parseArray(d.contents),current_index:d.currentIndex,is_infinite:!!d.isInfinite,menu:p.parseItem(d.menu,J)});let f=(a=e.autoplay)===null||a===void 0?void 0:a.autoplay;f&&(this.autoplay={sets:f.sets.map(h=>u(this,Hm,"m",Kv).call(this,h))},f.modifiedSets&&(this.autoplay.modified_sets=f.modifiedSets.map(h=>u(this,Hm,"m",Kv).call(this,h))),f.countDownSecs&&(this.autoplay.count_down_secs=f.countDownSecs))}};s(Qd,"TwoColumnWatchNextResults");Hm=new WeakSet,Kv=s(function(e){let i={autoplay_video:new v(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new v(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");Qd.type="TwoColumnWatchNextResults";var cs=Qd;var Zd=class extends l{constructor(e){super(),this.header=p.parseItem(e.header),this.call_to_action=p.parseItem(e.callToAction),this.sections=p.parseArray(e.sections),e.collapsedLabel&&(this.collapsed_label=new c(e.collapsedLabel))}};s(Zd,"UniversalWatchCard");Zd.type="UniversalWatchCard";var Gm=Zd;var ep=class extends l{constructor(e){super(),this.message_title=new c(e.dialogMessageTitle),this.message_text=new c(e.dialogMessageText),this.action_button=p.parseItem(e.actionButton,S),this.dismiss_button=p.parseItem(e.dismissButton,S),this.is_visible=e.isVisible}};s(ep,"UpsellDialog");ep.type="UpsellDialog";var dw=ep;var tp=class extends l{constructor(e){super(),this.items=p.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new c(e.collapsedStateButtonText)}get contents(){return this.items}};s(tp,"VerticalList");tp.type="VerticalList";var pw=tp;var ip=class extends l{constructor(e){super(),this.items=p.parseArray(e.items),this.contents=this.items,this.view_all_text=new c(e.viewAllText),this.view_all_endpoint=new v(e.viewAllEndpoint)}};s(ip,"VerticalWatchCardList");ip.type="VerticalWatchCardList";var fw=ip;var op=class extends l{constructor(e){super(),this.title=new c(e.videoTitle),this.channel_name=new c(e.channelName),this.view_count=new c(e.viewCountText),this.video_thumbnails=w.fromResponse(e.videoThumbnail),this.duration=new c(e.lengthString),this.endpoint=new v(e.action)}};s(op,"VideoInfoCardContent");op.type="VideoInfoCardContent";var hw=op;var np=class extends l{constructor(e){super(),this.subscription_button=e.subscriptionButton||null,this.subscriber_count=new c(e.subscriberCountText),this.author=new B(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};s(np,"VideoOwner");np.type="VideoOwner";var ds=np;var sp=class extends l{constructor(e){var i,o,n,r;super(),this.title=new c(e.title),this.super_title_link=new c(e.superTitleLink),this.view_count=new c((o=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||o===void 0?void 0:o.viewCount),this.short_view_count=new c((r=(n=e.viewCount)===null||n===void 0?void 0:n.videoViewCountRenderer)===null||r===void 0?void 0:r.shortViewCount),this.badges=p.parseArray(e.badges,Ge),this.published=new c(e.dateText),this.relative_date=new c(e.relativeDateText),this.menu=p.parseItem(e.videoActions,J)}};s(sp,"VideoPrimaryInfo");sp.type="VideoPrimaryInfo";var zm=sp;var $v,mw,rp=class extends l{constructor(e){super(),$v.add(this),this.owner=p.parseItem(e.owner,ds),this.description=new c(e.description),Reflect.has(e,"attributedDescription")&&(this.description=new c(u(this,$v,"m",mw).call(this,e.attributedDescription))),this.subscribe_button=p.parseItem(e.subscribeButton,[Be,S]),this.metadata=p.parseItem(e.metadataRowContainer,sm),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};s(rp,"VideoSecondaryInfo");$v=new WeakSet,mw=s(function(e){let i=[],o=e.content,n=e.commandRuns,r=0;if(n){for(let a of n){let d=a.length,f=a.startIndex;if(f>r&&i.push({text:o.slice(r,f)}),Reflect.has(a,"onTap")){let h=null;if(Reflect.has(e,"attachmentRuns")){let _=e.attachmentRuns;for(let b of _)if(b.startIndex-2==f){h=b;break}}h?i.push({text:o.slice(f,f+d),navigationEndpoint:a.onTap,attachment:h}):i.push({text:o.slice(f,f+d),navigationEndpoint:a.onTap})}r=f+d}r<o.length&&i.push({text:o.slice(r)})}else i.push({text:o});return{runs:i}},"_VideoSecondaryInfo_convertAttributedDescriptionToRuns");rp.type="VideoSecondaryInfo";var ap=rp;var up=class extends l{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.duration={text:new c(e.lengthText).toString(),seconds:Re(e.lengthText.simpleText)},this.style=e.style}};s(up,"WatchCardCompactVideo");up.type="WatchCardCompactVideo";var Km=up;var lp=class extends l{constructor(e){var i;super(),this.endpoint=new v(e.navigationEndpoint),this.call_to_action_button=p.parseItem(e.callToActionButton),this.hero_image=p.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};s(lp,"WatchCardHeroVideo");lp.type="WatchCardHeroVideo";var _w=lp;var cp=class extends l{constructor(e){super(),this.title=new c(e.title),this.title_endpoint=new v(e.titleNavigationEndpoint),this.subtitle=new c(e.subtitle),this.author=new B(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};s(cp,"WatchCardRichHeader");cp.type="WatchCardRichHeader";var vw=cp;var dp=class extends l{constructor(e){super(),this.lists=p.parseArray(e.lists)}};s(dp,"WatchCardSectionSequence");dp.type="WatchCardSectionSequence";var gw=dp;var pp=class extends Hi{constructor(e){super(e)}};s(pp,"WatchNextTabbedResults");pp.type="WatchNextTabbedResults";var $m=pp;var fp=class extends l{constructor(e){var i,o;super(),this.title=e.title,this.content=p.parseItem(e.content,Z),this.endpoint=new v(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType}};s(fp,"AnchoredSection");fp.type="AnchoredSection";var qm=fp;var hp=class extends l{constructor(e){var i,o;super(),this.title=new c(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType,this.endpoint=new v(e.endpoint)}};s(hp,"KidsCategoryTab");hp.type="KidsCategoryTab";var ps=hp;var mp=class extends l{constructor(e){super(),this.category_tabs=p.parseArray(e.categoryTabs,ps),this.privacy_button=p.parseItem(e.privacyButtonRenderer,S)}};s(mp,"KidsCategoriesHeader");mp.type="kidsCategoriesHeader";var Xm=mp;var _p=class extends l{constructor(e){super(),this.anchors=p.parseArray(e.anchors,qm)}};s(_p,"KidsHomeScreen");_p.type="kidsHomeScreen";var Qm=_p;var Xv={};mt(Xv,{YTNodeGenerator:()=>Fe});var ce,bw,Zm,fs,ww,Tw,Ti,qv,yw,xw,Iw,Fe=class{static isIgnoredKey(e){return typeof e=="string"&&u(this,ce,"f",bw).has(e)}static mergeKeyInfo(e,i){let o=new Map,n=new Set(e.map(([T])=>T)),r=new Set(i.map(([T])=>T)),a=i.filter(([T])=>!n.has(T)),d=e.filter(([T])=>!r.has(T)),f=e.filter(([T])=>r.has(T)),h=new Map(i);for(let[T,k]of f){let N=h.get(T);if(!!N){if(k.type!==N.type){o.set(T,{type:"unknown",optional:!0});continue}switch(k.type){case"object":{if(N.type!=="object")continue;let{resolved_key_info:E}=this.mergeKeyInfo(k.keys,N.keys),R={type:"object",keys:E,optional:k.optional||N.optional};JSON.stringify(R)!==JSON.stringify(k)&&o.set(T,R)}break;case"renderer":{if(N.type!=="renderer")continue;let E=Object.assign(Object.assign({},k.renderers),N.renderers),R=k.optional||N.optional,D={type:"renderer",renderers:E,optional:R};JSON.stringify(Object.assign(Object.assign({},D),{renderers:Object.keys(D.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},k),{renderers:Object.keys(k.renderers)}))&&o.set(T,D)}break;case"renderer_list":{if(N.type!=="renderer_list")continue;let E=Object.assign(Object.assign({},k.renderers),N.renderers),R=k.optional||N.optional,D={type:"renderer_list",renderers:E,optional:R};JSON.stringify(Object.assign(Object.assign({},D),{renderers:Object.keys(D.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},k),{renderers:Object.keys(k.renderers)}))&&o.set(T,D)}break;case"misc":{if(N.type!=="misc")continue;switch(k.misc_type!==N.misc_type&&o.set(T,{type:"unknown",optional:!0}),k.misc_type){case"Author":{if(N.misc_type!=="Author")break;let E=k.params[1]||N.params[1],R=k.optional||N.optional,D={type:"misc",misc_type:"Author",optional:R,params:[N.params[0],E]};JSON.stringify(D)!==JSON.stringify(k)&&o.set(T,D)}break}}break;case"primative":{if(N.type!=="primative")continue;let E={type:"primative",typeof:Array.from(new Set([...N.typeof,...k.typeof])),optional:k.optional||N.optional};JSON.stringify(E)!==JSON.stringify(k)&&o.set(T,E)}break}}}for(let[T,k]of a)o.set(T,Object.assign(Object.assign({},k),{optional:!0}));for(let[T,k]of d)o.set(T,Object.assign(Object.assign({},k),{optional:!0}));let _=e.filter(([T])=>!o.has(T));return{resolved_key_info:[...new Map([..._,...o]).entries()],changed_keys:[...o.entries()]}}static createRuntimeClass(e,i){var o,n;u(this,ce,"m",ww).call(this,e,i);let r=(o=s(class extends l{static set key_info(a){I(this,o,new Map(a),"f",n)}static get key_info(){return[...u(this,o,"f",n).entries()]}constructor(a){super();let{key_info:d,unimplemented_dependencies:f}=Fe.introspect(a),{resolved_key_info:h,changed_keys:_}=Fe.mergeKeyInfo(r.key_info,d);_.length>0&&(r.key_info=h,u(Fe,ce,"m",Tw).call(Fe,e,r.key_info,_));for(let[y,T]of f)Fe.generateRuntimeClass(y,T);for(let[y,T]of d){let k=u(Fe,ce,"m",fs).call(Fe,y);T.type==="misc"&&T.misc_type==="NavigationEndpoint"&&(k="endpoint"),Reflect.set(this,k,Fe.parse(y,T,a))}}},"_b"),o.type=e,n={value:new Map},o);return r.key_info=i,Object.defineProperty(r,"name",{value:e,writable:!1}),r}static introspect(e){let i=u(this,ce,"m",Iw).call(this,e),o=new Map;for(let[,r]of i)if(r.type==="renderer"||r.type==="renderer_list")for(let a of r.renderers){let d=u(this,ce,"f",Zm)[a];d&&o.set(a,d)}let n=Array.from(o).filter(([r])=>!A.hasParser(r));return{key_info:i,unimplemented_dependencies:n}}static generateRuntimeClass(e,i){let{key_info:o,unimplemented_dependencies:n}=this.introspect(i),r=this.createRuntimeClass(e,o);A.addRuntimeParser(e,r);for(let[a,d]of n)this.generateRuntimeClass(a,d);return r}static generateTypescriptClass(e,i){let o=[],n=["super();"];for(let[r,a]of i){let d=u(this,ce,"m",fs).call(this,r);a.type==="misc"&&a.misc_type==="NavigationEndpoint"&&(d="endpoint"),o.push(`${d}${a.optional?"?":""}: ${this.toTypeDeclaration(a)};`),n.push(`this.${d} = ${this.toParser(r,a)};`)}return`class ${e} extends YTNode {
  static type = '${e}';

  ${o.join(`
  `)}

  constructor(data: RawNode) {
    ${n.join(`
    `)}
  }
}
`}static toTypeDeclaration(e,i=0){switch(e.type){case"renderer":return`${e.renderers.map(o=>`YTNodes.${o}`).join(" | ")} | null`;case"renderer_list":return`ObservedArray<${e.renderers.map(o=>`YTNodes.${o}`).join(" | ")}> | null`;case"object":return`{
${e.keys.map(([o,n])=>`${" ".repeat((i+2)*2)}${u(this,ce,"m",fs).call(this,o)}${n.optional?"?":""}: ${this.toTypeDeclaration(n,i+1)}`).join(`,
`)}
${" ".repeat((i+1)*2)}}`;case"misc":switch(e.misc_type){case"Thumbnail":return"Thumbnail[]";default:return e.misc_type}case"primative":return e.typeof.join(" | ");case"unknown":return"/* TODO: determine correct type */ unknown"}}static toParser(e,i,o=["data"],n=1){let r="undefined";switch(i.type){case"renderer":r=`Parser.parseItem(${o.join(".")}.${e}, [ ${i.renderers.map(a=>`YTNodes.${a}`).join(", ")} ])`;break;case"renderer_list":r=`Parser.parse(${o.join(".")}.${e}, true, [ ${i.renderers.map(a=>`YTNodes.${a}`).join(", ")} ])`;break;case"object":{let a=[...o,e];r=`{
${i.keys.map(([d,f])=>`${" ".repeat((n+2)*2)}${u(this,ce,"m",fs).call(this,d)}: ${this.toParser(d,f,a,n+1)}`).join(`,
`)}
${" ".repeat((n+1)*2)}}`}break;case"misc":switch(i.misc_type){case"Thumbnail":r=`Thumbnail.fromResponse(${o.join(".")}.${e})`;break;case"Author":{let a=`new Author(${o.join(".")}.${i.params[0]}, ${i.params[1]?`${o.join(".")}.${i.params[1]}`:"undefined"})`;return i.optional?`Reflect.has(${o.join(".")}, '${i.params[0]}') ? ${a} : undefined`:a}default:r=`new ${i.misc_type}(${o.join(".")}.${e})`;break}if(r==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":case"unknown":r=`${o.join(".")}.${e}`;break}return i.optional?`Reflect.has(${o.join(".")}, '${e}') ? ${r} : undefined`:r}static parse(e,i,o,n=["data"]){let r=!i.optional||u(this,ce,"m",qv).call(this,{data:o},[...n,e]);switch(i.type){case"renderer":return r?A.parseItem(u(this,ce,"m",Ti).call(this,{data:o},[...n,e]),i.renderers.map(a=>A.getParserByName(a))):void 0;case"renderer_list":return r?A.parse(u(this,ce,"m",Ti).call(this,{data:o},[...n,e]),!0,i.renderers.map(a=>A.getParserByName(a))):void 0;case"object":{let a={},d=[...n,e];for(let[f,h]of i.keys)a[f]=r?this.parse(f,h,o,d):void 0;return a}case"misc":switch(i.misc_type){case"NavigationEndpoint":return r?new v(u(this,ce,"m",Ti).call(this,{data:o},[...n,e])):void 0;case"Text":return r?new c(u(this,ce,"m",Ti).call(this,{data:o},[...n,e])):void 0;case"Thumbnail":return r?w.fromResponse(u(this,ce,"m",Ti).call(this,{data:o},[...n,e])):void 0;case"Author":return!i.optional||u(this,ce,"m",qv).call(this,{data:o},[...n,i.params[0]])?new B(u(this,ce,"m",Ti).call(this,{data:o},[...n,i.params[0]]),i.params[1]?u(this,ce,"m",Ti).call(this,{data:o},[...n,i.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":case"unknown":return u(this,ce,"m",Ti).call(this,{data:o},[...n,e])}}static inferType(e,i){let o=!1;if(o=this.isRenderer(i))return u(this,ce,"f",Zm)[o]=i[Reflect.ownKeys(i)[0]],{type:"renderer",renderers:[o],optional:!1};if(o=this.isRendererList(i)){for(let[r,a]of Object.entries(o))u(this,ce,"f",Zm)[r]=a;return{type:"renderer_list",renderers:Object.keys(o),optional:!1}}if(o=this.isMiscType(e,i))return o;let n=typeof i;return n==="object"?{type:"object",keys:Object.entries(i).map(([r,a])=>[r,this.inferType(r,a)]),optional:!1}:{type:"primative",typeof:[n],optional:!1}}static isRendererList(e){return Array.isArray(e)&&e.every(n=>this.isRenderer(n))?Object.fromEntries(e.map(n=>{let r=Reflect.ownKeys(n)[0].toString();return[A.sanitizeClassName(r),n[r]]})):!1}static isMiscType(e,i){if((e.endsWith("Endpoint")||e.endsWith("Command")||e==="endpoint")&&typeof i=="object")return{type:"misc",endpoint:new v(i),optional:!1,misc_type:"NavigationEndpoint"};if(typeof i=="object"&&(Reflect.has(i,"simpleText")||Reflect.has(i,"runs"))){let o=new c(i);return{type:"misc",misc_type:"Text",optional:!1,endpoint:o.endpoint,text:o.toString()}}return typeof i=="object"&&Reflect.has(i,"thumbnails")&&Array.isArray(i.thumbnails)?{type:"misc",misc_type:"Thumbnail",optional:!1}:!1}static isRenderer(e){if(!(typeof e=="object"))return!1;let o=Reflect.ownKeys(e);return o.length===1&&o[0].toString().includes("Renderer")?A.sanitizeClassName(o[0].toString()):!1}};s(Fe,"YTNodeGenerator");ce=Fe,fs=s(function(e){return e.replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`)},"_YTNodeGenerator_camelToSnake"),ww=s(function(e,i){console.warn(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${O.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${O.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${this.generateTypescriptClass(e,i)}`)},"_YTNodeGenerator_logNewClass"),Tw=s(function(e,i,o){console.warn(`${e} changed!
The following keys where altered: ${o.map(([n])=>u(this,ce,"m",fs).call(this,n)).join(", ")}
The class has changed to:
${this.generateTypescriptClass(e,i)}`)},"_YTNodeGenerator_logChangedKeys"),Ti=s(function(e,i){let o=e;for(let n of i)o=o[n];return o},"_YTNodeGenerator_accessDataFromKeyPath"),qv=s(function(e,i){let o=e;for(let n of i)if(Reflect.has(o,n))o=o[n];else return!1;return!0},"_YTNodeGenerator_hasDataFromKeyPath"),yw=s(function(e){return Reflect.ownKeys(e).filter(n=>!this.isIgnoredKey(n)).filter(n=>typeof n=="string").map(n=>{let r=e[n],a=this.inferType(n,r);return[n,a]})},"_YTNodeGenerator_passOne"),xw=s(function(e){var i;let n=e.filter(([,f])=>{var h;return f.type!=="misc"||!(f.misc_type==="NavigationEndpoint"||f.misc_type==="Text")?!1:((h=f.endpoint)===null||h===void 0?void 0:h.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,f],[,h])=>f.type!=="misc"||h.type!=="misc"||f.misc_type!=="Text"||h.misc_type!=="Text"?0:h.text.length-f.text.length),r=new Set,a=n[0],d;if(a){r.add(a[0]);let h=e.map(([k])=>k).filter(k=>k.endsWith("Badges")||k==="badges"),b=(i=h.filter(k=>k.startsWith("owner")||k.startsWith("author"))[0])!==null&&i!==void 0?i:h[0],y=e.find(([k])=>k===b),T=y?y[1].type==="renderer_list"&&Reflect.has(y[1].renderers,"MetadataBadge"):!1;T&&b&&r.add(b),d={type:"misc",misc_type:"Author",optional:!1,params:[a[0],T?b:void 0]}}return d&&e.push(["author",d]),e.filter(([f])=>!r.has(f))},"_YTNodeGenerator_passTwo"),Iw=s(function(e){let i=u(this,ce,"m",yw).call(this,e);return u(this,ce,"m",xw).call(this,i)},"_YTNodeGenerator_introspect");bw={value:new Set(["trackingParams","accessibility","accessibilityData"])};Zm={value:{}};var W,Qv,Gi,bt,wt,kw,Tt,Sw,e_,Zv,A=class{static setParserErrorHandler(e){I(this,W,e,"f",Qv)}static parseResponse(e){var i,o;let n={};u(this,W,"m",wt).call(this);let r=this.parse(e.contents),a=u(this,W,"m",Tt).call(this);r&&(n.contents=r,n.contents_memo=a),u(this,W,"m",bt).call(this),u(this,W,"m",wt).call(this);let d=e.onResponseReceivedActions?this.parseRR(e.onResponseReceivedActions):null,f=u(this,W,"m",Tt).call(this);d&&(n.on_response_received_actions=d,n.on_response_received_actions_memo=f),u(this,W,"m",bt).call(this),u(this,W,"m",wt).call(this);let h=e.onResponseReceivedEndpoints?this.parseRR(e.onResponseReceivedEndpoints):null,_=u(this,W,"m",Tt).call(this);h&&(n.on_response_received_endpoints=h,n.on_response_received_endpoints_memo=_),u(this,W,"m",bt).call(this),u(this,W,"m",wt).call(this);let b=e.onResponseReceivedCommands?this.parseRR(e.onResponseReceivedCommands):null,y=u(this,W,"m",Tt).call(this);b&&(n.on_response_received_commands=b,n.on_response_received_commands_memo=y),u(this,W,"m",bt).call(this),u(this,W,"m",wt).call(this);let T=e.continuationContents?this.parseLC(e.continuationContents):null,k=u(this,W,"m",Tt).call(this);T&&(n.continuation_contents=T,n.continuation_contents_memo=k),u(this,W,"m",bt).call(this),u(this,W,"m",wt).call(this);let N=e.actions?this.parseActions(e.actions):null,E=u(this,W,"m",Tt).call(this);N&&(n.actions=N,n.actions_memo=E),u(this,W,"m",bt).call(this),u(this,W,"m",wt).call(this);let R=e.liveChatItemContextMenuSupportedRenderers?this.parseItem(e.liveChatItemContextMenuSupportedRenderers):null,D=u(this,W,"m",Tt).call(this);R&&(n.live_chat_item_context_menu_supported_renderers=R,n.live_chat_item_context_menu_supported_renderers_memo=D),u(this,W,"m",bt).call(this),u(this,W,"m",wt).call(this);let j=e.header?this.parse(e.header):null,ae=u(this,W,"m",Tt).call(this);j&&(n.header=j,n.header_memo=ae),u(this,W,"m",bt).call(this),u(this,W,"m",wt).call(this);let ge=e.sidebar?this.parseItem(e.sidebar):null,Ve=u(this,W,"m",Tt).call(this);ge&&(n.sidebar=ge,n.sidebar_memo=Ve),u(this,W,"m",bt).call(this),this.applyMutations(a,(o=(i=e.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations);let Se=e.continuation?this.parseC(e.continuation):null;Se&&(n.continuation=Se);let De=this.parse(e.metadata);De&&(n.metadata=De);let $=this.parseItem(e.microformat);$&&(n.microformat=$);let z=this.parseItem(e.overlay);z&&(n.overlay=z);let ee=this.parseArray(e.alerts,Rf);ee.length&&(n.alerts=ee);let Q=e.refinements;Q&&(n.refinements=Q);let Ue=e.estimatedResults?parseInt(e.estimatedResults):null;Ue&&(n.estimated_results=Ue);let Pt=this.parse(e.playerOverlays);Pt&&(n.player_overlays=Pt);let Mt=e.playbackTracking?{videostats_watchtime_url:e.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:e.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;Mt&&(n.playback_tracking=Mt);let At=e.playabilityStatus?{status:e.playabilityStatus.status,reason:e.playabilityStatus.reason||"",embeddable:!!e.playabilityStatus.playableInEmbed||!1,audio_only_playablility:this.parseItem(e.playabilityStatus.audioOnlyPlayability,_f),error_screen:this.parseItem(e.playabilityStatus.errorScreen)}:null;At&&(n.playability_status=At);let Vt=e.streamingData?{expires:new Date(Date.now()+parseInt(e.streamingData.expiresInSeconds)*1e3),formats:A.parseFormats(e.streamingData.formats),adaptive_formats:A.parseFormats(e.streamingData.adaptiveFormats),dash_manifest_url:e.streamingData.dashManifestUrl||null,hls_manifest_url:e.streamingData.hlsManifestUrl||null}:void 0;Vt&&(n.streaming_data=Vt);let Rt=e.currentVideoEndpoint?new v(e.currentVideoEndpoint):null;Rt&&(n.current_video_endpoint=Rt);let Ot=e.endpoint?new v(e.endpoint):null;Ot&&(n.endpoint=Ot);let Bt=this.parseItem(e.captions,Cf);Bt&&(n.captions=Bt);let Ft=e.videoDetails?new Df(e.videoDetails):null;Ft&&(n.video_details=Ft);let Dt=this.parseArray(e.annotations,Sf);Dt.length&&(n.annotations=Dt);let Lt=this.parseItem(e.storyboards,[Ef,Nf]);Lt&&(n.storyboards=Lt);let Yt=this.parseItem(e.endscreen,kf);Yt&&(n.endscreen=Yt);let se=this.parseItem(e.cards,If);se&&(n.cards=se),u(this,W,"m",wt).call(this);let Ce=this.parse(e.items);return Ce&&(n.items=Ce,n.items_memo=u(this,W,"m",Tt).call(this)),u(this,W,"m",bt).call(this),n}static parseItem(e,i){if(!e)return null;let o=Object.keys(e);if(!o.length)return null;let n=this.sanitizeClassName(o[0]);if(!this.shouldIgnore(n))try{let a=this.hasParser(n)?this.getParserByName(n):Fe.generateRuntimeClass(n,e[o[0]]);if(i){if(Array.isArray(i)){if(!i.some(f=>f.type===a.type))throw new Ze(`Type mismatch, got ${n} but expected one of ${i.map(f=>f.type).join(", ")}`)}else if(a.type!==i.type)throw new Ze(`Type mismatch, got ${n} but expected ${i.type}`)}let d=new a(e[o[0]]);return u(this,W,"m",kw).call(this,n,d),d}catch(r){return u(this,W,"f",Qv).call(this,{classname:n,classdata:e[o[0]],err:r}),null}return null}extra(){A.parseItem({},[tt,tt])}static parseArray(e,i){if(Array.isArray(e)){let o=[];for(let n of e){let r=this.parseItem(n,i);r&&o.push(r)}return ve(o)}else if(!e)return ve([]);throw new Ze("Expected array but got a single item")}static parse(e,i,o){if(!e)return null;if(Array.isArray(e)){let n=[];for(let a of e){let d=this.parseItem(a,o);d&&n.push(d)}let r=ve(n);return i?r:new Ut(ve(n))}else if(i)throw new Ze("Expected array but got a single item");return new Ut(this.parseItem(e,o))}static parseC(e){return e.timedContinuationData?new hs({continuation:e.timedContinuationData,type:"timed"}):null}static parseLC(e){return e.itemSectionContinuation?new No(e.itemSectionContinuation):e.sectionListContinuation?new nt(e.sectionListContinuation):e.liveChatContinuation?new Vo(e.liveChatContinuation):e.musicPlaylistShelfContinuation?new Mo(e.musicPlaylistShelfContinuation):e.musicShelfContinuation?new Ii(e.musicShelfContinuation):e.gridContinuation?new Ao(e.gridContinuation):e.playlistPanelContinuation?new yp(e.playlistPanelContinuation):null}static parseRR(e){return ve(e.map(i=>{if(i.navigateAction)return new Eo(i.navigateAction);if(i.reloadContinuationItemsCommand)return new Po(i.reloadContinuationItemsCommand);if(i.appendContinuationItemsAction)return new gp(i.appendContinuationItemsAction)}).filter(i=>i))}static parseActions(e){return Array.isArray(e)?A.parse(e.map(i=>(delete i.clickTrackingParams,i))):new Ut(this.parseItem(e))}static parseFormats(e){return(e==null?void 0:e.map(i=>new Bf(i)))||[]}static applyMutations(e,i){let o=e.getType(tt);if(o.length>0&&!i)console.warn(new g(`Mutation data required for processing MusicMultiSelectMenuItems, but none found.
This is a bug, please report it at ${O.shim.info.bugs_url}`));else{let n=[];for(let r of o){let a=i.find(f=>{var h,_;return((_=(h=f.payload)===null||h===void 0?void 0:h.musicFormBooleanChoice)===null||_===void 0?void 0:_.id)===r.form_item_entity_key}),d=a==null?void 0:a.payload.musicFormBooleanChoice;(d==null?void 0:d.selected)!==void 0&&(d==null?void 0:d.opaqueToken)?r.selected=d.selected:n.push(`'${r.title}'`)}n.length>0&&console.warn(new g(`Mutation data missing or invalid for ${n.length} out of ${o.length} MusicMultiSelectMenuItems. The titles of the failed items are: ${n.join(", ")}.
This is a bug, please report it at ${O.shim.info.bugs_url}`))}}static sanitizeClassName(e){return(e.charAt(0).toUpperCase()+e.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}static shouldIgnore(e){return this.ignore_list.has(e)}static getParserByName(e){let i=u(this,W,"f",e_).get(e);if(!i){let o=new Error(`Module not found: ${e}`);throw o.code="MODULE_NOT_FOUND",o}return i}static hasParser(e){return u(this,W,"f",e_).has(e)}static addRuntimeParser(e,i){u(this,W,"f",e_).set(e,i),u(this,W,"f",Zv).set(e,i)}static getDynamicParsers(){return Object.fromEntries(u(this,W,"f",Zv))}};s(A,"Parser");W=A,bt=s(function(){I(A,W,null,"f",Gi)},"_Parser_clearMemo"),wt=s(function(){I(A,W,new Oi,"f",Gi)},"_Parser_createMemo"),kw=s(function(e,i){if(!u(A,W,"f",Gi))return;let o=u(A,W,"f",Gi).get(e);if(!o)return u(A,W,"f",Gi).set(e,[i]);o.push(i)},"_Parser_addToMemo"),Tt=s(function(){if(!u(A,W,"f",Gi))throw new Error("Parser#getMemo() called before Parser#createMemo()");return u(A,W,"f",Gi)},"_Parser_getMemo"),Sw=s(function({classname:e,classdata:i,err:o}){if(o.code=="MODULE_NOT_FOUND")return console.warn(new g(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${O.shim.info.repo_url.split("#")[0]}/blob/main/docs/updating-the-parser.md or report it at ${O.shim.info.bugs_url}!`,i));console.warn(new g(`Something went wrong at ${e}!
This is a bug, please report it at ${O.shim.info.bugs_url}`,{stack:o.stack}))},"_Parser_printError");Qv={value:u(A,W,"m",Sw)};Gi={value:null};A.ignore_list=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","StatementBanner","GuideSigninPromo"]);e_={value:new Map(Array.from(Object.entries(vp)))};Zv={value:new Map};var No=class extends l{constructor(e){var i,o,n;super(),this.contents=A.parseArray(e.contents),Array.isArray(e.continuations)&&(this.continuation=(n=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||n===void 0?void 0:n.continuation)}};s(No,"ItemSectionContinuation");No.type="itemSectionContinuation";var Eo=class extends l{constructor(e){super(),this.endpoint=new v(e.endpoint)}};s(Eo,"NavigateAction");Eo.type="navigateAction";var gp=class extends l{constructor(e){super(),this.contents=A.parse(e.continuationItems,!0)}};s(gp,"AppendContinuationItemsAction");gp.type="appendContinuationItemsAction";var Po=class extends l{constructor(e){super(),this.target_id=e.targetId,this.contents=A.parse(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};s(Po,"ReloadContinuationItemsCommand");Po.type="reloadContinuationItemsCommand";var nt=class extends l{constructor(e){var i,o,n,r,a,d;super(),this.contents=A.parse(e.contents,!0),this.continuation=((n=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||n===void 0?void 0:n.continuation)||((d=(a=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.reloadContinuationData)===null||d===void 0?void 0:d.continuation)||null}};s(nt,"SectionListContinuation");nt.type="sectionListContinuation";var Mo=class extends l{constructor(e){var i;super(),this.contents=A.parse(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};s(Mo,"MusicPlaylistShelfContinuation");Mo.type="musicPlaylistShelfContinuation";var Ii=class extends l{constructor(e){var i,o,n,r;super(),this.contents=A.parseArray(e.contents),this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((r=(n=e.continuations)===null||n===void 0?void 0:n[0].reloadContinuationData)===null||r===void 0?void 0:r.continuation)||null}};s(Ii,"MusicShelfContinuation");Ii.type="musicShelfContinuation";var Ao=class extends l{constructor(e){var i;super(),this.items=A.parse(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};s(Ao,"GridContinuation");Ao.type="gridContinuation";var yp=class extends l{constructor(e){var i,o,n,r,a,d;super(),this.contents=A.parseArray(e.contents),this.continuation=((n=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||n===void 0?void 0:n.continuation)||((d=(a=(r=e.continuations)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.nextRadioContinuationData)===null||d===void 0?void 0:d.continuation)||null}};s(yp,"PlaylistPanelContinuation");yp.type="playlistPanelContinuation";var hs=class extends l{constructor(e){var i,o,n;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(o=e.continuation)===null||o===void 0?void 0:o.timeUntilLastMessageMsec,this.token=(n=e.continuation)===null||n===void 0?void 0:n.continuation}};s(hs,"Continuation");hs.type="continuation";var Vo=class extends l{constructor(e){var i,o,n,r,a,d,f,h;super(),this.actions=A.parse((i=e.actions)===null||i===void 0?void 0:i.map(y=>(delete y.clickTrackingParams,y)),!0)||ve([]),this.action_panel=A.parseItem(e.actionPanel),this.item_list=A.parseItem(e.itemList,Vf),this.header=A.parseItem(e.header,Af),this.participants_list=A.parseItem(e.participantsList,Mf),this.popout_message=A.parseItem(e.popoutMessage,Oe),this.emojis=((o=e.emojis)===null||o===void 0?void 0:o.map(y=>({emoji_id:y.emojiId,shortcuts:y.shortcuts,search_terms:y.searchTerms,image:w.fromResponse(y.image),is_custom_emoji:y.isCustomEmoji})))||[];let _,b;!((n=e.continuations)===null||n===void 0)&&n[0].timedContinuationData?(b="timed",_=(r=e.continuations)===null||r===void 0?void 0:r[0].timedContinuationData):!((a=e.continuations)===null||a===void 0)&&a[0].invalidationContinuationData?(b="invalidation",_=(d=e.continuations)===null||d===void 0?void 0:d[0].invalidationContinuationData):!((f=e.continuations)===null||f===void 0)&&f[0].liveChatReplayContinuationData&&(b="replay",_=(h=e.continuations)===null||h===void 0?void 0:h[0].liveChatReplayContinuationData),this.continuation=new hs({continuation:_,type:b}),this.viewer_name=e.viewerName}};s(Vo,"LiveChatContinuation");Vo.type="liveChatContinuation";var r0={};mt(r0,{AccountInfo:()=>i_,Analytics:()=>n_,Channel:()=>ke,ChannelListContinuation:()=>Do,Comments:()=>r_,FilteredChannelList:()=>$i,History:()=>xs,HomeFeed:()=>It,ItemMenu:()=>c_,Library:()=>f_,LiveChat:()=>x_,NotificationsMenu:()=>b_,Playlist:()=>ki,Search:()=>w_,Settings:()=>T_,SmoothedQueue:()=>__,TimeWatched:()=>k_,VideoInfo:()=>Op});var ms,t_=class{constructor(e){if(ms.set(this,void 0),I(this,ms,p.parseResponse(e.data),"f"),!u(this,ms,"f").contents)throw new g("Page contents not found");let i=u(this,ms,"f").contents.array().as(Uf).first();if(!i)throw new g("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return u(this,ms,"f")}};s(t_,"AccountInfo");ms=new WeakMap;var i_=t_;var xp,o_=class{constructor(e){var i;xp.set(this,void 0),I(this,xp,p.parseResponse(e.data),"f"),this.sections=(i=u(this,xp,"f").contents_memo)===null||i===void 0?void 0:i.getType(Zn).map(o=>o.model).flatMap(o=>o||[])}get page(){return u(this,xp,"f")}};s(o_,"Analytics");xp=new WeakMap;var n_=o_;var e0,ze,zi,bp,Ke,Cw,Ki=class{constructor(e,i,o=!1){e0.add(this),ze.set(this,void 0),zi.set(this,void 0),bp.set(this,void 0),Ke.set(this,void 0),u(this,e0,"m",Cw).call(this,i)||o?I(this,ze,i,"f"):I(this,ze,p.parseResponse(i.data),"f");let n=_v(u(this,ze,"f").contents_memo,u(this,ze,"f").continuation_contents_memo,u(this,ze,"f").on_response_received_commands_memo,u(this,ze,"f").on_response_received_endpoints_memo,u(this,ze,"f").on_response_received_actions_memo,u(this,ze,"f").sidebar_memo,u(this,ze,"f").header_memo);if(!n)throw new g("No memo found in feed");I(this,Ke,n,"f"),I(this,bp,e,"f")}static getVideosFromMemo(e){return e.getType(es,hi,Mm,gh,Sm,yi,Km)}static getPlaylistsFromMemo(e){return e.getType(Ht,Rh)}get videos(){return Ki.getVideosFromMemo(u(this,Ke,"f"))}get posts(){return u(this,Ke,"f").getType(Yi,Nm,jm)}get channels(){return u(this,Ke,"f").getType(Zf,Vh)}get playlists(){return Ki.getPlaylistsFromMemo(u(this,Ke,"f"))}get memo(){return u(this,Ke,"f")}get page_contents(){var e;let i=(e=u(this,Ke,"f").getType(le))===null||e===void 0?void 0:e.first().content,o=u(this,Ke,"f").getType(Po).first(),n=u(this,Ke,"f").getType(Wf).first();return i||o||n}get shelves(){return u(this,Ke,"f").getType(ls,Rm,Am)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=u(this,ze,"f").contents)===null||e===void 0)&&e.is_node))return;let o=(i=u(this,ze,"f").contents)===null||i===void 0?void 0:i.item();if(!!o.is(Hi,Jm))return o.secondary_contents}get actions(){return u(this,bp,"f")}get page(){return u(this,ze,"f")}get has_continuation(){return(u(this,Ke,"f").get("ContinuationItem")||[]).length>0}getContinuationData(){return x(this,void 0,void 0,function*(){if(u(this,zi,"f")){if(u(this,zi,"f").length>1)throw new g("There are too many continuations, you'll need to find the correct one yourself in this.page");if(u(this,zi,"f").length===0)throw new g("There are no continuations");return yield u(this,zi,"f")[0].endpoint.call(u(this,bp,"f"),{parse:!0})}if(I(this,zi,u(this,Ke,"f").getType(Me),"f"),u(this,zi,"f"))return this.getContinuationData()})}getContinuation(){return x(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Ki(this.actions,e,!0)})}};s(Ki,"Feed");ze=new WeakMap,zi=new WeakMap,bp=new WeakMap,Ke=new WeakMap,e0=new WeakSet,Cw=s(function(e){return!("data"in e)},"_Feed_isParsed");var de=Ki;var Ro,Oo,Bo=class extends de{constructor(e,i,o=!1){var n;super(e,i,o),Ro.set(this,void 0),Oo.set(this,void 0),I(this,Oo,e,"f"),I(this,Ro,(n=this.page.contents_memo)===null||n===void 0?void 0:n.getType(le),"f")}get tabs(){var e,i;return(i=(e=u(this,Ro,"f"))===null||e===void 0?void 0:e.map(o=>o.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){var i;return x(this,void 0,void 0,function*(){let o=(i=u(this,Ro,"f"))===null||i===void 0?void 0:i.find(r=>r.title.toLowerCase()===e.toLowerCase());if(!o)throw new g(`Tab "${e}" not found`);if(o.selected)return this;let n=yield o.endpoint.call(u(this,Oo,"f"));return new Bo(u(this,Oo,"f"),n,!1)})}getTabByURL(e){var i;return x(this,void 0,void 0,function*(){let o=(i=u(this,Ro,"f"))===null||i===void 0?void 0:i.find(r=>{var a;return((a=r.endpoint.metadata.url)===null||a===void 0?void 0:a.split("/").pop())===e});if(!o)throw new g(`Tab "${e}" not found`);if(o.selected)return this;let n=yield o.endpoint.call(u(this,Oo,"f"));return new Bo(u(this,Oo,"f"),n,!1)})}hasTabWithURL(e){var i,o;return(o=(i=u(this,Ro,"f"))===null||i===void 0?void 0:i.some(n=>{var r;return((r=n.endpoint.metadata.url)===null||r===void 0?void 0:r.split("/").pop())===e}))!==null&&o!==void 0?o:!1}get title(){var e,i,o;return(o=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(le))===null||i===void 0?void 0:i.find(n=>n.selected))===null||o===void 0?void 0:o.title.toString()}};s(Bo,"TabbedFeed");Ro=new WeakMap,Oo=new WeakMap;var wp=Bo;var _s,s_=class extends de{constructor(e,i,o=!1){super(e,i,o),_s.set(this,void 0)}get filter_chips(){var e,i;if(u(this,_s,"f"))return u(this,_s,"f")||[];if(((e=this.memo.getType(pi))===null||e===void 0?void 0:e.length)>1)throw new g("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(pi))===null||i===void 0?void 0:i.length)===0)throw new g("There are no feed filter chipbars");return I(this,_s,this.memo.getType(ye),"f"),u(this,_s,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){var i;return x(this,void 0,void 0,function*(){let o;if(typeof e=="string"){if(!this.filters.includes(e))throw new g("Filter not found",{available_filters:this.filters});o=this.filter_chips.find(r=>r.text.toString()===e)}else if(e.type==="ChipCloudChip")o=e;else throw new g("Invalid filter");if(!o)throw new g("Filter not found");if(o.is_selected)return this;let n=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!n)throw new g("Failed to get filtered feed");return new de(this.actions,n,!0)})}};s(s_,"FilterableFeed");_s=new WeakMap;var Fo=s_;var ke=class extends wp{constructor(e,i,o=!1){var n,r,a,d,f,h;super(e,i,o),this.header=(r=(n=this.page.header)===null||n===void 0?void 0:n.item())===null||r===void 0?void 0:r.as(Gn,Qf,Lh);let _=(a=this.page.metadata)===null||a===void 0?void 0:a.item().as(th),b=(d=this.page.microformat)===null||d===void 0?void 0:d.as(Gt);if(this.page.alerts){let y=this.page.alerts.first();if((y==null?void 0:y.alert_type)==="ERROR")throw new nn(y.text.toString())}if(!_&&!this.page.contents)throw new g("Invalid channel",this);this.metadata=Object.assign(Object.assign({},_),b||{}),this.subscribe_button=(f=this.page.header_memo)===null||f===void 0?void 0:f.getType(Be).first(),this.current_tab=(h=this.page.contents)===null||h===void 0?void 0:h.item().key("tabs").parsed().array().filterType(le,is).get({selected:!0})}applyFilter(e){var i;return x(this,void 0,void 0,function*(){let o,n=this.memo.getType(pi).first();if(typeof e=="string"){if(o=n==null?void 0:n.contents.get({text:e}),!o)throw new g(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof ye&&(o=e);if(!o)throw new g("Invalid filter",e);let r=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!r)throw new g("No page returned",{filter:o});return new $i(this.actions,r,!0)})}applySort(e){var i,o;return x(this,void 0,void 0,function*(){let n=this.memo.getType(li).first();if(!n)throw new g("No sort filter sub menu found");let r=(i=n==null?void 0:n.sub_menu_items)===null||i===void 0?void 0:i.find(d=>d.title===e);if(!r)throw new g(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(r.selected)return this;let a=yield(o=r.endpoint)===null||o===void 0?void 0:o.call(this.actions,{parse:!0});return new ke(this.actions,a,!0)})}applyContentTypeFilter(e){var i,o,n,r;return x(this,void 0,void 0,function*(){let a=(n=(o=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.as(Z).sub_menu)===null||n===void 0?void 0:n.as(ra);if(!a)throw new g("Sub menu not found");let d=a.content_type_sub_menu_items.find(h=>h.title===e);if(!d)throw new g(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(d.selected)return this;let f=yield(r=d.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0});return new ke(this.actions,f,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(pi))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(ye).map(o=>o.text))||[]}get sort_filters(){var e;let i=this.memo.getType(li).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(o=>o.title))||[]}get content_type_filters(){var e,i,o;let n=(o=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(Z).sub_menu)===null||o===void 0?void 0:o.as(ra);return(n==null?void 0:n.content_type_sub_menu_items.map(r=>r.title))||[]}getHome(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new ke(this.actions,e.page,!0)})}getVideos(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new ke(this.actions,e.page,!0)})}getShorts(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new ke(this.actions,e.page,!0)})}getLiveStreams(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new ke(this.actions,e.page,!0)})}getPlaylists(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new ke(this.actions,e.page,!0)})}getCommunity(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new ke(this.actions,e.page,!0)})}getChannels(){return x(this,void 0,void 0,function*(){let e=yield this.getTabByURL("channels");return new ke(this.actions,e.page,!0)})}getAbout(){var e;return x(this,void 0,void 0,function*(){return(e=(yield this.getTabByURL("about")).memo.getType(eh))===null||e===void 0?void 0:e[0]})}search(e){var i,o;return x(this,void 0,void 0,function*(){let n=(i=this.memo.getType(is))===null||i===void 0?void 0:i[0];if(!n)throw new g("Search tab not found",this);let r=yield(o=n.endpoint)===null||o===void 0?void 0:o.call(this.actions,{query:e,parse:!0});return new ke(this.actions,r,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_channels(){return this.hasTabWithURL("channels")}get has_about(){return this.hasTabWithURL("about")}get has_search(){var e;return((e=this.memo.getType(is))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return x(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new g("Could not get continuation data");return new Do(this.actions,i,!0)})}};s(ke,"Channel");var Do=class extends de{constructor(e,i,o=!1){var n,r;super(e,i,o),this.contents=((n=this.page.on_response_received_actions)===null||n===void 0?void 0:n.first())||((r=this.page.on_response_received_endpoints)===null||r===void 0?void 0:r.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return x(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new g("Could not get continuation data");return new Do(this.actions,i,!0)})}};s(Do,"ChannelListContinuation");var $i=class extends Fo{constructor(e,i,o=!1){super(e,i,o),this.applied_filter=this.memo.getType(ye).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return x(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new $i(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return x(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new g("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(pi)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(ye)),new $i(this.actions,i,!0)})}};s($i,"FilteredChannelList");var vs,Qt,gs,Lo=class{constructor(e,i,o=!1){var n,r,a;vs.set(this,void 0),Qt.set(this,void 0),gs.set(this,void 0),I(this,vs,o?i:p.parseResponse(i),"f"),I(this,Qt,e,"f");let d=u(this,vs,"f").on_response_received_endpoints;if(!d)throw new g("Comments page did not have any content.");let f=d.at(0),h=d.at(1);this.header=(n=f==null?void 0:f.contents)===null||n===void 0?void 0:n.firstOfType(Xn);let _=((r=h==null?void 0:h.contents)===null||r===void 0?void 0:r.filterType(vh))||[];this.contents=ve(_.map(b=>{var y;return(y=b.comment)===null||y===void 0||y.setActions(u(this,Qt,"f")),b.setActions(u(this,Qt,"f")),b})),I(this,gs,(a=h==null?void 0:h.contents)===null||a===void 0?void 0:a.firstOfType(Me),"f")}applySort(e){var i,o,n,r;return x(this,void 0,void 0,function*(){if(!this.header)throw new g("Page header is missing. Cannot apply sort option.");let a;if(e==="TOP_COMMENTS"?a=(o=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||o===void 0?void 0:o.at(0):e==="NEWEST_FIRST"&&(a=(r=(n=this.header.sort_menu)===null||n===void 0?void 0:n.sub_menu_items)===null||r===void 0?void 0:r.at(1)),!a)throw new g("Could not find target button.");if(a.selected)return this;let d=yield a.endpoint.call(u(this,Qt,"f"),{parse:!0});return new Lo(u(this,Qt,"f"),d,!0)})}createComment(e){var i;return x(this,void 0,void 0,function*(){if(!this.header)throw new g("Page header is missing. Cannot create comment.");let o=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(_h).submit_button;if(!o)throw new g("Could not find target button. You are probably not logged in.");if(!o.endpoint)throw new g("Button does not have an endpoint.");return yield o.endpoint.call(u(this,Qt,"f"),{commentText:e})})}getContinuation(){return x(this,void 0,void 0,function*(){if(!u(this,gs,"f"))throw new g("Continuation not found");let e=yield u(this,gs,"f").endpoint.call(u(this,Qt,"f"),{parse:!0}),i=Object.assign({},u(this,vs,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new g("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new Lo(u(this,Qt,"f"),i,!0)})}get has_continuation(){return!!u(this,gs,"f")}get page(){return u(this,vs,"f")}};s(Lo,"Comments");vs=new WeakMap,Qt=new WeakMap,gs=new WeakMap;var r_=Lo;var ys=class extends de{constructor(e,i,o=!1){super(e,i,o),this.sections=this.memo.getType(he),this.feed_actions=this.memo.getType($f).first()}getContinuation(){return x(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new ys(this.actions,e,!0)})}};s(ys,"History");var xs=ys;var It=class extends Fo{constructor(e,i,o=!1){super(e,i,o),this.header=this.memo.getType(Ah).first(),this.contents=this.memo.getType(Ji).first()||this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return x(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new It(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});var i;return x(this,void 0,void 0,function*(){let o=yield e.getContinuation.call(this);return o.page.header=this.page.header,(i=o.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header]),new It(this.actions,o.page,!0)})}};s(It,"HomeFeed");var a_,u_,Tp,l_=class{constructor(e,i){a_.set(this,void 0),u_.set(this,void 0),Tp.set(this,void 0),I(this,a_,e,"f"),I(this,u_,i,"f");let o=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!o||!o.is(J))throw new g('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');I(this,Tp,o.as(J).items,"f")}selectItem(e){return x(this,void 0,void 0,function*(){let i;if(e instanceof S){if(!e.endpoint)throw new g("Item does not have an endpoint.");i=e.endpoint}else{let n=u(this,Tp,"f").find(r=>r.is(os)?r.as(os).icon_type===e:!1);if(!n||!n.is(os))throw new g(`Button "${e}" not found.`);i=n.endpoint}if(!i)throw new g("Target button does not have an endpoint.");return yield i.call(u(this,u_,"f"),{parse:!0})})}items(){return u(this,Tp,"f")}page(){return u(this,a_,"f")}};s(l_,"ItemMenu");a_=new WeakMap,u_=new WeakMap,Tp=new WeakMap;var c_=l_;var Ip,d_,bs=class extends de{constructor(e,i,o=!1){var n,r,a,d;super(e,i,o),Ip.add(this);let f=this.memo.getType(wm).first(),h=this.memo.getType(Im).first(),_=this.memo.getType(km).first();if(!h&&!_)throw new g("This playlist does not exist");this.info=Object.assign(Object.assign({},(n=this.page.metadata)===null||n===void 0?void 0:n.item().as(Tm)),{author:(a=(r=_==null?void 0:_.owner)===null||r===void 0?void 0:r.as(ds).author)!==null&&a!==void 0?a:f==null?void 0:f.author,thumbnails:(d=h==null?void 0:h.thumbnail_renderer)===null||d===void 0?void 0:d.as(Cm,bm).thumbnail,total_items:u(this,Ip,"m",d_).call(this,0,h),views:u(this,Ip,"m",d_).call(this,1,h),last_updated:u(this,Ip,"m",d_).call(this,2,h),can_share:f==null?void 0:f.can_share,can_delete:f==null?void 0:f.can_delete,is_editable:f==null?void 0:f.is_editable,privacy:f==null?void 0:f.privacy}),this.menu=h==null?void 0:h.menu,this.endpoint=h==null?void 0:h.endpoint,this.messages=this.memo.getType(Oe)}get items(){return this.videos}getContinuation(){return x(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new bs(this.actions,e,!0)})}};s(bs,"Playlist");Ip=new WeakSet,d_=s(function(e,i){var o;return!i||!i.stats?"N/A":((o=i.stats[e])===null||o===void 0?void 0:o.toString())||"N/A"},"_Playlist_getStat");var ki=bs;var t0,Nw,p_=class extends de{constructor(e,i){if(super(e,i),t0.add(this),!this.page.contents_memo)throw new g("Page contents not found");let o=this.page.contents_memo.getType(Em).first(),n=this.page.contents_memo.getType(Pm).first();this.profile={stats:o,user_info:n};let r=this.page.contents_memo.getType(ls);this.sections=r.map(a=>{var d;return{type:a.icon_type,title:a.title,contents:((d=a.content)===null||d===void 0?void 0:d.key("items").array())||[],getAll:()=>u(this,t0,"m",Nw).call(this,a)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};s(p_,"Library");t0=new WeakSet,Nw=s(function(e){var i;return x(this,void 0,void 0,function*(){if(!(!((i=e.menu)===null||i===void 0)&&i.as(J).hasKey("top_level_buttons")))throw new g(`The ${e.title.text} shelf doesn't have more items`);let o=e.menu.as(J).top_level_buttons.firstOfType(S);if(!o)throw new g("Did not find target button.");let n=yield o.as(S).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new ki(this.actions,n,!0);case"WATCH_HISTORY":return new xs(this.actions,n,!0);case"CONTENT_CUT":return new de(this.actions,n,!0);default:throw new g("Target shelf not implemented.")}})},"_Library_getAll");var f_=p_;var Si,qi,Yo,ht,kt,$e;function l1(t){let e=[];for(let i of t)if(Array.isArray(i))for(let o of i)e.push(o);else e.push(i);return e}s(l1,"flattenQueue");var h_=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};s(h_,"DelayQueue");var m_=class{constructor(){Si.set(this,void 0),qi.set(this,void 0),Yo.set(this,void 0),ht.set(this,void 0),kt.set(this,void 0),$e.set(this,void 0),I(this,Si,null,"f"),I(this,qi,null,"f"),I(this,Yo,null,"f"),I(this,ht,[],"f"),I(this,kt,null,"f"),I(this,$e,new h_,"f")}enqueueActionGroup(e){if(u(this,Si,"f")!==null){let i=Date.now()-u(this,Si,"f");u(this,$e,"f").back.push(i),5<u(this,$e,"f").front.length+u(this,$e,"f").back.length&&(u(this,$e,"f").front.length||(u(this,$e,"f").front=u(this,$e,"f").back,u(this,$e,"f").front.reverse(),u(this,$e,"f").back=[]),u(this,$e,"f").front.pop()),I(this,qi,Math.max(...u(this,$e,"f").getValues()),"f")}I(this,Si,Date.now(),"f"),u(this,ht,"f").push(e),u(this,kt,"f")===null&&I(this,kt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(I(this,kt,null,"f"),u(this,ht,"f").length){let e=1e4;u(this,qi,"f")!==null&&u(this,Si,"f")!==null&&(e=u(this,qi,"f")-Date.now()+u(this,Si,"f")),e=u(this,ht,"f").length<e/80?1:Math.ceil(u(this,ht,"f").length/(e/80));let i=l1(u(this,ht,"f").splice(0,e));u(this,Yo,"f")&&u(this,Yo,"f").call(this,i),u(this,ht,"f")!==null&&(e==1?(e=u(this,qi,"f")/u(this,ht,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,I(this,kt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){u(this,kt,"f")!==null&&(clearTimeout(u(this,kt,"f")),I(this,kt,null,"f")),I(this,ht,[],"f")}set callback(e){I(this,Yo,e,"f")}get callback(){return u(this,Yo,"f")}get action_queue(){return u(this,ht,"f")}get estimated_update_interval(){return u(this,qi,"f")}get last_update_time(){return u(this,Si,"f")}get next_update_id(){return u(this,kt,"f")}get poll_response_delay_queue(){return u(this,$e,"f")}};s(m_,"SmoothedQueue");Si=new WeakMap,qi=new WeakMap,Yo=new WeakMap,ht=new WeakMap,kt=new WeakMap,$e=new WeakMap;var __=m_;var Ne,Ci,Cp,v_,Uo,kp,Sp,i0,g_,Ew,jo,y_=class extends ui{constructor(e){var i,o;super(),Ne.add(this),Ci.set(this,void 0),Cp.set(this,void 0),v_.set(this,void 0),Uo.set(this,void 0),kp.set(this,void 0),Sp.set(this,0),this.running=!1,this.is_replay=!1,I(this,Cp,e.basic_info.id,"f"),I(this,v_,e.basic_info.channel_id,"f"),I(this,Ci,e.actions,"f"),I(this,Uo,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((o=e.livechat)===null||o===void 0?void 0:o.is_replay)||!1,this.smoothed_queue=new __,this.smoothed_queue.callback=n=>x(this,void 0,void 0,function*(){n.length?n.length<10?yield u(this,Ne,"m",g_).call(this,n):this.is_replay?(u(this,Ne,"m",g_).call(this,n),yield u(this,Ne,"m",jo).call(this,2e3)):u(this,Ne,"m",g_).call(this,n):yield u(this,Ne,"m",jo).call(this,2e3),this.running&&u(this,Ne,"m",i0).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,u(this,Ne,"m",i0).call(this),u(this,Ne,"m",Ew).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return x(this,void 0,void 0,function*(){let i=yield u(this,Ci,"f").execute("/live_chat/send_message",{params:fe.encodeMessageParams(u(this,v_,"f"),u(this,Cp,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:O.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new g("Unexpected response from send_message",i);return i.actions.array().as(Gh)})}applyFilter(e){var i,o,n,r,a,d,f;if(!this.initial_info)throw new g("Cannot apply filter before initial info is retrieved.");let h=(n=(o=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||o===void 0?void 0:o.view_selector)===null||n===void 0?void 0:n.sub_menu_items;if(e==="TOP_CHAT"){if(!((r=h==null?void 0:h.at(0))===null||r===void 0)&&r.selected)return;I(this,Uo,(a=h==null?void 0:h.at(0))===null||a===void 0?void 0:a.continuation,"f")}else{if(!((d=h==null?void 0:h.at(1))===null||d===void 0)&&d.selected)return;I(this,Uo,(f=h==null?void 0:h.at(1))===null||f===void 0?void 0:f.continuation,"f")}}getItemMenu(e){return x(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(v))throw new g("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(v).call(u(this,Ci,"f"),{parse:!0});if(!i)throw new g("Could not retrieve item menu.",e);return new c_(i,u(this,Ci,"f"))})}selectButton(e){return x(this,void 0,void 0,function*(){return yield e.endpoint.call(u(this,Ci,"f"),{parse:!0})})}};s(y_,"LiveChat");Ci=new WeakMap,Cp=new WeakMap,v_=new WeakMap,Uo=new WeakMap,kp=new WeakMap,Sp=new WeakMap,Ne=new WeakSet,i0=s(function t(){x(this,void 0,void 0,function*(){var e,i;try{let o=yield u(this,Ci,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:u(this,Uo,"f"),parse:!0}),n=o.continuation_contents;if(n||(this.emit("error",new g("Unexpected live chat incremental continuation response",o)),this.emit("end"),this.stop()),!(n instanceof Vo)){this.stop(),this.emit("end");return}I(this,Uo,n.continuation.token,"f"),n.header?(this.initial_info=n,this.emit("start",n),this.running&&u(this,Ne,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(n.actions),I(this,Sp,0,"f")}catch(o){this.emit("error",o),I(this,Sp,(i=u(this,Sp,"f"),e=i++,i),"f"),e<10?(yield u(this,Ne,"m",jo).call(this,2e3),u(this,Ne,"m",t).call(this)):(this.emit("error",new g("Reached retry limit for incremental continuation requests",o)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),g_=s(function(e){return x(this,void 0,void 0,function*(){let o=e.length<125?1:Math.ceil(e.length/125),n=o==1?(o=1e4/e.length,o*=Math.random()+.5,o=Math.min(1e3,o),o=Math.max(80,o)):o=80;for(let r of e)yield u(this,Ne,"m",jo).call(this,n),this.emit("chat-update",r)})},"_LiveChat_emitSmoothedActions"),Ew=s(function t(){x(this,void 0,void 0,function*(){var e,i,o,n,r,a,d,f,h,_,b;try{let y={videoId:u(this,Cp,"f")};u(this,kp,"f")&&(y.continuation=u(this,kp,"f"));let T=yield u(this,Ci,"f").execute("/updated_metadata",y),k=p.parseResponse(T.data);I(this,kp,(e=k.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=k.actions)===null||i===void 0?void 0:i.array().firstOfType(Qh))||((o=this.metadata)===null||o===void 0?void 0:o.title),description:((n=k.actions)===null||n===void 0?void 0:n.array().firstOfType(Xh))||((r=this.metadata)===null||r===void 0?void 0:r.description),views:((a=k.actions)===null||a===void 0?void 0:a.array().firstOfType(em))||((d=this.metadata)===null||d===void 0?void 0:d.views),likes:((f=k.actions)===null||f===void 0?void 0:f.array().firstOfType(Zh))||((h=this.metadata)===null||h===void 0?void 0:h.likes),date:((_=k.actions)===null||_===void 0?void 0:_.array().firstOfType(qh))||((b=this.metadata)===null||b===void 0?void 0:b.date)},this.emit("metadata-update",this.metadata),yield u(this,Ne,"m",jo).call(this,5e3),this.running&&u(this,Ne,"m",t).call(this)}catch(y){yield u(this,Ne,"m",jo).call(this,2e3),this.running&&u(this,Ne,"m",t).call(this)}})},"_LiveChat_pollMetadata"),jo=s(function(e){return x(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var x_=y_;var Wo,Np,ws=class{constructor(e,i){Wo.set(this,void 0),Np.set(this,void 0),I(this,Np,e,"f"),I(this,Wo,p.parseResponse(i.data),"f"),this.header=u(this,Wo,"f").actions_memo.getType(om).first(),this.contents=u(this,Wo,"f").actions_memo.getType(_m)}getContinuation(){return x(this,void 0,void 0,function*(){let e=u(this,Wo,"f").actions_memo.getType(Me).first();if(!e)throw new g("Continuation not found");let i=yield e.endpoint.call(u(this,Np,"f"),{parse:!1});return new ws(u(this,Np,"f"),i)})}get page(){return u(this,Wo,"f")}};s(ws,"NotificationsMenu");Wo=new WeakMap,Np=new WeakMap;var b_=ws;var Jo=class extends de{constructor(e,i,o=!1){var n,r,a,d,f,h;super(e,i,o);let _=((n=this.page.contents_memo)===null||n===void 0?void 0:n.getType(Z).first().contents)||((r=this.page.on_response_received_commands)===null||r===void 0?void 0:r.first().contents);if(!_)throw new g("No contents found in search response");this.results=(a=_.filterType(he).find(b=>b.contents&&b.contents.length>0))===null||a===void 0?void 0:a.contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=(d=this.page.contents_memo)===null||d===void 0?void 0:d.getType(Fm).first(),this.watch_card=(f=this.page.contents_memo)===null||f===void 0?void 0:f.getType(Gm).first(),this.refinement_cards=(h=this.results)===null||h===void 0?void 0:h.firstOfType(ts)}selectRefinementCard(e){var i,o;return x(this,void 0,void 0,function*(){let n;if(typeof e=="string"){if(!this.refinement_cards)throw new g("No refinement cards found.");if(n=(o=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||o===void 0?void 0:o.as(ho),!n)throw new g(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")n=e;else throw new g("Invalid refinement card!");let r=yield n.endpoint.call(this.actions,{parse:!0});return new Jo(this.actions,r,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(ho).map(i=>i.query))||[]}getContinuation(){return x(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Jo(this.actions,e,!0)})}};s(Jo,"Search");var w_=Jo;var Ho,Ep,Ts=class{constructor(e,i){var o,n,r,a;if(Ho.set(this,void 0),Ep.set(this,void 0),I(this,Ep,e,"f"),I(this,Ho,p.parseResponse(i.data),"f"),this.sidebar=(o=u(this,Ho,"f").sidebar)===null||o===void 0?void 0:o.as(Ym),!u(this,Ho,"f").contents)throw new g("Page contents not found");let d=u(this,Ho,"f").contents.item().as(Hi).tabs.array().as(le).get({selected:!0});if(!d)throw new g("Target tab not found");let f=(n=d.content)===null||n===void 0?void 0:n.as(Z).contents.as(he);this.introduction=(a=(r=f==null?void 0:f.shift())===null||r===void 0?void 0:r.contents)===null||a===void 0?void 0:a.firstOfType(vm),this.sections=f==null?void 0:f.map(h=>{var _;return{title:((_=h.header)===null||_===void 0?void 0:_.title.toString())||null,contents:h.contents}})}selectSidebarItem(e){return x(this,void 0,void 0,function*(){if(!this.sidebar)throw new g("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new g(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(Qn))i=e;else throw new g("Invalid item",{target_item:e});let o=yield i.endpoint.call(u(this,Ep,"f"),{parse:!1});return new Ts(u(this,Ep,"f"),o)})}getSettingOption(e){var i;if(!this.sections)throw new g("Sections not available");for(let o of this.sections)if(!!o.contents)for(let n of o.contents){let r=n.as(us).options;if(r){for(let a of r)if(a.is(as)&&((i=a.title)===null||i===void 0?void 0:i.toString())===e)return a}}throw new g(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new g("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let o of i.contents)o.as(us).options&&(e=e.concat(o.as(us).options));return e.map(i=>{var o;return(o=i.title)===null||o===void 0?void 0:o.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new g("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return u(this,Ho,"f")}};s(Ts,"Settings");Ho=new WeakMap,Ep=new WeakMap;var T_=Ts;var Is,I_=class{constructor(e){var i;if(Is.set(this,void 0),I(this,Is,p.parseResponse(e.data),"f"),!u(this,Is,"f").contents)throw new g("Page contents not found");let o=u(this,Is,"f").contents.item().as(Xt).tabs.get({selected:!0});if(!o)throw new g("Could not find target tab.");this.contents=(i=o.content)===null||i===void 0?void 0:i.as(Z).contents.as(he)}get page(){return u(this,Is,"f")}};s(I_,"TimeWatched");Is=new WeakMap;var k_=I_;var Go,Pp=class{constructor(e,i){Go.set(this,void 0),I(this,Go,new O.shim.Cache(e,i),"f")}get cache_dir(){return u(this,Go,"f").cache_dir}get(e){return u(this,Go,"f").get(e)}set(e,i){return u(this,Go,"f").set(e,i)}remove(e){return u(this,Go,"f").remove(e)}};s(Pp,"UniversalCache");Go=new WeakMap;var o0,St,ks,Mp,Pw,zo=class{constructor(e,i,o){o0.add(this),St.set(this,void 0),ks.set(this,void 0),Mp.set(this,void 0),I(this,St,e,"f"),I(this,ks,i,"f"),I(this,Mp,o||O.shim.fetch,"f")}get fetch_function(){return u(this,Mp,"f")}fetch(e,i){return x(this,void 0,void 0,function*(){let o=F.URLS.API.PRODUCTION_1+u(this,St,"f").api_version,n=(i==null?void 0:i.baseURL)||o,r=typeof e=="string"?!n.endsWith("/")&&!e.startsWith("/")?new URL(`${n}/${e}`):new URL(n+e):e instanceof URL?e:new URL(e.url,n),a=(i==null?void 0:i.headers)||(e instanceof O.shim.Request?e.headers:new O.shim.Headers)||new O.shim.Headers,d=(i==null?void 0:i.body)||(e instanceof O.shim.Request?e.body:void 0),f=new O.shim.Headers(a);f.set("Accept","*/*"),f.set("Accept-Language","*"),f.set("x-goog-visitor-id",u(this,St,"f").context.client.visitorData||""),f.set("x-origin",r.origin),f.set("x-youtube-client-version",u(this,St,"f").context.client.clientVersion||""),O.shim.server&&(f.set("User-Agent",Bi("desktop")),f.set("origin",r.origin)),r.searchParams.set("key",u(this,St,"f").key),r.searchParams.set("prettyPrint","false"),r.searchParams.set("alt","json");let h=f.get("Content-Type"),_=d,b=!1,y=n===o||n===F.URLS.YT_UPLOAD;if(h==="application/json"&&y&&typeof d=="string"){let N=JSON.parse(d),E=Object.assign(Object.assign({},N),{context:JSON.parse(JSON.stringify(u(this,St,"f").context))});u(this,o0,"m",Pw).call(this,E.context,E.client),f.set("x-youtube-client-version",E.context.client.clientVersion),delete E.client,O.shim.server&&(E.context.client.clientName==="ANDROID"||E.context.client.clientName==="ANDROID_MUSIC")&&f.set("User-Agent",F.CLIENTS.ANDROID.USER_AGENT),b=E.context.client.clientName==="WEB_KIDS",_=JSON.stringify(E)}if(u(this,St,"f").logged_in&&y&&!b){let N=u(this,St,"f").oauth;if(N.validateCredentials()&&(yield N.refreshIfRequired(),f.set("authorization",`Bearer ${N.credentials.access_token}`),r.searchParams.delete("key")),u(this,ks,"f")){let E=Je(u(this,ks,"f"),"PAPISID=",";");E&&(f.set("authorization",yield mv(E)),f.set("x-goog-authuser",u(this,St,"f").account_index.toString())),f.set("cookie",u(this,ks,"f"))}}let T=new O.shim.Request(r,e instanceof O.shim.Request?e:i),k=yield u(this,Mp,"f").call(this,T,{body:_,headers:f,credentials:"include",redirect:e instanceof O.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"});if(k.ok)return k;throw new g(`Request to ${k.url} failed with status ${k.status}`,yield k.text())})}};s(zo,"HTTPClient");St=new WeakMap,ks=new WeakMap,Mp=new WeakMap,o0=new WeakSet,Pw=s(function(e,i){switch(i){case"YTMUSIC":e.client.clientVersion=F.CLIENTS.YTMUSIC.VERSION,e.client.clientName=F.CLIENTS.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=F.CLIENTS.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=F.CLIENTS.ANDROID.NAME,e.client.androidSdkVersion=F.CLIENTS.ANDROID.SDK_VERSION,e.client.platform="MOBILE";break;case"YTMUSIC_ANDROID":e.client.clientVersion=F.CLIENTS.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=F.CLIENTS.YTMUSIC_ANDROID.NAME,e.client.androidSdkVersion=F.CLIENTS.ANDROID.SDK_VERSION,e.client.platform="MOBILE";break;case"YTSTUDIO_ANDROID":e.client.clientVersion=F.CLIENTS.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=F.CLIENTS.YTSTUDIO_ANDROID.NAME,e.client.androidSdkVersion=F.CLIENTS.ANDROID.SDK_VERSION;break;case"TV_EMBEDDED":e.client.clientName=F.CLIENTS.TV_EMBEDDED.NAME,e.client.clientVersion=F.CLIENTS.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:F.URLS.YT_BASE};break;case"YTKIDS":e.client.clientVersion=F.CLIENTS.WEB_KIDS.VERSION,e.client.clientName=F.CLIENTS.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var xe,qe,Vw,Mw,n0,s0,Aw,Vp=class{static download(e,i,o,n,r,a){return x(this,void 0,void 0,function*(){if((o==null?void 0:o.status)==="UNPLAYABLE")throw new g("Video is unplayable",{error_type:"UNPLAYABLE"});if((o==null?void 0:o.status)==="LOGIN_REQUIRED")throw new g("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!n)throw new g("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let d=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},e),f=this.chooseFormat(d,n),h=f.decipher(r);if(d.type==="video+audio"&&!e.range){let E=yield i.session.http.fetch_function(`${h}&cpn=${a}`,{method:"GET",headers:ai.STREAM_HEADERS,redirect:"follow"});if(!E.ok)throw new g("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:E});let R=E.body;if(!R)throw new g("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:E});return R}let _=1048576*10,b=e.range?e.range.start:0,y=e.range?e.range.end:_,T=!1,k;return new O.shim.ReadableStream({start(){},pull:E=>x(this,void 0,void 0,function*(){if(T){E.close();return}return(y>=f.content_length||e.range)&&(T=!0),new Promise((R,D)=>x(this,void 0,void 0,function*(){var j,ae,ge,Ve;try{k=new AbortController;let z=yield i.session.http.fetch_function(`${h}&cpn=${a}&range=${b}-${y||""}`,{method:"GET",headers:Object.assign({},ai.STREAM_HEADERS),signal:k.signal}),ee=z.body;if(!ee)throw new g("Could not get ReadableStream from fetch Response.",{video:this,error_type:"FETCH_FAILED",response:z});try{for(var Se=!0,De=q0(vv(ee)),$;$=yield De.next(),j=$.done,!j;){Ve=$.value,Se=!1;try{let Q=Ve;E.enqueue(Q)}finally{Se=!0}}}catch(Q){ae={error:Q}}finally{try{!Se&&!j&&(ge=De.return)&&(yield ge.call(De))}finally{if(ae)throw ae.error}}b=y+1,y+=_,R();return}catch(z){D(z)}}))}),cancel(E){return x(this,void 0,void 0,function*(){k.abort(E)})}},{highWaterMark:1,size(E){return E.byteLength}})})}static chooseFormat(e,i){if(!i)throw new g("Streaming data not available");let o=[...i.formats||[],...i.adaptive_formats||[]],n=e.type?e.type.includes("audio"):!0,r=e.type?e.type.includes("video"):!0,a=e.language||"original",d=e.quality||"best",f=-1,h=["best","bestefficiency"].includes(d),_=d!=="best",b=o.filter(y=>n&&!y.has_audio||r&&!y.has_video||e.format!=="any"&&!y.mime_type.includes(e.format||"mp4")||!h&&y.quality_label!==d?!1:(f<y.width&&(f=y.width),!0));if(!b.length)throw new g("No matching formats found",{options:e});if(h&&r&&(b=b.filter(y=>y.width===f)),n&&!r){let y=b.filter(T=>a!=="original"?!T.has_video&&T.language===a:!T.has_video&&T.is_original);y.length>0&&(b=y)}return _?b.sort((y,T)=>y.bitrate-T.bitrate):b.sort((y,T)=>T.bitrate-y.bitrate),b[0]}static toDash(e,i=d=>d,o,n,r,a){return x(this,void 0,void 0,function*(){if(!e)throw new g("Streaming data not available");let d;o?d={formats:e.formats.filter(T=>!o(T)),adaptive_formats:e.adaptive_formats.filter(T=>!o(T)),expires:e.expires,dash_manifest_url:e.dash_manifest_url,hls_manifest_url:e.hls_manifest_url}:d=e;let{adaptive_formats:f}=d;if(!f.length)throw new g("No adaptive formats found");let h=f[0].approx_duration_ms/1e3,_=new O.shim.DOMParser().parseFromString('<?xml version="1.0" encoding="utf-8"?><MPD />',"application/xml"),b=_.querySelector("MPD"),y=_.createElement("Period");return b.replaceWith(u(this,xe,"m",qe).call(this,_,"MPD",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${h}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},[y])),yield u(this,xe,"m",Vw).call(this,_,y,f,i,n,r,a),O.shim.serializeDOM(_)})}};s(Vp,"FormatUtils");xe=Vp,qe=s(function(e,i,o,n=[]){let r=e.createElement(i);for(let[a,d]of Object.entries(o))d&&r.setAttribute(a,d);for(let a of n)typeof a>"u"||r.appendChild(a);return r},"_FormatUtils_el"),Vw=s(function(e,i,o,n,r,a,d){var f;return x(this,void 0,void 0,function*(){let h=[],_=[[]];o.forEach(y=>{if((!y.index_range||!y.init_range)&&!y.is_type_otf)return;let T=y.mime_type,k=h.indexOf(T);k>-1?_[k].push(y):(h.push(T),_.push([]),_[h.length-1].push(y))});let b=0;for(let y=0;y<h.length;y++)if(_[y][0].has_audio&&_[y][0].audio_track){let T=[],k=[[]];_[y].forEach(N=>{var E,R;let D=T.indexOf((E=N.audio_track)===null||E===void 0?void 0:E.id);D>-1?k[D].push(N):(T.push((R=N.audio_track)===null||R===void 0?void 0:R.id),k.push([]),k[T.length-1].push(N))});for(let N=0;N<T.length;N++){let E=k[N][0],R=[],D;!((f=E.audio_track)===null||f===void 0)&&f.audio_is_default?D="main":E.is_dubbed?D="dub":E.is_descriptive?D="description":D="alternate",R.push(u(this,xe,"m",qe).call(this,e,"Role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:D}));let j=u(this,xe,"m",qe).call(this,e,"AdaptationSet",{id:`${b++}`,mimeType:h[y].split(";")[0],startWithSAP:"1",subsegmentAlignment:"true",lang:E.language},R);i.appendChild(j);for(let ae of k[N])yield u(this,xe,"m",n0).call(this,e,j,ae,n,r,a,d)}}else{let T=u(this,xe,"m",qe).call(this,e,"AdaptationSet",{id:`${b++}`,mimeType:h[y].split(";")[0],startWithSAP:"1",subsegmentAlignment:"true"});i.appendChild(T);for(let k of _[y])k.has_video?yield u(this,xe,"m",Mw).call(this,e,T,k,n,r,a,d):yield u(this,xe,"m",n0).call(this,e,T,k,n,r,a,d)}})},"_FormatUtils_generateAdaptationSet"),Mw=s(function(e,i,o,n,r,a,d){var f,h,_,b,y,T;return x(this,void 0,void 0,function*(){let k=Je(o.mime_type,'codecs="','"'),N=new URL(o.decipher(a));N.searchParams.set("cpn",r||"");let E=u(this,xe,"m",qe).call(this,e,"Representation",{id:(f=o.itag)===null||f===void 0?void 0:f.toString(),codecs:k,bandwidth:(h=o.bitrate)===null||h===void 0?void 0:h.toString(),width:(_=o.width)===null||_===void 0?void 0:_.toString(),height:(b=o.height)===null||b===void 0?void 0:b.toString(),maxPlayoutRate:"1",frameRate:(y=o.fps)===null||y===void 0?void 0:y.toString()});i.appendChild(E),yield u(this,xe,"m",s0).call(this,e,E,o,(T=n(N))===null||T===void 0?void 0:T.toString(),d)})},"_FormatUtils_generateRepresentationVideo"),n0=s(function(e,i,o,n,r,a,d){var f,h,_,b,y,T;return x(this,void 0,void 0,function*(){let k=Je(o.mime_type,'codecs="','"'),N=new URL(o.decipher(a));N.searchParams.set("cpn",r||"");let E;o.audio_track?E=`${(f=o.itag)===null||f===void 0?void 0:f.toString()}-${o.audio_track.id}`:E=(h=o.itag)===null||h===void 0?void 0:h.toString();let R=u(this,xe,"m",qe).call(this,e,"Representation",{id:E,codecs:k,bandwidth:(_=o.bitrate)===null||_===void 0?void 0:_.toString(),audioSamplingRate:(b=o.audio_sample_rate)===null||b===void 0?void 0:b.toString()},[u(this,xe,"m",qe).call(this,e,"AudioChannelConfiguration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:((y=o.audio_channels)===null||y===void 0?void 0:y.toString())||"2"})]);i.appendChild(R),yield u(this,xe,"m",s0).call(this,e,R,o,(T=n(N))===null||T===void 0?void 0:T.toString(),d)})},"_FormatUtils_generateRepresentationAudio"),s0=s(function(e,i,o,n,r){return x(this,void 0,void 0,function*(){if(o.is_type_otf){if(!r)throw new g("Unable to get segment durations for this OTF stream without an Actions instance",{format:o});let{resolved_url:a,segment_durations:d}=yield u(this,xe,"m",Aw).call(this,n,r),f=[];for(let h of d){let _;typeof h.repeat_count>"u"?_={d:h.duration.toString()}:_={d:h.duration.toString(),r:h.repeat_count.toString()},f.push(u(this,xe,"m",qe).call(this,e,"S",_))}i.appendChild(u(this,xe,"m",qe).call(this,e,"SegmentTemplate",{startNumber:"1",timescale:"1000",initialization:`${a}&sq=0`,media:`${a}&sq=$Number$`},[u(this,xe,"m",qe).call(this,e,"SegmentTimeline",{},f)]))}else{if(!o.index_range||!o.init_range)throw new g("Index and init ranges not available",{format:o});i.appendChild(u(this,xe,"m",qe).call(this,e,"BaseURL",{},[e.createTextNode(n)])),i.appendChild(u(this,xe,"m",qe).call(this,e,"SegmentBase",{indexRange:`${o.index_range.start}-${o.index_range.end}`},[u(this,xe,"m",qe).call(this,e,"Initialization",{range:`${o.init_range.start}-${o.init_range.end}`})]))}})},"_FormatUtils_generateSegmentInformation"),Aw=s(function(e,i){var o;return x(this,void 0,void 0,function*(){let n=yield i.session.http.fetch_function(`${e}&rn=0&sq=0`,{method:"GET",headers:ai.STREAM_HEADERS,redirect:"follow"}),r=n.url.replace("&rn=0","").replace("&sq=0",""),a=yield n.text(),d=(o=Je(a,"Segment-Durations-Ms:",`\r
`))===null||o===void 0?void 0:o.split(",");if(!d)throw new g("Failed to extract the segment durations from this OTF stream",{url:e});let f=[];for(let h of d){let _=h.trim();if(_.length===0)continue;let b,y=Je(_,"(r=",")");y&&(b=parseInt(y)),f.push({duration:parseInt(_),repeat_count:b})}return{resolved_url:r,segment_durations:f}})},"_FormatUtils_getOTFSegmentInformation");var Ap=Vp;var S_,Ni,Ss,Rp,Ei=class{constructor(e,i,o){var n,r;S_.set(this,void 0),Ni.set(this,void 0),Ss.set(this,void 0),Rp.set(this,void 0),I(this,Ni,i,"f");let a=p.parseResponse(e[0].data),d=!((n=e==null?void 0:e[1])===null||n===void 0)&&n.data?p.parseResponse(e[1].data):void 0;if(I(this,S_,[a,d],"f"),I(this,Ss,o,"f"),((r=a.playability_status)===null||r===void 0?void 0:r.status)==="ERROR")throw new g("This video is unavailable",a.playability_status);this.streaming_data=a.streaming_data,this.playability_status=a.playability_status,I(this,Rp,a.playback_tracking,"f")}toDash(e,i){return x(this,void 0,void 0,function*(){return Ap.toDash(this.streaming_data,e,i,u(this,Ss,"f"),u(this,Ni,"f").session.player,u(this,Ni,"f"))})}chooseFormat(e){return Ap.chooseFormat(e,this.streaming_data)}download(e={}){return x(this,void 0,void 0,function*(){return Ap.download(e,u(this,Ni,"f"),this.playability_status,this.streaming_data,u(this,Ni,"f").session.player,this.cpn)})}addToWatchHistory(e=F.CLIENTS.WEB.NAME,i=F.CLIENTS.WEB.VERSION,o="https://www."){return x(this,void 0,void 0,function*(){if(!u(this,Rp,"f"))throw new g("Playback tracking not available");let n={cpn:u(this,Ss,"f"),fmt:251,rtn:0,rt:0},r=u(this,Rp,"f").videostats_playback_url.replace("https://s.",o);return yield u(this,Ni,"f").stats(r,{client_name:e,client_version:i},n)})}get actions(){return u(this,Ni,"f")}get cpn(){return u(this,Ss,"f")}get page(){return u(this,S_,"f")}};s(Ei,"MediaInfo");S_=new WeakMap,Ni=new WeakMap,Ss=new WeakMap,Rp=new WeakMap;var Xi,Cs=class extends Ei{constructor(e,i,o){var n,r,a,d,f,h,_,b,y,T,k,N,E,R,D,j,ae,ge,Ve,Se,De,$,z,ee,Q,Ue,Pt,Mt,At,Vt,Rt,Ot,Bt,Ft,Dt,Lt,Yt;super(e,i,o),Xi.set(this,void 0);let[se,Ce]=this.page;if(se.microformat&&!(!((n=se.microformat)===null||n===void 0)&&n.is(qt,Gt)))throw new g("Invalid microformat",se.microformat);this.basic_info=Object.assign(Object.assign(Object.assign({},se.video_details),{embed:!((r=se.microformat)===null||r===void 0)&&r.is(qt)?(a=se.microformat)===null||a===void 0?void 0:a.embed:null,channel:!((d=se.microformat)===null||d===void 0)&&d.is(qt)?(f=se.microformat)===null||f===void 0?void 0:f.channel:null,is_unlisted:(h=se.microformat)===null||h===void 0?void 0:h.is_unlisted,is_family_safe:(_=se.microformat)===null||_===void 0?void 0:_.is_family_safe,category:!((b=se.microformat)===null||b===void 0)&&b.is(qt)?(y=se.microformat)===null||y===void 0?void 0:y.category:null,has_ypc_metadata:!((T=se.microformat)===null||T===void 0)&&T.is(qt)?(k=se.microformat)===null||k===void 0?void 0:k.has_ypc_metadata:null,start_timestamp:!((N=se.microformat)===null||N===void 0)&&N.is(qt)?se.microformat.start_timestamp:null}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=se.annotations,this.storyboards=se.storyboards,this.endscreen=se.endscreen,this.captions=se.captions,this.cards=se.cards;let We=(E=Ce==null?void 0:Ce.contents)===null||E===void 0?void 0:E.item().as(cs),en=We==null?void 0:We.results,$p=We==null?void 0:We.secondary_results;if(en&&$p){if(((R=se.microformat)===null||R===void 0?void 0:R.is(qt))&&((D=se.microformat)===null||D===void 0?void 0:D.category)==="Gaming"){let ti=(ge=(ae=(j=en.firstOfType(ap))===null||j===void 0?void 0:j.metadata)===null||ae===void 0?void 0:ae.rows)===null||ge===void 0?void 0:ge.firstOfType(id);ti!=null&&ti.is(id)&&(this.game_info={title:(Se=(Ve=ti==null?void 0:ti.contents)===null||Ve===void 0?void 0:Ve.firstOfType(ed))===null||Se===void 0?void 0:Se.title,release_year:($=(De=ti==null?void 0:ti.contents)===null||De===void 0?void 0:De.firstOfType(ed))===null||$===void 0?void 0:$.subtitle})}this.primary_info=en.firstOfType(zm),this.secondary_info=en.firstOfType(ap),this.merchandise=en.firstOfType(nm),this.related_chip_cloud=(z=$p.firstOfType(Vm))===null||z===void 0?void 0:z.content.item().as(ci),We!=null&&We.playlist&&(this.playlist=We.playlist),this.watch_next_feed=((ee=$p.firstOfType(he))===null||ee===void 0?void 0:ee.contents)||$p,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((Q=this.watch_next_feed.at(-1))===null||Q===void 0?void 0:Q.is(Me))&&I(this,Xi,(Ue=this.watch_next_feed.pop())===null||Ue===void 0?void 0:Ue.as(Me),"f"),this.player_overlays=(Pt=Ce==null?void 0:Ce.player_overlays)===null||Pt===void 0?void 0:Pt.item().as(Wi),We!=null&&We.autoplay&&(this.autoplay=We.autoplay);let Le=(At=(Mt=this.primary_info)===null||Mt===void 0?void 0:Mt.menu)===null||At===void 0?void 0:At.top_level_buttons.firstOfType(So);((Vt=Le==null?void 0:Le.like_button)===null||Vt===void 0?void 0:Vt.is(Pe))&&((Rt=Le==null?void 0:Le.dislike_button)===null||Rt===void 0?void 0:Rt.is(Pe))&&(this.basic_info.like_count=(Ot=Le==null?void 0:Le.like_button)===null||Ot===void 0?void 0:Ot.like_count,this.basic_info.is_liked=(Bt=Le==null?void 0:Le.like_button)===null||Bt===void 0?void 0:Bt.is_toggled,this.basic_info.is_disliked=(Ft=Le==null?void 0:Le.dislike_button)===null||Ft===void 0?void 0:Ft.is_toggled);let cv=(Dt=en.get({target_id:"comments-entry-point"}))===null||Dt===void 0?void 0:Dt.as(he);this.comments_entry_point_header=(Lt=cv==null?void 0:cv.contents)===null||Lt===void 0?void 0:Lt.firstOfType(mh),this.livechat=(Yt=Ce==null?void 0:Ce.contents_memo)===null||Yt===void 0?void 0:Yt.getType(Wh).first()}}selectFilter(e){var i,o,n,r;return x(this,void 0,void 0,function*(){if(!this.related_chip_cloud)throw new g("Chip cloud not found, cannot apply filter");let a;if(typeof e=="string"){let h=(o=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.get({text:e});if(!h)throw new g("Invalid filter",{available_filters:this.filters});a=h}else if(e!=null&&e.is(ye))a=e;else throw new g("Invalid cloud chip",e);if(a.is_selected)return this;let d=yield(n=a.endpoint)===null||n===void 0?void 0:n.call(this.actions,{parse:!0}),f=(r=d==null?void 0:d.on_response_received_endpoints)===null||r===void 0?void 0:r.get({target_id:"watch-next-feed"});return this.watch_next_feed=f==null?void 0:f.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return x(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){var e,i,o,n,r;return x(this,void 0,void 0,function*(){if(!u(this,Xi,"f"))throw new g("Watch next feed continuation not found");let a=yield(e=u(this,Xi,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),d=(i=a==null?void 0:a.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"appendContinuationItemsAction"});if(!d)throw new g("AppendContinuationItemsAction not found");return this.watch_next_feed=d==null?void 0:d.contents,!((n=(o=this.watch_next_feed)===null||o===void 0?void 0:o.at(-1))===null||n===void 0)&&n.is(Me)?I(this,Xi,(r=this.watch_next_feed.pop())===null||r===void 0?void 0:r.as(Me),"f"):I(this,Xi,void 0,"f"),this})}like(){var e,i;return x(this,void 0,void 0,function*(){let o=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(So),n=o==null?void 0:o.like_button;if(!n)throw new g("Like button not found",{video_id:this.basic_info.id});if(!n.is(Pe))throw new g("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(n.is_toggled)throw new g("This video is already liked",{video_id:this.basic_info.id});return yield n.endpoint.call(this.actions)})}dislike(){var e,i;return x(this,void 0,void 0,function*(){let o=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(So),n=o==null?void 0:o.dislike_button;if(!n)throw new g("Dislike button not found",{video_id:this.basic_info.id});if(!n.is(Pe))throw new g("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(n.is_toggled)throw new g("This video is already disliked",{video_id:this.basic_info.id});return yield n.endpoint.call(this.actions)})}removeRating(){var e,i;return x(this,void 0,void 0,function*(){let o,n=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(So),r=n==null?void 0:n.like_button,a=n==null?void 0:n.dislike_button;if(!(r!=null&&r.is(Pe))||!(a!=null&&a.is(Pe)))throw new g("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(r!=null&&r.is_toggled?o=r:a!=null&&a.is_toggled&&(o=a),!o)throw new g("This video is not liked/disliked",{video_id:this.basic_info.id});return yield o.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new g("Live Chat is not available",{video_id:this.basic_info.id});return new x_(this)}getTrailerInfo(){var e,i;if(this.has_trailer){let o=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(Ic).trailer)===null||i===void 0?void 0:i.player_response;if(o)return new Cs([{data:o}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(o=>{var n;return(n=o.text)===null||n===void 0?void 0:n.toString()}))||[]}get wn_has_continuation(){return!!u(this,Xi,"f")}get autoplay_video_endpoint(){var e,i,o;return((o=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.autoplay_video)||null}get has_trailer(){var e;return!!(!((e=this.playability_status.error_screen)===null||e===void 0)&&e.is(Ic))}get music_tracks(){return[]}};s(Cs,"VideoInfo");Xi=new WeakMap;var Op=Cs;var u0={};mt(u0,{Album:()=>N_,Artist:()=>M_,Explore:()=>V_,HomeFeed:()=>R_,Library:()=>O_,LibraryContinuation:()=>$o,Playlist:()=>Os,Recap:()=>F_,Search:()=>Ct,TrackInfo:()=>Up});var Pi,C_=class{constructor(e){var i,o,n;if(Pi.set(this,void 0),I(this,Pi,p.parseResponse(e.data),"f"),this.header=(i=u(this,Pi,"f").header)===null||i===void 0?void 0:i.item().as(Io),this.url=((o=u(this,Pi,"f").microformat)===null||o===void 0?void 0:o.as(Gt).url_canonical)||null,!u(this,Pi,"f").contents_memo)throw new Error("No contents found in the response");this.contents=(n=u(this,Pi,"f").contents_memo.getType(me))===null||n===void 0?void 0:n.first().contents,this.sections=u(this,Pi,"f").contents_memo.getType(be)||[]}get page(){return u(this,Pi,"f")}};s(C_,"Album");Pi=new WeakMap;var N_=C_;var Ns,E_,P_=class{constructor(e,i){var o,n,r;Ns.set(this,void 0),E_.set(this,void 0),I(this,Ns,p.parseResponse(e.data),"f"),I(this,E_,i,"f"),this.header=(o=this.page.header)===null||o===void 0?void 0:o.item().as(pm,mm,Ui);let a=((n=u(this,Ns,"f").contents_memo)===null||n===void 0?void 0:n.getType(me))||[],d=((r=u(this,Ns,"f").contents_memo)===null||r===void 0?void 0:r.getType(be))||[];this.sections=[...a,...d]}getAllSongs(){var e,i;return x(this,void 0,void 0,function*(){let o=this.sections.filter(d=>d.type==="MusicShelf");if(!o.length)throw new g("Could not find any node of type MusicShelf.");let n=o.find(d=>d.title.toString()==="Songs");if(!n)throw new g("Could not find target shelf (Songs).");if(!n.endpoint)throw new g("Target shelf (Songs) did not have an endpoint.");return(i=(e=(yield n.endpoint.call(u(this,E_,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)===null||e===void 0?void 0:e.getType(ko))===null||i===void 0?void 0:i.first()})}get page(){return u(this,Ns,"f")}};s(P_,"Artist");Ns=new WeakMap,E_=new WeakMap;var M_=P_;var Bp,A_=class{constructor(e){var i,o,n;Bp.set(this,void 0),I(this,Bp,p.parseResponse(e.data),"f");let r=(i=u(this,Bp,"f").contents)===null||i===void 0?void 0:i.item().as(Xt).tabs.get({selected:!0});if(!r)throw new g("Could not find target tab.");let a=(o=r.content)===null||o===void 0?void 0:o.as(Z);if(!a)throw new g("Target tab did not have any content.");this.top_buttons=((n=a.contents.firstOfType(_o))===null||n===void 0?void 0:n.items.as(ss))||[],this.sections=a.contents.filterType(be)}get page(){return u(this,Bp,"f")}};s(A_,"Explore");Bp=new WeakMap;var V_=A_;var Qi,Fp,Ko,Es=class{constructor(e,i){var o,n,r,a;Qi.set(this,void 0),Fp.set(this,void 0),Ko.set(this,void 0),I(this,Fp,i,"f"),I(this,Qi,p.parseResponse(e.data),"f");let d=(o=u(this,Qi,"f").contents)===null||o===void 0?void 0:o.item().as(Xt).tabs.get({selected:!0});if(!d)throw new g("Could not find Home tab.");if(d.key("content").isNull()){if(!u(this,Qi,"f").continuation_contents)throw new g("Continuation did not have any content.");I(this,Ko,u(this,Qi,"f").continuation_contents.as(nt).continuation,"f"),this.sections=(n=u(this,Qi,"f").continuation_contents.as(nt).contents)===null||n===void 0?void 0:n.as(be);return}I(this,Ko,(r=d.content)===null||r===void 0?void 0:r.as(Z).continuation,"f"),this.sections=(a=d.content)===null||a===void 0?void 0:a.as(Z).contents.as(be,bi)}getContinuation(){return x(this,void 0,void 0,function*(){if(!u(this,Ko,"f"))throw new g("Continuation not found.");let e=yield u(this,Fp,"f").execute("/browse",{client:"YTMUSIC",continuation:u(this,Ko,"f")});return new Es(e,u(this,Fp,"f"))})}get has_continuation(){return!!u(this,Ko,"f")}get page(){return u(this,Qi,"f")}};s(Es,"HomeFeed");Qi=new WeakMap,Fp=new WeakMap,Ko=new WeakMap;var R_=Es;var Zt,Zi,Ps,eo,Dp,Ms,As=class{constructor(e,i){var o,n,r,a,d;Zt.set(this,void 0),Zi.set(this,void 0),Ps.set(this,void 0),I(this,Zt,p.parseResponse(e.data),"f"),I(this,Zi,i,"f");let f=(o=u(this,Zt,"f").contents_memo)===null||o===void 0?void 0:o.getType(Z).first();this.header=(n=f==null?void 0:f.header)===null||n===void 0?void 0:n.as(hm),this.contents=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.as(_o,me),I(this,Ps,(d=(a=this.contents)===null||a===void 0?void 0:a.find(h=>h.continuation))===null||d===void 0?void 0:d.continuation,"f")}applySort(e){var i,o,n,r,a,d,f,h,_,b;return x(this,void 0,void 0,function*(){let y;if(typeof e=="string"){let E=(i=u(this,Zt,"f").contents_memo)===null||i===void 0?void 0:i.getType(_c).first(),R=(o=E==null?void 0:E.menu)===null||o===void 0?void 0:o.options.filter(D=>D instanceof tt);if(y=R==null?void 0:R.find(D=>D.title===e),!y)throw new g(`Sort option "${e}" not found`,{available_filters:R.map(D=>D.title)})}else e instanceof tt&&(y=e);if(!y)throw new g("Invalid sort option");if(y.selected)return this;let T=(d=(a=(r=(n=y.endpoint)===null||n===void 0?void 0:n.payload)===null||r===void 0?void 0:r.commands)===null||a===void 0?void 0:a.find(E=>E.browseSectionListReloadEndpoint))===null||d===void 0?void 0:d.browseSectionListReloadEndpoint;if(!T)throw new g("Failed to find sort option command");let k=yield u(this,Zi,"f").execute("/browse",{client:"YTMUSIC",continuation:T.continuation.reloadContinuationData.continuation,parse:!0}),N=(h=(f=u(this,Zt,"f").contents_memo)===null||f===void 0?void 0:f.getType(tt))===null||h===void 0?void 0:h.find(E=>E.selected);return N&&(N.selected=!1),y.selected=!0,this.contents=(b=(_=k.continuation_contents)===null||_===void 0?void 0:_.as(nt).contents)===null||b===void 0?void 0:b.as(_o,me),this})}applyFilter(e){var i,o,n,r;return x(this,void 0,void 0,function*(){let a,d=(i=u(this,Zt,"f").contents_memo)===null||i===void 0?void 0:i.getType(ci).first();if(typeof e=="string"){if(a=d==null?void 0:d.chips.get({text:e}),!a)throw new g(`Filter "${e}" not found`,{available_filters:this.filters})}else e instanceof ye&&(a=e);if(!a)throw new g("Invalid filter",e);let h=yield new v((r=(n=(o=a.endpoint)===null||o===void 0?void 0:o.payload)===null||n===void 0?void 0:n.commands)===null||r===void 0?void 0:r[0]).call(u(this,Zi,"f"),{client:"YTMUSIC"});return new As(h,u(this,Zi,"f"))})}getContinuation(){return x(this,void 0,void 0,function*(){if(!u(this,Ps,"f"))throw new g("No continuation available");let e=yield u(this,Zi,"f").execute("/browse",{client:"YTMUSIC",continuation:u(this,Ps,"f")});return new $o(e,u(this,Zi,"f"))})}get has_continuation(){return!!u(this,Ps,"f")}get sort_options(){var e,i;let o=(e=u(this,Zt,"f").contents_memo)===null||e===void 0?void 0:e.getType(_c).first();return((i=o==null?void 0:o.menu)===null||i===void 0?void 0:i.options.filter(r=>r instanceof tt)).map(r=>r.title)}get filters(){var e,i;return((i=(e=u(this,Zt,"f").contents_memo)===null||e===void 0?void 0:e.getType(ci))===null||i===void 0?void 0:i.first().chips.map(o=>o.text))||[]}get page(){return u(this,Zt,"f")}};s(As,"Library");Zt=new WeakMap,Zi=new WeakMap,Ps=new WeakMap;var $o=class{constructor(e,i){var o,n;if(eo.set(this,void 0),Dp.set(this,void 0),Ms.set(this,void 0),I(this,eo,p.parseResponse(e.data),"f"),I(this,Dp,i,"f"),!u(this,eo,"f").continuation_contents)throw new g("No continuation contents found");this.contents=u(this,eo,"f").continuation_contents.as(Ii,Ao),I(this,Ms,!((o=u(this,eo,"f").continuation_contents)===null||o===void 0)&&o.key("continuation").isNull()?null:(n=u(this,eo,"f").continuation_contents)===null||n===void 0?void 0:n.key("continuation").string(),"f")}getContinuation(){return x(this,void 0,void 0,function*(){if(!u(this,Ms,"f"))throw new g("No continuation available");let e=yield u(this,Dp,"f").execute("/browse",{client:"YTMUSIC",continuation:u(this,Ms,"f")});return new $o(e,u(this,Dp,"f"))})}get has_continuation(){return!!u(this,Ms,"f")}get page(){return u(this,eo,"f")}};s($o,"LibraryContinuation");eo=new WeakMap,Dp=new WeakMap,Ms=new WeakMap;var O_=As;var a0,st,Xo,qo,Vs,Lp,Rw,Rs=class{constructor(e,i){var o,n,r,a,d,f,h;if(a0.add(this),st.set(this,void 0),Xo.set(this,void 0),qo.set(this,void 0),Vs.set(this,void 0),Lp.set(this,void 0),I(this,Xo,i,"f"),I(this,st,p.parseResponse(e.data),"f"),I(this,Vs,null,"f"),I(this,Lp,null,"f"),u(this,st,"f").continuation_contents){let _=(o=u(this,st,"f").continuation_contents)===null||o===void 0?void 0:o.as(Mo);this.items=_.contents,I(this,qo,_.continuation,"f")}else((n=u(this,st,"f").header)===null||n===void 0?void 0:n.item().type)==="MusicEditablePlaylistDetailHeader"?this.header=(a=(r=u(this,st,"f").header)===null||r===void 0?void 0:r.item().as(dm).header)===null||a===void 0?void 0:a.as(Io):this.header=(d=u(this,st,"f").header)===null||d===void 0?void 0:d.item().as(Io),this.items=((f=u(this,st,"f").contents_memo)===null||f===void 0?void 0:f.getType(ko).first().contents)||null,I(this,qo,((h=u(this,st,"f").contents_memo)===null||h===void 0?void 0:h.getType(ko).first().continuation)||null,"f")}getContinuation(){return x(this,void 0,void 0,function*(){if(!u(this,qo,"f"))throw new g("Continuation not found.");let e=yield u(this,Xo,"f").execute("/browse",{client:"YTMUSIC",continuation:u(this,qo,"f")});return new Rs(e,u(this,Xo,"f"))})}getRelated(){var e,i,o,n,r;return x(this,void 0,void 0,function*(){let a=(i=(e=u(this,st,"f").contents_memo)===null||e===void 0?void 0:e.getType(Z))===null||i===void 0?void 0:i[0].continuation;for(;a;){let f=(o=(yield u(this,Xo,"f").execute("/browse",{client:"YTMUSIC",continuation:a,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(nt),h=(n=f==null?void 0:f.contents)===null||n===void 0?void 0:n.as(be,me),_=(r=h==null?void 0:h.matchCondition(b=>b.is(be)))===null||r===void 0?void 0:r.as(be);if(_)return _;a=f==null?void 0:f.continuation}throw new g("Target section not found.")})}getSuggestions(e=!0){return x(this,void 0,void 0,function*(){let n=yield e||!u(this,Vs,"f")?u(this,a0,"m",Rw).call(this):Promise.resolve(null);return n&&(I(this,Vs,n.items,"f"),I(this,Lp,n.continuation,"f")),(n==null?void 0:n.items)||u(this,Vs,"f")})}get page(){return u(this,st,"f")}get has_continuation(){return!!u(this,qo,"f")}};s(Rs,"Playlist");st=new WeakMap,Xo=new WeakMap,qo=new WeakMap,Vs=new WeakMap,Lp=new WeakMap,a0=new WeakSet,Rw=s(function(){var e,i,o,n,r;return x(this,void 0,void 0,function*(){let a=u(this,Lp,"f")||((i=(e=u(this,st,"f").contents_memo)===null||e===void 0?void 0:e.get("SectionList"))===null||i===void 0?void 0:i[0].as(Z).continuation);if(a){let f=(o=(yield u(this,Xo,"f").execute("/browse",{client:"YTMUSIC",continuation:a,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(nt),h=(n=f==null?void 0:f.contents)===null||n===void 0?void 0:n.as(be,me),_=(r=h==null?void 0:h.matchCondition(b=>b.is(me)))===null||r===void 0?void 0:r.as(me);return{items:(_==null?void 0:_.contents)||[],continuation:(_==null?void 0:_.continuation)||null}}return{items:[],continuation:null}})},"_Playlist_fetchSuggestions");var Os=Rs;var to,Yp,B_=class{constructor(e,i){var o,n,r,a,d,f,h;to.set(this,void 0),Yp.set(this,void 0),I(this,to,p.parseResponse(e.data),"f"),I(this,Yp,i,"f");let _=(o=u(this,to,"f").header)===null||o===void 0?void 0:o.item();this.header=_!=null&&_.is(ic)?(a=(r=(n=u(this,to,"f").header)===null||n===void 0?void 0:n.item().as(ic).element)===null||r===void 0?void 0:r.model)===null||a===void 0?void 0:a.as(Iu):(d=u(this,to,"f").header)===null||d===void 0?void 0:d.item().as(Ui);let b=(f=u(this,to,"f").contents)===null||f===void 0?void 0:f.item().as(Xt).tabs.firstOfType(le);if(!b)throw new g("Target tab not found");this.sections=(h=b.content)===null||h===void 0?void 0:h.as(Z).contents.as(he,be,Oe)}getPlaylist(){return x(this,void 0,void 0,function*(){if(!this.header)throw new g("Header not found");if(!this.header.is(Iu))throw new g("Recap playlist not available, check back later.");let i=yield this.header.panels[0].text_on_tap_endpoint.call(u(this,Yp,"f"),{client:"YTMUSIC"});return new Os(i,u(this,Yp,"f"))})}get page(){return u(this,to,"f")}};s(B_,"Recap");to=new WeakMap,Yp=new WeakMap;var F_=B_;var ei,Mi,Bs,jp,Fs,Ct=class{constructor(e,i,o){var n,r,a;if(ei.set(this,void 0),Mi.set(this,void 0),Bs.set(this,void 0),I(this,Mi,i,"f"),I(this,ei,p.parseResponse(e.data),"f"),!u(this,ei,"f").contents||!u(this,ei,"f").contents_memo)throw new g("Response did not contain any contents.");let d=u(this,ei,"f").contents.item().as(Wm).tabs.get({selected:!0});if(!d)throw new g("Could not find target tab.");let f=(n=d.content)===null||n===void 0?void 0:n.as(Z);if(!f)throw new g("Target tab did not have any content.");this.header=(r=f.header)===null||r===void 0?void 0:r.as(ci),this.contents=f.contents.as(me,gi,he),o&&I(this,Bs,(a=this.contents.firstOfType(me))===null||a===void 0?void 0:a.continuation,"f")}getMore(e){return x(this,void 0,void 0,function*(){if(!e||!e.endpoint)throw new g("Cannot retrieve more items for this shelf because it does not have an endpoint.");let i=yield e.endpoint.call(u(this,Mi,"f"),{client:"YTMUSIC"});if(!i)throw new g("Endpoint did not return any data");return new Ct(i,u(this,Mi,"f"),!0)})}getContinuation(){return x(this,void 0,void 0,function*(){if(!u(this,Bs,"f"))throw new g("Continuation not found.");let e=yield u(this,Mi,"f").execute("/search",{continuation:u(this,Bs,"f"),client:"YTMUSIC"});return new Ds(u(this,Mi,"f"),e)})}applyFilter(e){var i,o;return x(this,void 0,void 0,function*(){let n;if(typeof e=="string"){if(n=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(ye).get({text:e}),!n)throw new g("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(ye)&&(n=e);if(!n)throw new g("Invalid filter",{available_filters:this.filters});if(n!=null&&n.is_selected)return this;if(!n.endpoint)throw new g("Selected filter does not have an endpoint.");let r=yield n.endpoint.call(u(this,Mi,"f"),{client:"YTMUSIC"});return new Ct(r,u(this,Mi,"f"),!0)})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(ye).map(o=>o.text))||[]}get has_continuation(){return!!u(this,Bs,"f")}get did_you_mean(){var e;return(e=u(this,ei,"f").contents_memo)===null||e===void 0?void 0:e.getType(Ih).first()}get showing_results_for(){var e;return(e=u(this,ei,"f").contents_memo)===null||e===void 0?void 0:e.getType(wi).first()}get message(){var e;return(e=u(this,ei,"f").contents_memo)===null||e===void 0?void 0:e.getType(Oe).first()}get songs(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(me).find(i=>i.title.toString()==="Songs")}get videos(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(me).find(i=>i.title.toString()==="Videos")}get albums(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(me).find(i=>i.title.toString()==="Albums")}get artists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(me).find(i=>i.title.toString()==="Artists")}get playlists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(me).find(i=>i.title.toString()==="Community playlists")}get results(){var e,i;return(i=(e=this.contents)===null||e===void 0?void 0:e.firstOfType(me))===null||i===void 0?void 0:i.contents}get sections(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(me)}get page(){return u(this,ei,"f")}};s(Ct,"Search");ei=new WeakMap,Mi=new WeakMap,Bs=new WeakMap;var Ds=class{constructor(e,i){var o,n;jp.set(this,void 0),Fs.set(this,void 0),I(this,jp,e,"f"),I(this,Fs,p.parseResponse(i.data),"f"),this.header=(o=u(this,Fs,"f").header)===null||o===void 0?void 0:o.item().as(Ui),this.contents=(n=u(this,Fs,"f").continuation_contents)===null||n===void 0?void 0:n.as(Ii)}getContinuation(){var e;return x(this,void 0,void 0,function*(){if(!(!((e=this.contents)===null||e===void 0)&&e.continuation))throw new g("Continuation not found.");let i=yield u(this,jp,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new Ds(u(this,jp,"f"),i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}get page(){return u(this,Fs,"f")}};s(Ds,"SearchContinuation");jp=new WeakMap,Fs=new WeakMap;var D_=class extends Ei{constructor(e,i,o){var n,r,a,d,f,h,_,b,y;super(e,i,o);let[T,k]=this.page;if(!(!((n=T.microformat)===null||n===void 0)&&n.is(Gt)))throw new g("Invalid microformat",T.microformat);if(this.basic_info=Object.assign(Object.assign({},T.video_details),{description:(r=T.microformat)===null||r===void 0?void 0:r.description,is_unlisted:(a=T.microformat)===null||a===void 0?void 0:a.is_unlisted,is_family_safe:(d=T.microformat)===null||d===void 0?void 0:d.is_family_safe,url_canonical:(f=T.microformat)===null||f===void 0?void 0:f.url_canonical,tags:(h=T.microformat)===null||h===void 0?void 0:h.tags}),this.storyboards=T.storyboards,this.endscreen=T.endscreen,k){let N=(b=(_=k.contents_memo)===null||_===void 0?void 0:_.getType($m))===null||b===void 0?void 0:b[0];this.tabs=N==null?void 0:N.tabs.array().as(le),this.current_video_endpoint=k.current_video_endpoint,this.player_overlays=(y=k.player_overlays)===null||y===void 0?void 0:y.item().as(Wi)}}getTab(e){var i,o;return x(this,void 0,void 0,function*(){if(!this.tabs)throw new g("Could not find any tab");let n=this.tabs.get({title:e})||this.tabs.matchCondition(a=>{var d,f;return((f=(d=a.endpoint.payload.browseEndpointContextSupportedConfigs)===null||d===void 0?void 0:d.browseEndpointContextMusicConfig)===null||f===void 0?void 0:f.pageType)===e})||((i=this.tabs)===null||i===void 0?void 0:i[0]);if(!n)throw new g(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(n.content)return n.content;let r=yield n.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if(((o=r.contents)===null||o===void 0?void 0:o.item().key("type").string())==="Message")return r.contents.item().as(Oe);if(!r.contents)throw new g("Page contents was empty",r);return r.contents.item().as(Z).contents})}getUpNext(e=!0){var i,o;return x(this,void 0,void 0,function*(){let n=yield this.getTab("Up next");if(!n||!n.content)throw new g("Music queue was empty, the video id is probably invalid.",n);let r=n.content.as($t);if(!r.playlist_id&&e){let a=r.contents.firstOfType(Li);if(!a)throw new g("Automix item not found");let d=yield(i=a.playlist_video)===null||i===void 0?void 0:i.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!d||!d.contents_memo)throw new g("Could not fetch automix");return(o=d.contents_memo.getType($t))===null||o===void 0?void 0:o[0]}return r})}getRelated(){return x(this,void 0,void 0,function*(){return yield this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")})}getLyrics(){return x(this,void 0,void 0,function*(){return(yield this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(To)})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return x(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this,F.CLIENTS.YTMUSIC.NAME,F.CLIENTS.YTMUSIC.VERSION,"https://music.")})}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}};s(D_,"TrackInfo");var Up=D_;var l0={};mt(l0,{Channel:()=>L_,HomeFeed:()=>Y_,Search:()=>U_,VideoInfo:()=>J_});var Ls=class extends de{constructor(e,i,o=!1){var n,r;super(e,i,o),this.header=(n=this.page.header)===null||n===void 0?void 0:n.item().as(Gn),this.contents=this.memo.getType(he).first()||((r=this.page.continuation_contents)===null||r===void 0?void 0:r.as(No))}getContinuation(){var e;return x(this,void 0,void 0,function*(){let i=yield this.actions.execute("/browse",{continuation:(e=this.contents)===null||e===void 0?void 0:e.continuation,client:"YTKIDS"});return new Ls(this.actions,i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}};s(Ls,"Channel");var L_=Ls;var Ys=class extends de{constructor(e,i,o=!1){var n,r;super(e,i,o),this.header=(n=this.page.header)===null||n===void 0?void 0:n.item().as(Xm),this.contents=(r=this.page.contents)===null||r===void 0?void 0:r.item().as(Qm)}selectCategoryTab(e){var i;return x(this,void 0,void 0,function*(){let o;if(typeof e=="string"?o=(i=this.header)===null||i===void 0?void 0:i.category_tabs.find(r=>r.title.toString()===e):e!=null&&e.is(ps)&&(o=e),!o)throw new g(`Tab "${e}" not found`);let n=yield o.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return n.header=this.page.header,n.header_memo=this.page.header_memo,new Ys(this.actions,n,!0)})}get categories(){var e;return((e=this.header)===null||e===void 0?void 0:e.category_tabs.map(i=>i.title.toString()))||[]}};s(Ys,"HomeFeed");var Y_=Ys;var j_=class extends de{constructor(e,i){super(e,i),this.estimated_results=this.page.estimated_results;let o=this.memo.getType(he).first();if(!o)throw new g("No item section found in search response.");this.contents=o.contents}};s(j_,"Search");var U_=j_;var W_=class extends Ei{constructor(e,i,o){var n,r,a,d,f;super(e,i,o);let[h,_]=this.page;this.basic_info=h.video_details,this.captions=h.captions;let b=(n=_==null?void 0:_.contents)===null||n===void 0?void 0:n.item().as(cs),y=b==null?void 0:b.results,T=b==null?void 0:b.secondary_results;y&&T&&(this.slim_video_metadata=(a=(r=y.firstOfType(he))===null||r===void 0?void 0:r.contents)===null||a===void 0?void 0:a.firstOfType(Um),this.watch_next_feed=((d=T.firstOfType(he))===null||d===void 0?void 0:d.contents)||T,this.current_video_endpoint=_==null?void 0:_.current_video_endpoint,this.player_overlays=(f=_==null?void 0:_.player_overlays)===null||f===void 0?void 0:f.item().as(Wi))}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return x(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}};s(W_,"VideoInfo");var J_=W_;var p=A;var js,Ai,c0,Ow,Bw,H_=class{constructor(e){js.add(this),Ai.set(this,void 0),I(this,Ai,e,"f")}get session(){return u(this,Ai,"f")}getVideoInfo(e,i,o,n){var r;return x(this,void 0,void 0,function*(){let a={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,referer:"https://www.youtube.com",currentUrl:`/watch?v=${e}`,autonavState:"STATE_NONE",signatureTimestamp:((r=u(this,Ai,"f").player)===null||r===void 0?void 0:r.sts)||0,autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"}},attestationRequest:{omitBotguardData:!0},videoId:e};o&&(a.client=o),i&&(a.cpn=i),n&&(a.playlistId=n);let d=yield u(this,Ai,"f").http.fetch("/player",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});return u(this,js,"m",c0).call(this,d)})}stats(e,i,o){return x(this,void 0,void 0,function*(){let n=new URL(e);n.searchParams.set("ver","2"),n.searchParams.set("c",i.client_name.toLowerCase()),n.searchParams.set("cbrver",i.client_version),n.searchParams.set("cver",i.client_version);for(let a of Object.keys(o))n.searchParams.set(a,o[a]);return yield u(this,Ai,"f").http.fetch(n)})}execute(e,i){var o,n;return x(this,void 0,void 0,function*(){let r;if(i&&!i.protobuf){if(r=Object.assign({},i),Reflect.has(r,"browseId")&&u(this,js,"m",Bw).call(this,r.browseId)&&!u(this,Ai,"f").logged_in)throw new g("You must be signed in to perform this operation.");Reflect.has(r,"override_endpoint")&&delete r.override_endpoint,Reflect.has(r,"parse")&&delete r.parse,Reflect.has(r,"request")&&delete r.request,Reflect.has(r,"clientActions")&&delete r.clientActions,Reflect.has(r,"settingItemIdForClient")&&delete r.settingItemIdForClient,Reflect.has(r,"action")&&(r.actions=[r.action],delete r.action),Reflect.has(r,"boolValue")&&(r.newValue={boolValue:r.boolValue},delete r.boolValue),Reflect.has(r,"token")&&(r.continuation=r.token,delete r.token),(r==null?void 0:r.client)==="YTMUSIC"&&(r.isAudioOnly=!0)}else i&&(r=i.serialized_data);let a=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,d=yield u(this,Ai,"f").http.fetch(a,{method:"POST",body:i!=null&&i.protobuf?r:JSON.stringify(r||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let f=p.parseResponse(yield d.json());if(u(this,js,"m",Ow).call(this,f)&&((n=(o=f.on_response_received_actions)===null||o===void 0?void 0:o.first())===null||n===void 0?void 0:n.type)==="navigateAction"){let h=f.on_response_received_actions.firstOfType(Eo);h&&(f=yield h.endpoint.call(this,{parse:!0}))}return f}return u(this,js,"m",c0).call(this,d)})}};s(H_,"Actions");Ai=new WeakMap,js=new WeakSet,c0=s(function(e){return x(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),Ow=s(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),Bw=s(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var d0=H_;var Us,Ws,Wp,Jp,Xe=class{constructor(e,i,o,n){Us.set(this,void 0),Ws.set(this,void 0),Wp.set(this,void 0),Jp.set(this,void 0),I(this,Us,o,"f"),I(this,Ws,i,"f"),I(this,Wp,e,"f"),I(this,Jp,n,"f")}static create(e,i=O.shim.fetch){return x(this,void 0,void 0,function*(){let o=new URL("/iframe_api",F.URLS.YT_BASE),n=yield i(o);if(n.status!==200)throw new et("Failed to request player id");let r=yield n.text(),a=Je(r,"player\\/","\\/");if(!a)throw new et("Failed to get player id");if(e){let T=yield Xe.fromCache(e,a);if(T)return T}let d=new URL(`/s/player/${a}/player_ias.vflset/en_US/base.js`,F.URLS.YT_BASE),f=yield i(d,{headers:{"user-agent":Bi("desktop")}});if(!f.ok)throw new et(`Failed to get player data: ${f.status}`);let h=yield f.text(),_=this.extractSigTimestamp(h),b=this.extractSigSourceCode(h),y=this.extractNSigSourceCode(h);return yield Xe.fromSource(e,_,b,y,a)})}decipher(e,i,o){if(e=e||i||o,!e)throw new et("No valid URL to decipher");let n=new URLSearchParams(e),r=new URL(n.get("url")||e);if(i||o){let d=O.shim.eval(u(this,Ws,"f"),{sig:n.get("s")});if(typeof d!="string")throw new et("Failed to decipher signature");let f=n.get("sp");f?r.searchParams.set(f,d):r.searchParams.set("signature",d)}let a=r.searchParams.get("n");if(a){let d=O.shim.eval(u(this,Us,"f"),{nsig:a});if(typeof d!="string")throw new et("Failed to decipher nsig");d.startsWith("enhanced_except_")&&console.warn(`Warning:
Could not transform nsig, download may be throttled.
Changing the InnerTube client to "ANDROID" might help!`),r.searchParams.set("n",d)}return r.toString()}static fromCache(e,i){return x(this,void 0,void 0,function*(){let o=yield e.get(i);if(!o)return null;let n=new DataView(o);if(n.getUint32(0,!0)!==Xe.LIBRARY_VERSION)return null;let a=n.getUint32(4,!0),d=n.getUint32(8,!0),f=o.slice(12,12+d),h=o.slice(12+d),_=new TextDecoder,b=_.decode(f),y=_.decode(h);return new Xe(a,b,y,i)})}static fromSource(e,i,o,n,r){return x(this,void 0,void 0,function*(){let a=new Xe(i,o,n,r);return yield a.cache(e),a})}cache(e){return x(this,void 0,void 0,function*(){if(!e)return;let i=new TextEncoder,o=i.encode(u(this,Ws,"f")),n=i.encode(u(this,Us,"f")),r=new ArrayBuffer(12+o.byteLength+n.byteLength),a=new DataView(r);a.setUint32(0,Xe.LIBRARY_VERSION,!0),a.setUint32(4,u(this,Wp,"f"),!0),a.setUint32(8,o.byteLength,!0),new Uint8Array(r).set(o,12),new Uint8Array(r).set(n,12+o.byteLength),yield e.set(u(this,Jp,"f"),new Uint8Array(r))})}static extractSigTimestamp(e){return parseInt(Je(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,o,n;let r=Je(e,'function(a){a=a.split("")','return a.join("")}'),a=(n=(o=(i=r==null?void 0:r.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.replace(";",""))===null||n===void 0?void 0:n.trim(),d=Je(e,`var ${a}={`,"};");return(!d||!r)&&console.warn(new et("Failed to extract signature decipher algorithm")),`function descramble_sig(a) { a = a.split(""); let ${a}={${d}}${r} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=`function descramble_nsig(a) { let b=a.split("")${Je(e,'b=a.split("")','}return b.join("")}')}} return b.join(""); } descramble_nsig(nsig)`;return i||console.warn(new et("Failed to extract n-token decipher algorithm")),i}get url(){return new URL(`/s/player/${u(this,Jp,"f")}/player_ias.vflset/en_US/base.js`,F.URLS.YT_BASE).toString()}get sts(){return u(this,Wp,"f")}get nsig_sc(){return u(this,Us,"f")}get sig_sc(){return u(this,Ws,"f")}static get LIBRARY_VERSION(){return 2}};s(Xe,"Player");Us=new WeakMap,Ws=new WeakMap,Wp=new WeakMap,Jp=new WeakMap;var Vi,Qo,we,_e,G_,Dw,f0,Fw,Lw,p0,z_=class{constructor(e){Vi.add(this),Qo.set(this,void 0),we.set(this,void 0),_e.set(this,void 0),G_.set(this,5),I(this,we,e,"f")}init(e){return x(this,void 0,void 0,function*(){I(this,_e,e,"f"),this.validateCredentials()?this.has_access_token_expired||u(this,we,"f").emit("auth",{credentials:u(this,_e,"f"),status:"SUCCESS"}):(yield u(this,Vi,"m",Dw).call(this))||(yield u(this,Vi,"m",f0).call(this))})}cacheCredentials(){var e;return x(this,void 0,void 0,function*(){let o=new TextEncoder().encode(JSON.stringify(u(this,_e,"f")));yield(e=u(this,we,"f").cache)===null||e===void 0?void 0:e.set("youtubei_oauth_credentials",o.buffer)})}removeCache(){var e;return x(this,void 0,void 0,function*(){yield(e=u(this,we,"f").cache)===null||e===void 0?void 0:e.remove("youtubei_oauth_credentials")})}refreshIfRequired(){return x(this,void 0,void 0,function*(){this.has_access_token_expired&&(yield u(this,Vi,"m",Lw).call(this))})}revokeCredentials(){return x(this,void 0,void 0,function*(){if(!!u(this,_e,"f"))return yield this.removeCache(),u(this,we,"f").http.fetch_function(new URL(`/o/oauth2/revoke?token=${encodeURIComponent(u(this,_e,"f").access_token)}`,F.URLS.YT_BASE),{method:"post"})})}get credentials(){return u(this,_e,"f")}get has_access_token_expired(){let e=u(this,_e,"f")?new Date(u(this,_e,"f").expires).getTime():-1/0;return new Date().getTime()>e}validateCredentials(){return u(this,_e,"f")&&Reflect.has(u(this,_e,"f"),"access_token")&&Reflect.has(u(this,_e,"f"),"refresh_token")&&Reflect.has(u(this,_e,"f"),"expires")||!1}};s(z_,"OAuth");Qo=new WeakMap,we=new WeakMap,_e=new WeakMap,G_=new WeakMap,Vi=new WeakSet,Dw=s(function(){var e;return x(this,void 0,void 0,function*(){let i=yield(e=u(this,we,"f").cache)===null||e===void 0?void 0:e.get("youtubei_oauth_credentials");if(!i)return!1;let o=new TextDecoder,n=JSON.parse(o.decode(i));return I(this,_e,{access_token:n.access_token,refresh_token:n.refresh_token,expires:new Date(n.expires)},"f"),u(this,we,"f").emit("auth",{credentials:u(this,_e,"f"),status:"SUCCESS"}),!0})},"_OAuth_loadCachedCredentials"),f0=s(function(){return x(this,void 0,void 0,function*(){I(this,Qo,yield u(this,Vi,"m",p0).call(this),"f");let e={client_id:u(this,Qo,"f").client_id,scope:F.OAUTH.SCOPE,device_id:O.shim.uuidv4(),model_name:F.OAUTH.MODEL_NAME},o=yield(yield u(this,we,"f").http.fetch_function(new URL("/o/oauth2/device/code",F.URLS.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json();u(this,we,"f").emit("auth-pending",o),I(this,G_,o.interval,"f"),u(this,Vi,"m",Fw).call(this,o.device_code)})},"_OAuth_getUserCode"),Fw=s(function(e){let i=setInterval(()=>x(this,void 0,void 0,function*(){let o=Object.assign(Object.assign({},u(this,Qo,"f")),{code:e,grant_type:F.OAUTH.GRANT_TYPE});try{let r=yield(yield u(this,we,"f").http.fetch_function(new URL("/o/oauth2/token",F.URLS.YT_BASE),{body:JSON.stringify(o),method:"POST",headers:{"Content-Type":"application/json"}})).json();if(r.error){switch(r.error){case"access_denied":u(this,we,"f").emit("auth-error",new Wt("Access was denied.",{status:"ACCESS_DENIED"}));break;case"expired_token":u(this,we,"f").emit("auth-error",new Wt("The device code has expired, restarting auth flow.",{status:"DEVICE_CODE_EXPIRED"})),clearInterval(i),u(this,Vi,"m",f0).call(this);break;default:break}return}let a=new Date(new Date().getTime()+r.expires_in*1e3);I(this,_e,{access_token:r.access_token,refresh_token:r.refresh_token,expires:a},"f"),u(this,we,"f").emit("auth",{credentials:u(this,_e,"f"),status:"SUCCESS"}),clearInterval(i)}catch(n){return clearInterval(i),u(this,we,"f").emit("auth-error",new Wt("Could not obtain user code.",{status:"FAILED",error:n}))}}),u(this,G_,"f")*1e3)},"_OAuth_startPolling"),Lw=s(function(){return x(this,void 0,void 0,function*(){if(!u(this,_e,"f"))return;I(this,Qo,yield u(this,Vi,"m",p0).call(this),"f");let e=Object.assign(Object.assign({},u(this,Qo,"f")),{refresh_token:u(this,_e,"f").refresh_token,grant_type:"refresh_token"}),o=yield(yield u(this,we,"f").http.fetch_function(new URL("/o/oauth2/token",F.URLS.YT_BASE),{body:JSON.stringify(e),method:"POST",headers:{"Content-Type":"application/json"}})).json(),n=new Date(new Date().getTime()+o.expires_in*1e3);I(this,_e,{access_token:o.access_token,refresh_token:o.refresh_token||u(this,_e,"f").refresh_token,expires:n},"f"),u(this,we,"f").emit("update-credentials",{credentials:u(this,_e,"f"),status:"SUCCESS"})})},"_OAuth_refreshAccessToken"),p0=s(function(){var e;return x(this,void 0,void 0,function*(){let o=yield(yield u(this,we,"f").http.fetch_function(new URL("/tv",F.URLS.YT_BASE),{headers:F.OAUTH.HEADERS})).text(),n=(e=F.OAUTH.REGEX.AUTH_SCRIPT.exec(o))===null||e===void 0?void 0:e[1];if(!n)throw new Wt("Could not obtain script url.",{status:"FAILED"});let a=(yield(yield u(this,we,"f").http.fetch(n,{baseURL:F.URLS.YT_BASE})).text()).replace(/\n/g,"").match(F.OAUTH.REGEX.CLIENT_IDENTITY),d=a==null?void 0:a.groups;if(!d)throw new Wt("Could not obtain client identity.",{status:"FAILED"});return d})},"_OAuth_getClientIdentity");var h0=z_;var m0,K_,$_,Zo,q_,X_,Yw,jw,Q_;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(Q_=Q_||(Q_={}));var Nt=class extends ui{constructor(e,i,o,n,r,a,d,f){super(),K_.set(this,void 0),$_.set(this,void 0),Zo.set(this,void 0),q_.set(this,void 0),X_.set(this,void 0),I(this,Zo,e,"f"),I(this,q_,n,"f"),I(this,$_,i,"f"),I(this,K_,o,"f"),I(this,X_,r,"f"),this.http=new zo(this,a,d),this.actions=new d0(this),this.oauth=new h0(this),this.logged_in=!!a,this.cache=f}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(e={}){return x(this,void 0,void 0,function*(){let{context:i,api_key:o,api_version:n,account_index:r}=yield Nt.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch);return new Nt(i,o,n,r,e.retrieve_player===!1?void 0:yield Xe.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static getSessionData(e="",i="",o=0,n="",r=!1,a=!1,d="desktop",f=Q_.WEB,h=Intl.DateTimeFormat().resolvedOptions().timeZone,_=O.shim.fetch){return x(this,void 0,void 0,function*(){let b;return a?b=u(this,m0,"m",jw).call(this,{lang:e,location:i,time_zone:h,device_category:d,client_name:f,enable_safety_mode:r,visitor_data:n}):b=yield u(this,m0,"m",Yw).call(this,{lang:e,location:i,time_zone:h,device_category:d,client_name:f,enable_safety_mode:r,visitor_data:n},_),Object.assign(Object.assign({},b),{account_index:o})})}signIn(e){return x(this,void 0,void 0,function*(){return new Promise((i,o)=>x(this,void 0,void 0,function*(){let n=s(r=>o(r),"error_handler");this.once("auth",r=>{this.off("auth-error",n),r.status==="SUCCESS"&&(this.logged_in=!0,i()),o(r)}),this.once("auth-error",n);try{yield this.oauth.init(e),this.oauth.validateCredentials()&&(yield this.oauth.refreshIfRequired(),this.logged_in=!0,i())}catch(r){o(r)}}))})}signOut(){return x(this,void 0,void 0,function*(){if(!this.logged_in)throw new g("You must be signed in to perform this operation.");let e=yield this.oauth.revokeCredentials();return this.logged_in=!1,e})}get key(){return u(this,$_,"f")}get api_version(){return u(this,K_,"f")}get client_version(){return u(this,Zo,"f").client.clientVersion}get client_name(){return u(this,Zo,"f").client.clientName}get account_index(){return u(this,q_,"f")}get context(){return u(this,Zo,"f")}get player(){return u(this,X_,"f")}get lang(){return u(this,Zo,"f").client.hl}};s(Nt,"Session");m0=Nt,K_=new WeakMap,$_=new WeakMap,Zo=new WeakMap,q_=new WeakMap,X_=new WeakMap,Yw=s(function(e,i=O.shim.fetch){return x(this,void 0,void 0,function*(){let o=new URL("/sw.js_data",F.URLS.YT_BASE),n=F.CLIENTS.WEB.STATIC_VISITOR_ID;e.visitor_data&&(n=fe.decodeVisitorData(e.visitor_data).id);let r=yield i(o,{headers:{"accept-language":e.lang||"en-US","user-agent":Bi("desktop"),accept:"*/*",referer:"https://www.youtube.com/sw.js",cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${n};`}});if(!r.ok)throw new on(`Failed to retrieve session data: ${r.status}`);let a=yield r.text(),f=JSON.parse(a.replace(/^\)\]\}'/,""))[0][2],h=`v${f[0][0][6]}`,[[_],b]=f;return{context:{client:{hl:_[0],gl:e.location||_[2],remoteHost:_[3],screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:_[13],userAgent:_[14],clientName:e.client_name,clientVersion:_[16],osName:_[17],osVersion:_[18],platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:_[79]||e.time_zone,browserName:_[86],browserVersion:_[87],originalUrl:F.URLS.YT_BASE,deviceMake:_[11],deviceModel:_[12],utcOffsetMinutes:new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0}},api_key:b,api_version:h}})},"_Session_retrieveSessionData"),jw=s(function(e){let i=F.CLIENTS.WEB.STATIC_VISITOR_ID;return e.visitor_data&&(i=fe.decodeVisitorData(e.visitor_data).id),{context:{client:{hl:e.lang||"en",gl:e.location||"US",screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:fe.encodeVisitorData(i,Math.floor(Date.now()/1e3)),userAgent:Bi("desktop"),clientName:e.client_name,clientVersion:gt.WEB.VERSION,osName:"Windows",osVersion:"10.0",platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:F.URLS.YT_BASE,deviceMake:"",deviceModel:"",utcOffsetMinutes:new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0}},api_key:gt.WEB.API_KEY,api_version:gt.WEB.API_VERSION}},"_Session_generateSessionData");var io=class extends Fo{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new g("Unexpected response",this.page);let o=this.page.contents_memo.getType(le).first();if(!o.content)throw new g("Content tab has no content",o);this.page.header&&(this.header=this.page.header.item().as(Bh)),this.contents=o.content.as(Ji)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return x(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new io(this.actions,o.page)})}};s(io,"HashtagFeed");var rt,Z_=class{constructor(e){rt.set(this,void 0),I(this,rt,e,"f"),this.channel={editName:i=>{if(!u(this,rt,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");return u(this,rt,"f").execute("/channel/edit_name",{givenName:i,client:"ANDROID"})},editDescription:i=>{if(!u(this,rt,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");return u(this,rt,"f").execute("/channel/edit_description",{givenDescription:i,client:"ANDROID"})},getBasicAnalytics:()=>this.getAnalytics()}}getInfo(){return x(this,void 0,void 0,function*(){if(!u(this,rt,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let e=yield u(this,rt,"f").execute("/account/accounts_list",{client:"ANDROID"});return new i_(e)})}getTimeWatched(){return x(this,void 0,void 0,function*(){let e=yield u(this,rt,"f").execute("/browse",{browseId:"SPtime_watched",client:"ANDROID"});return new k_(e)})}getSettings(){return x(this,void 0,void 0,function*(){let e=yield u(this,rt,"f").execute("/browse",{browseId:"SPaccount_overview"});return new T_(u(this,rt,"f"),e)})}getAnalytics(){var e;return x(this,void 0,void 0,function*(){let i=yield this.getInfo(),o=fe.encodeChannelAnalyticsParams((e=i.footers)===null||e===void 0?void 0:e.endpoint.payload.browseId),n=yield u(this,rt,"f").execute("/browse",{browseId:"FEanalytics_screen",client:"ANDROID",params:o});return new n_(n)})}};s(Z_,"AccountManager");rt=new WeakMap;var _0=Z_;var Ee,ev=class{constructor(e){Ee.set(this,void 0),I(this,Ee,e,"f")}like(e){return x(this,void 0,void 0,function*(){if(te({video_id:e}),!u(this,Ee,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Ee,"f").execute("/like/like",{client:"ANDROID",target:{videoId:e}})})}dislike(e){return x(this,void 0,void 0,function*(){if(te({video_id:e}),!u(this,Ee,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Ee,"f").execute("/like/dislike",{client:"ANDROID",target:{videoId:e}})})}removeRating(e){return x(this,void 0,void 0,function*(){if(te({video_id:e}),!u(this,Ee,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Ee,"f").execute("/like/removelike",{client:"ANDROID",target:{videoId:e}})})}subscribe(e){return x(this,void 0,void 0,function*(){if(te({channel_id:e}),!u(this,Ee,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Ee,"f").execute("/subscription/subscribe",{client:"ANDROID",channelIds:[e],params:"EgIIAhgA"})})}unsubscribe(e){return x(this,void 0,void 0,function*(){if(te({channel_id:e}),!u(this,Ee,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Ee,"f").execute("/subscription/unsubscribe",{client:"ANDROID",channelIds:[e],params:"CgIIAhgA"})})}comment(e,i){return x(this,void 0,void 0,function*(){if(te({video_id:e,text:i}),!u(this,Ee,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield u(this,Ee,"f").execute("/comment/create_comment",{client:"ANDROID",commentText:i,createCommentParams:fe.encodeCommentParams(e)})})}translate(e,i,o={}){return x(this,void 0,void 0,function*(){te({text:e,target_language:i});let n=fe.encodeCommentActionParams(22,Object.assign({text:e,target_language:i},o)),r=yield u(this,Ee,"f").execute("/comment/perform_comment_action",{client:"ANDROID",actions:[n]}),a=r.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:r.success,status_code:r.status_code,translated_content:a.translatedContent.content,data:r.data}})}setNotificationPreferences(e,i){return x(this,void 0,void 0,function*(){if(te({channel_id:e,type:i}),!u(this,Ee,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");let o={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(o).includes(i.toUpperCase()))throw new Error(`Invalid notification preference type: ${i}`);return yield u(this,Ee,"f").execute("/notification/modify_channel_preference",{client:"WEB",params:fe.encodeNotificationPref(e,o[i.toUpperCase()])})})}};s(ev,"InteractionManager");Ee=new WeakMap;var v0=ev;var at,tv=class{constructor(e){at.set(this,void 0),I(this,at,e,"f")}search(e){return x(this,void 0,void 0,function*(){let i=yield u(this,at,"f").actions.execute("/search",{query:e,client:"YTKIDS"});return new U_(u(this,at,"f").actions,i)})}getInfo(e){var i;return x(this,void 0,void 0,function*(){let o=oi(16),n=u(this,at,"f").actions.execute("/player",{cpn:o,client:"YTKIDS",videoId:e,playbackContext:{contentPlaybackContext:{signatureTimestamp:((i=u(this,at,"f").player)===null||i===void 0?void 0:i.sts)||0}}}),r=u(this,at,"f").actions.execute("/next",{videoId:e,client:"YTKIDS"}),a=yield Promise.all([n,r]);return new J_(a,u(this,at,"f").actions,o)})}getChannel(e){return x(this,void 0,void 0,function*(){let i=yield u(this,at,"f").actions.execute("/browse",{browseId:e,client:"YTKIDS"});return new L_(u(this,at,"f").actions,i)})}getHomeFeed(){return x(this,void 0,void 0,function*(){let e=yield u(this,at,"f").actions.execute("/browse",{browseId:"FEkids_home",client:"YTKIDS"});return new Y_(u(this,at,"f").actions,e)})}};s(tv,"Kids");at=new WeakMap;var g0=tv;var iv,Hp,re,Uw,Ww,ov=class{constructor(e){iv.add(this),Hp.set(this,void 0),re.set(this,void 0),I(this,Hp,e,"f"),I(this,re,e.actions,"f")}getInfo(e){if(e instanceof ns)return u(this,iv,"m",Ww).call(this,e);if(typeof e=="string")return u(this,iv,"m",Uw).call(this,e);throw new g("Invalid target, expected either a video id or a valid MusicTwoRowItem",e)}search(e,i={}){return x(this,void 0,void 0,function*(){te({query:e});let o={query:e,client:"YTMUSIC"};i.type&&i.type!=="all"&&(o.params=fe.encodeMusicSearchFilters(i));let n=yield u(this,re,"f").execute("/search",o);return new Ct(n,u(this,re,"f"),Reflect.has(i,"type")&&i.type!=="all")})}getHomeFeed(){return x(this,void 0,void 0,function*(){let e=yield u(this,re,"f").execute("/browse",{client:"YTMUSIC",browseId:"FEmusic_home"});return new R_(e,u(this,re,"f"))})}getExplore(){return x(this,void 0,void 0,function*(){let e=yield u(this,re,"f").execute("/browse",{client:"YTMUSIC",browseId:"FEmusic_explore"});return new V_(e)})}getLibrary(){return x(this,void 0,void 0,function*(){let e=yield u(this,re,"f").execute("/browse",{client:"YTMUSIC",browseId:"FEmusic_library_landing"});return new O_(e,u(this,re,"f"))})}getArtist(e){return x(this,void 0,void 0,function*(){if(te({artist_id:e}),!e.startsWith("UC")&&!e.startsWith("FEmusic_library_privately_owned_artist"))throw new g("Invalid artist id",e);let i=yield u(this,re,"f").execute("/browse",{client:"YTMUSIC",browseId:e});return new M_(i,u(this,re,"f"))})}getAlbum(e){return x(this,void 0,void 0,function*(){if(te({album_id:e}),!e.startsWith("MPR")&&!e.startsWith("FEmusic_library_privately_owned_release"))throw new g("Invalid album id",e);let i=yield u(this,re,"f").execute("/browse",{client:"YTMUSIC",browseId:e});return new N_(i)})}getPlaylist(e){return x(this,void 0,void 0,function*(){te({playlist_id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield u(this,re,"f").execute("/browse",{client:"YTMUSIC",browseId:e});return new Os(i,u(this,re,"f"))})}getUpNext(e,i=!0){var o,n,r;return x(this,void 0,void 0,function*(){te({video_id:e});let d=(o=(yield u(this,re,"f").execute("/next",{videoId:e,client:"YTMUSIC",parse:!0})).contents_memo)===null||o===void 0?void 0:o.getType(le),f=d==null?void 0:d.first();if(!f)throw new g("Could not find target tab.");let h=(n=f.content)===null||n===void 0?void 0:n.as(rs);if(!h||!h.content)throw new g("Music queue was empty, the given id is probably invalid.",h);let _=h.content.as($t);if(!_.playlist_id&&i){let b=_.contents.firstOfType(Li);if(!b)throw new g("Automix item not found");let y=yield(r=b.playlist_video)===null||r===void 0?void 0:r.endpoint.call(u(this,re,"f"),{videoId:e,client:"YTMUSIC",parse:!0});if(!y||!y.contents_memo)throw new g("Could not fetch automix");return y.contents_memo.getType($t).first()}return _})}getRelated(e){var i;return x(this,void 0,void 0,function*(){te({video_id:e});let n=(i=(yield u(this,re,"f").execute("/next",{videoId:e,client:"YTMUSIC",parse:!0})).contents_memo)===null||i===void 0?void 0:i.getType(le),r=n==null?void 0:n.matchCondition(f=>{var h,_;return((_=(h=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||h===void 0?void 0:h.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_RELATED"});if(!r)throw new g("Could not find target tab.");let a=yield r.endpoint.call(u(this,re,"f"),{client:"YTMUSIC",parse:!0});if(!a.contents)throw new g("Unexpected response",a);return a.contents.item().as(Z).contents.as(be,To)})}getLyrics(e){var i;return x(this,void 0,void 0,function*(){te({video_id:e});let n=(i=(yield u(this,re,"f").execute("/next",{videoId:e,client:"YTMUSIC",parse:!0})).contents_memo)===null||i===void 0?void 0:i.getType(le),r=n==null?void 0:n.matchCondition(f=>{var h,_;return((_=(h=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||h===void 0?void 0:h.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_LYRICS"});if(!r)throw new g("Could not find target tab.");let a=yield r.endpoint.call(u(this,re,"f"),{client:"YTMUSIC",parse:!0});if(!a.contents)throw new g("Unexpected response",a);if(a.contents.item().key("type").string()==="Message")throw new g(a.contents.item().as(Oe).text,e);return a.contents.item().as(Z).contents.firstOfType(To)})}getRecap(){return x(this,void 0,void 0,function*(){let e=yield u(this,re,"f").execute("/browse",{browseId:"FEmusic_listening_review",client:"YTMUSIC_ANDROID"});return new F_(e,u(this,re,"f"))})}getSearchSuggestions(e){var i,o;return x(this,void 0,void 0,function*(){let r=(o=(i=(yield u(this,re,"f").execute("/music/get_search_suggestions",{parse:!0,input:e,client:"YTMUSIC"})).contents_memo)===null||i===void 0?void 0:i.getType(Dm))===null||o===void 0?void 0:o[0];return r!=null&&r.contents.is_array?r==null?void 0:r.contents.array():ve([])})}};s(ov,"Music");Hp=new WeakMap,re=new WeakMap,iv=new WeakSet,Uw=s(function(e){var i;return x(this,void 0,void 0,function*(){let o=oi(16),n=u(this,re,"f").execute("/player",{cpn:o,client:"YTMUSIC",videoId:e,playbackContext:{contentPlaybackContext:{signatureTimestamp:((i=u(this,Hp,"f").player)===null||i===void 0?void 0:i.sts)||0}}}),r=u(this,re,"f").execute("/next",{client:"YTMUSIC",videoId:e}),a=yield Promise.all([n,r]);return new Up(a,u(this,re,"f"),o)})},"_Music_fetchInfoFromVideoId"),Ww=s(function(e){var i;return x(this,void 0,void 0,function*(){if(!e)throw new g("List item cannot be undefined");if(!e.endpoint)throw new Error("This item does not have an endpoint.");let o=oi(16),n=e.endpoint.call(u(this,re,"f"),{cpn:o,client:"YTMUSIC",playbackContext:{contentPlaybackContext:{signatureTimestamp:((i=u(this,Hp,"f").player)===null||i===void 0?void 0:i.sts)||0}}}),r=e.endpoint.call(u(this,re,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),a=yield Promise.all([n,r]);return new Up(a,u(this,re,"f"),o)})},"_Music_fetchInfoFromListItem");var y0=ov;var Ae,nv=class{constructor(e){Ae.set(this,void 0),I(this,Ae,e,"f")}create(e,i){return x(this,void 0,void 0,function*(){if(te({title:e,video_ids:i}),!u(this,Ae,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let o=yield u(this,Ae,"f").execute("/playlist/create",{title:e,ids:i,parse:!1});return{success:o.success,status_code:o.status_code,playlist_id:o.data.playlistId,data:o.data}})}delete(e){return x(this,void 0,void 0,function*(){if(te({playlist_id:e}),!u(this,Ae,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let i=yield u(this,Ae,"f").execute("playlist/delete",{playlistId:e});return{playlist_id:e,success:i.success,status_code:i.status_code,data:i.data}})}addVideos(e,i){return x(this,void 0,void 0,function*(){if(te({playlist_id:e,video_ids:i}),!u(this,Ae,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let o=yield u(this,Ae,"f").execute("/browse/edit_playlist",{playlistId:e,actions:i.map(n=>({action:"ACTION_ADD_VIDEO",addedVideoId:n})),parse:!1});return{playlist_id:e,action_result:o.data.actions}})}removeVideos(e,i){return x(this,void 0,void 0,function*(){if(te({playlist_id:e,video_ids:i}),!u(this,Ae,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let o=yield u(this,Ae,"f").execute("/browse",{browseId:`VL${e}`,parse:!0}),n=new ki(u(this,Ae,"f"),o,!0);if(!n.info.is_editable)throw new g("This playlist cannot be edited.",e);let r={playlistId:e,actions:[]},a=s(f=>x(this,void 0,void 0,function*(){if(f.videos.filter(_=>i.includes(_.key("id").string())).forEach(_=>r.actions.push({action:"ACTION_REMOVE_VIDEO",setVideoId:_.key("set_video_id").string()})),r.actions.length<i.length){let _=yield f.getContinuation();return a(_)}}),"getSetVideoIds");if(yield a(n),!r.actions.length)throw new g("Given video ids were not found in this playlist.",i);let d=yield u(this,Ae,"f").execute("/browse/edit_playlist",Object.assign(Object.assign({},r),{parse:!1}));return{playlist_id:e,action_result:d.data.actions}})}moveVideo(e,i,o){return x(this,void 0,void 0,function*(){if(te({playlist_id:e,moved_video_id:i,predecessor_video_id:o}),!u(this,Ae,"f").session.logged_in)throw new g("You must be signed in to perform this operation.");let n=yield u(this,Ae,"f").execute("/browse",{browseId:`VL${e}`,parse:!0}),r=new ki(u(this,Ae,"f"),n,!0);if(!r.info.is_editable)throw new g("This playlist cannot be edited.",e);let a={playlistId:e,actions:[]},d,f,h=s(b=>x(this,void 0,void 0,function*(){let y=b.videos.find(k=>i===k.key("id").string()),T=b.videos.find(k=>o===k.key("id").string());if(d=d||(y==null?void 0:y.key("set_video_id").string()),f=f||(T==null?void 0:T.key("set_video_id").string()),!d||!f){let k=yield b.getContinuation();return h(k)}}),"getSetVideoIds");yield h(r),a.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",setVideoId:d,movedSetVideoIdPredecessor:f});let _=yield u(this,Ae,"f").execute("/browse/edit_playlist",Object.assign(Object.assign({},a),{parse:!1}));return{playlist_id:e,action_result:_.data.actions}})}};s(nv,"PlaylistManager");Ae=new WeakMap;var x0=nv;var Gp,Et,Jw,Hw,Gw,sv=class{constructor(e){Gp.add(this),Et.set(this,void 0),I(this,Et,e,"f")}setThumbnail(e,i){return x(this,void 0,void 0,function*(){if(!u(this,Et,"f").logged_in)throw new g("You must be signed in to perform this operation.");if(!e||!i)throw new so("One or more parameters are missing.");let o=fe.encodeCustomThumbnailPayload(e,i);return yield u(this,Et,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}updateVideoMetadata(e,i){return x(this,void 0,void 0,function*(){if(!u(this,Et,"f").logged_in)throw new g("You must be signed in to perform this operation.");let o=fe.encodeVideoMetadataPayload(e,i);return yield u(this,Et,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}upload(e,i={}){return x(this,void 0,void 0,function*(){if(!u(this,Et,"f").logged_in)throw new g("You must be signed in to perform this operation.");let o=yield u(this,Gp,"m",Jw).call(this),n=yield u(this,Gp,"m",Hw).call(this,o.upload_url,e);if(n.status!=="STATUS_SUCCESS")throw new g("Could not process video.");return yield u(this,Gp,"m",Gw).call(this,o,n,i)})}};s(sv,"Studio");Et=new WeakMap,Gp=new WeakSet,Jw=s(function(){return x(this,void 0,void 0,function*(){let e=`innertube_android:${O.shim.uuidv4()}:0:v=3,api=1,cf=3`,i={frontendUploadId:e,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${O.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},o=yield u(this,Et,"f").http.fetch("/upload/youtubei",{baseURL:ai.URLS.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(i)});if(!o.ok)throw new g("Could not get initial upload data");return{frontend_upload_id:e,upload_id:o.headers.get("x-guploader-uploadid"),upload_url:o.headers.get("x-goog-upload-url"),scotty_resource_id:o.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:o.headers.get("x-goog-upload-chunk-granularity")}})},"_Studio_getInitialUploadData"),Hw=s(function(e,i){return x(this,void 0,void 0,function*(){let o=yield u(this,Et,"f").http.fetch_function(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:i});if(!o.ok)throw new g("Could not upload video");return yield o.json()})},"_Studio_uploadVideo"),Gw=s(function(e,i,o){return x(this,void 0,void 0,function*(){let n={resourceId:{scottyResourceId:{id:i.scottyResourceId}},frontendUploadId:e.frontend_upload_id,initialMetadata:{title:{newTitle:o.title||new Date().toDateString()},description:{newDescription:o.description||"",shouldSegment:!0},privacy:{newPrivacy:o.privacy||"PRIVATE"},draftState:{isDraft:o.is_draft||!1}}};return yield u(this,Et,"f").actions.execute("/upload/createvideo",Object.assign({client:"ANDROID"},n))})},"_Studio_setVideoMetadata");var b0=sv;var zp,Js=class{constructor(e){zp.set(this,void 0),I(this,zp,A.parseResponse(e),"f"),this.contents=u(this,zp,"f").items.array().as(xt,mi)}get page(){return u(this,zp,"f")}};s(Js,"Guide");zp=new WeakMap;var Qe,Ri=class{constructor(e){Qe.set(this,void 0),I(this,Qe,e,"f")}static create(e={}){return x(this,void 0,void 0,function*(){return new Ri(yield Nt.create(e))})}getInfo(e,i){var o;return x(this,void 0,void 0,function*(){te({target:e});let n;if(e instanceof v){let h=(o=e.payload)===null||o===void 0?void 0:o.videoId;if(!h)throw new g("Missing video id in endpoint payload.",e);n={videoId:h},e.payload.playlistId&&(n.playlistId=e.payload.playlistId),e.payload.params&&(n.params=e.payload.params),e.payload.index&&(n.playlistIndex=e.payload.index)}else if(typeof e=="string")n={videoId:e};else throw new g("Invalid target, expected either a video id or a valid NavigationEndpoint",e);let r=oi(16),a=this.actions.getVideoInfo(n.videoId,r,i),d=this.actions.execute("/next",n),f=yield Promise.all([a,d]);return new Op(f,this.actions,r)})}getBasicInfo(e,i){return x(this,void 0,void 0,function*(){te({video_id:e});let o=oi(16),n=yield this.actions.getVideoInfo(e,o,i);return new Op([n],this.actions,o)})}search(e,i={}){return x(this,void 0,void 0,function*(){te({query:e});let o=Object.assign({query:e},{params:i?fe.encodeSearchFilters(i):void 0}),n=yield this.actions.execute("/search",o);return new w_(this.actions,n)})}getSearchSuggestions(e){return x(this,void 0,void 0,function*(){te({query:e});let i=new URL(`${F.URLS.YT_SUGGESTIONS}search`);i.searchParams.set("q",e),i.searchParams.set("hl",u(this,Qe,"f").context.client.hl),i.searchParams.set("gl",u(this,Qe,"f").context.client.gl),i.searchParams.set("ds","yt"),i.searchParams.set("client","youtube"),i.searchParams.set("xssi","t"),i.searchParams.set("oe","UTF");let n=yield(yield u(this,Qe,"f").http.fetch(i)).text();return JSON.parse(n.replace(")]}'",""))[1].map(d=>d[0])})}getComments(e,i){return x(this,void 0,void 0,function*(){te({video_id:e});let o=fe.encodeCommentsSectionParams(e,{sort_by:i||"TOP_COMMENTS"}),n=yield this.actions.execute("/next",{continuation:o});return new r_(this.actions,n.data)})}getHomeFeed(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute("/browse",{browseId:"FEwhat_to_watch"});return new It(this.actions,e)})}getGuide(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute("/guide");return new Js(e.data)})}getLibrary(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute("/browse",{browseId:"FElibrary"});return new f_(this.actions,e)})}getHistory(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute("/browse",{browseId:"FEhistory"});return new xs(this.actions,e)})}getTrending(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute("/browse",{browseId:"FEtrending",parse:!0});return new wp(this.actions,e)})}getSubscriptionsFeed(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute("/browse",{browseId:"FEsubscriptions",parse:!0});return new de(this.actions,e)})}getChannel(e){return x(this,void 0,void 0,function*(){te({id:e});let i=yield this.actions.execute("/browse",{browseId:e});return new ke(this.actions,i)})}getNotifications(){return x(this,void 0,void 0,function*(){let e=yield this.actions.execute("/notification/get_notification_menu",{notificationsMenuRequestType:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"});return new b_(this.actions,e)})}getUnseenNotificationsCount(){var e,i,o,n;return x(this,void 0,void 0,function*(){let r=yield this.actions.execute("/notification/get_unseen_count");return((e=r.data)===null||e===void 0?void 0:e.unseenCount)||((n=(o=(i=r.data)===null||i===void 0?void 0:i.actions)===null||o===void 0?void 0:o[0].updateNotificationsUnseenCountAction)===null||n===void 0?void 0:n.unseenCount)||0})}getPlaylist(e){return x(this,void 0,void 0,function*(){te({id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield this.actions.execute("/browse",{browseId:e});return new ki(this.actions,i)})}getHashtag(e){return x(this,void 0,void 0,function*(){te({hashtag:e});let i=fe.encodeHashtag(e),o=yield this.actions.execute("/browse",{browseId:"FEhashtag",params:i});return new io(this.actions,o)})}getStreamingData(e,i={}){return x(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e)).chooseFormat(i)})}download(e,i){return x(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}resolveURL(e){return x(this,void 0,void 0,function*(){return(yield this.actions.execute("/navigation/resolve_url",{url:e,parse:!0})).endpoint})}call(e,i){return e.call(this.actions,i)}get music(){return new y0(u(this,Qe,"f"))}get studio(){return new b0(u(this,Qe,"f"))}get kids(){return new g0(u(this,Qe,"f"))}get account(){return new _0(u(this,Qe,"f").actions)}get playlist(){return new x0(u(this,Qe,"f").actions)}get interact(){return new v0(u(this,Qe,"f").actions)}get actions(){return u(this,Qe,"f").actions}get session(){return u(this,Qe,"f")}};s(Ri,"Innertube");Qe=new WeakMap;var zw={};var Kw=Ri;var Kp,rv,av,uv,lv=class{constructor(e=!1,i){Kp.add(this),rv.set(this,void 0),av.set(this,void 0),I(this,rv,i||"","f"),I(this,av,e,"f")}get cache_dir(){return u(this,av,"f")?u(this,rv,"f"):""}get(e){return x(this,void 0,void 0,function*(){let i=yield u(this,Kp,"m",uv).call(this);if(!!i)return new Promise((o,n)=>{let r=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);r.onerror=n,r.onsuccess=function(){var a;let d=(a=this.result)===null||a===void 0?void 0:a.v;o(d?d.buffer:void 0)}})})}set(e,i){return x(this,void 0,void 0,function*(){let o=yield u(this,Kp,"m",uv).call(this);if(!!o)return new Promise((n,r)=>{let a=o.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});a.onerror=r,a.onsuccess=()=>n()})})}remove(e){return x(this,void 0,void 0,function*(){let i=yield u(this,Kp,"m",uv).call(this);if(!!i)return new Promise((o,n)=>{let r=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);r.onerror=n,r.onsuccess=()=>o()})})}};s(lv,"Cache");rv=new WeakMap,av=new WeakMap,Kp=new WeakSet,uv=s(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,o)=>{let n=e.open("youtubei.js",1);n.onsuccess=function(){i(this.result)},n.onerror=function(r){o("indexedDB request error"),console.error(r)},n.onupgradeneeded=function(){let r=this.result.createObjectStore("kv-store",{keyPath:"k"});r.transaction.oncomplete=function(){i(this.db)}}}):console.log("IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");O.load({runtime:"browser",server:!1,info:{version:sf.version,bugs_url:sf.bugs.url,repo_url:sf.homepage.split("#")[0]},Cache:lv,sha1Hash:xv,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},eval:Lv,DOMParser:globalThis.DOMParser,serializeDOM(t){return new XMLSerializer().serializeToString(t)},fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var tme=Kw;export{_0 as AccountManager,d0 as Actions,gp as AppendContinuationItemsAction,Q_ as ClientType,ai as Constants,hs as Continuation,ui as EventEmitter,de as Feed,Fo as FilterableFeed,Ap as FormatUtils,Xv as Generator,Ao as GridContinuation,zo as HTTPClient,fv as Helpers,Ri as Innertube,v0 as InteractionManager,No as ItemSectionContinuation,g0 as Kids,Vo as LiveChatContinuation,zv as Misc,y0 as Music,Mo as MusicPlaylistShelfContinuation,Ii as MusicShelfContinuation,Eo as NavigateAction,h0 as OAuth,p as Parser,O as Platform,Xe as Player,x0 as PlaylistManager,yp as PlaylistPanelContinuation,fe as Proto,Po as ReloadContinuationItemsCommand,nt as SectionListContinuation,Nt as Session,b0 as Studio,wp as TabbedFeed,zw as Types,Pp as UniversalCache,yv as Utils,r0 as YT,l0 as YTKids,u0 as YTMusic,vp as YTNodes,tme as default};
//# sourceMappingURL=browser.min.js.map
